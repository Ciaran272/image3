function Vt(me,se){for(var Ee=0;Ee<se.length;Ee++){const M=se[Ee];if(typeof M!="string"&&!Array.isArray(M)){for(const H in M)if(H!=="default"&&!(H in me)){const y=Object.getOwnPropertyDescriptor(M,H);y&&Object.defineProperty(me,H,y.get?y:{enumerable:!0,get:()=>M[H]})}}}return Object.freeze(Object.defineProperty(me,Symbol.toStringTag,{value:"Module"}))}var Ue=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qt(me){return me&&me.__esModule&&Object.prototype.hasOwnProperty.call(me,"default")?me.default:me}function Kt(me){if(me.__esModule)return me;var se=me.default;if(typeof se=="function"){var Ee=function M(){return this instanceof M?Reflect.construct(se,arguments,this.constructor):se.apply(this,arguments)};Ee.prototype=se.prototype}else Ee={};return Object.defineProperty(Ee,"__esModule",{value:!0}),Object.keys(me).forEach(function(M){var H=Object.getOwnPropertyDescriptor(me,M);Object.defineProperty(Ee,M,H.get?H:{enumerable:!0,get:function(){return me[M]}})}),Ee}var zt={exports:{}},Ft={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(me){function se(O,k){var G=O.length;O.push(k);e:for(;0<G;){var J=G-1>>>1,$=O[J];if(0<H($,k))O[J]=k,O[G]=$,G=J;else break e}}function Ee(O){return O.length===0?null:O[0]}function M(O){if(O.length===0)return null;var k=O[0],G=O.pop();if(G!==k){O[0]=G;e:for(var J=0,$=O.length,ee=$>>>1;J<ee;){var j=2*(J+1)-1,Y=O[j],W=j+1,Q=O[W];if(0>H(Y,G))W<$&&0>H(Q,Y)?(O[J]=Q,O[W]=G,J=W):(O[J]=Y,O[j]=G,J=j);else if(W<$&&0>H(Q,G))O[J]=Q,O[W]=G,J=W;else break e}}return k}function H(O,k){var G=O.sortIndex-k.sortIndex;return G!==0?G:O.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var y=performance;me.unstable_now=function(){return y.now()}}else{var E=Date,m=E.now();me.unstable_now=function(){return E.now()-m}}var u=[],c=[],o=1,n=null,r=3,t=!1,e=!1,s=!1,l=typeof setTimeout=="function"?setTimeout:null,a=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function i(O){for(var k=Ee(c);k!==null;){if(k.callback===null)M(c);else if(k.startTime<=O)M(c),k.sortIndex=k.expirationTime,se(u,k);else break;k=Ee(c)}}function h(O){if(s=!1,i(O),!e)if(Ee(u)!==null)e=!0,F(d);else{var k=Ee(c);k!==null&&D(h,k.startTime-O)}}function d(O,k){e=!1,s&&(s=!1,a(g),g=-1),t=!0;var G=r;try{for(i(k),n=Ee(u);n!==null&&(!(n.expirationTime>k)||O&&!A());){var J=n.callback;if(typeof J=="function"){n.callback=null,r=n.priorityLevel;var $=J(n.expirationTime<=k);k=me.unstable_now(),typeof $=="function"?n.callback=$:n===Ee(u)&&M(u),i(k)}else M(u);n=Ee(u)}if(n!==null)var ee=!0;else{var j=Ee(c);j!==null&&D(h,j.startTime-k),ee=!1}return ee}finally{n=null,r=G,t=!1}}var p=!1,_=null,g=-1,b=5,w=-1;function A(){return!(me.unstable_now()-w<b)}function R(){if(_!==null){var O=me.unstable_now();w=O;var k=!0;try{k=_(!0,O)}finally{k?B():(p=!1,_=null)}}else p=!1}var B;if(typeof f=="function")B=function(){f(R)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,z=T.port2;T.port1.onmessage=R,B=function(){z.postMessage(null)}}else B=function(){l(R,0)};function F(O){_=O,p||(p=!0,B())}function D(O,k){g=l(function(){O(me.unstable_now())},k)}me.unstable_IdlePriority=5,me.unstable_ImmediatePriority=1,me.unstable_LowPriority=4,me.unstable_NormalPriority=3,me.unstable_Profiling=null,me.unstable_UserBlockingPriority=2,me.unstable_cancelCallback=function(O){O.callback=null},me.unstable_continueExecution=function(){e||t||(e=!0,F(d))},me.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<O?Math.floor(1e3/O):5},me.unstable_getCurrentPriorityLevel=function(){return r},me.unstable_getFirstCallbackNode=function(){return Ee(u)},me.unstable_next=function(O){switch(r){case 1:case 2:case 3:var k=3;break;default:k=r}var G=r;r=k;try{return O()}finally{r=G}},me.unstable_pauseExecution=function(){},me.unstable_requestPaint=function(){},me.unstable_runWithPriority=function(O,k){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var G=r;r=O;try{return k()}finally{r=G}},me.unstable_scheduleCallback=function(O,k,G){var J=me.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?J+G:J):G=J,O){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=G+$,O={id:o++,callback:k,priorityLevel:O,startTime:G,expirationTime:$,sortIndex:-1},G>J?(O.sortIndex=G,se(c,O),Ee(u)===null&&O===Ee(c)&&(s?(a(g),g=-1):s=!0,D(h,G-J))):(O.sortIndex=$,se(u,O),e||t||(e=!0,F(d))),O},me.unstable_shouldYield=A,me.unstable_wrapCallback=function(O){var k=r;return function(){var G=r;r=k;try{return O.apply(this,arguments)}finally{r=G}}}})(Ft);zt.exports=Ft;var mr=zt.exports;function Lt(){return Lt=Object.assign?Object.assign.bind():function(me){for(var se=1;se<arguments.length;se++){var Ee=arguments[se];for(var M in Ee)({}).hasOwnProperty.call(Ee,M)&&(me[M]=Ee[M])}return me},Lt.apply(null,arguments)}function _r(me,se){if(me==null)return{};var Ee={};for(var M in me)if({}.hasOwnProperty.call(me,M)){if(se.indexOf(M)!==-1)continue;Ee[M]=me[M]}return Ee}function mt(me,se){return mt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ee,M){return Ee.__proto__=M,Ee},mt(me,se)}function gr(me,se){me.prototype=Object.create(se.prototype),me.prototype.constructor=me,mt(me,se)}function Jt(me,se){return me.classList?!!se&&me.classList.contains(se):(" "+(me.className.baseVal||me.className)+" ").indexOf(" "+se+" ")!==-1}function br(me,se){me.classList?me.classList.add(se):Jt(me,se)||(typeof me.className=="string"?me.className=me.className+" "+se:me.setAttribute("class",(me.className&&me.className.baseVal||"")+" "+se))}function It(me,se){return me.replace(new RegExp("(^|\\s)"+se+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function wr(me,se){me.classList?me.classList.remove(se):typeof me.className=="string"?me.className=It(me.className,se):me.setAttribute("class",It(me.className&&me.className.baseVal||"",se))}function yr(me){if(me===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return me}function Ut(me){var se,Ee,M="";if(typeof me=="string"||typeof me=="number")M+=me;else if(typeof me=="object")if(Array.isArray(me)){var H=me.length;for(se=0;se<H;se++)me[se]&&(Ee=Ut(me[se]))&&(M&&(M+=" "),M+=Ee)}else for(Ee in me)me[Ee]&&(M&&(M+=" "),M+=Ee);return M}function Er(){for(var me,se,Ee=0,M="",H=arguments.length;Ee<H;Ee++)(me=arguments[Ee])&&(se=Ut(me))&&(M&&(M+=" "),M+=se);return M}function pt(me){throw new Error('Could not dynamically require "'+me+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var jt={exports:{}};(function(me,se){if((typeof Ee>"u"||!Ee)&&typeof self<"u")var Ee=self;(function(M){me.exports=M()})(function(){return function(){function M(H,y,E){function m(o,n){if(!y[o]){if(!H[o]){var r=typeof pt=="function"&&pt;if(!n&&r)return r(o,!0);if(u)return u(o,!0);var t=new Error("Cannot find module '"+o+"'");throw t.code="MODULE_NOT_FOUND",t}var e=y[o]={exports:{}};H[o][0].call(e.exports,function(s){var l=H[o][1][s];return m(l||s)},e,e.exports,M,H,y,E)}return y[o].exports}for(var u=typeof pt=="function"&&pt,c=0;c<E.length;c++)m(E[c]);return m}return M}()({1:[function(M,H,y){function E(m){if(Array.isArray(m))return m}H.exports=E},{}],2:[function(M,H,y){function E(m){if(Array.isArray(m)){for(var u=0,c=new Array(m.length);u<m.length;u++)c[u]=m[u];return c}}H.exports=E},{}],3:[function(M,H,y){function E(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}H.exports=E},{}],4:[function(M,H,y){function E(m,u){if(!(m instanceof u))throw new TypeError("Cannot call a class as a function")}H.exports=E},{}],5:[function(M,H,y){var E=M("./setPrototypeOf");function m(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function u(c,o,n){return m()?H.exports=u=Reflect.construct:H.exports=u=function(t,e,s){var l=[null];l.push.apply(l,e);var a=Function.bind.apply(t,l),f=new a;return s&&E(f,s.prototype),f},u.apply(null,arguments)}H.exports=u},{"./setPrototypeOf":18}],6:[function(M,H,y){function E(u,c){for(var o=0;o<c.length;o++){var n=c[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(u,n.key,n)}}function m(u,c,o){return c&&E(u.prototype,c),o&&E(u,o),u}H.exports=m},{}],7:[function(M,H,y){function E(m,u,c){return u in m?Object.defineProperty(m,u,{value:c,enumerable:!0,configurable:!0,writable:!0}):m[u]=c,m}H.exports=E},{}],8:[function(M,H,y){function E(){return H.exports=E=Object.assign||function(m){for(var u=1;u<arguments.length;u++){var c=arguments[u];for(var o in c)Object.prototype.hasOwnProperty.call(c,o)&&(m[o]=c[o])}return m},E.apply(this,arguments)}H.exports=E},{}],9:[function(M,H,y){function E(m){return H.exports=E=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)},E(m)}H.exports=E},{}],10:[function(M,H,y){var E=M("./setPrototypeOf");function m(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(c&&c.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),c&&E(u,c)}H.exports=m},{"./setPrototypeOf":18}],11:[function(M,H,y){function E(m){return m&&m.__esModule?m:{default:m}}H.exports=E},{}],12:[function(M,H,y){var E=M("../helpers/typeof");function m(){if(typeof WeakMap!="function")return null;var c=new WeakMap;return m=function(){return c},c}function u(c){if(c&&c.__esModule)return c;if(c===null||E(c)!=="object"&&typeof c!="function")return{default:c};var o=m();if(o&&o.has(c))return o.get(c);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var t in c)if(Object.prototype.hasOwnProperty.call(c,t)){var e=r?Object.getOwnPropertyDescriptor(c,t):null;e&&(e.get||e.set)?Object.defineProperty(n,t,e):n[t]=c[t]}return n.default=c,o&&o.set(c,n),n}H.exports=u},{"../helpers/typeof":21}],13:[function(M,H,y){function E(m){if(Symbol.iterator in Object(m)||Object.prototype.toString.call(m)==="[object Arguments]")return Array.from(m)}H.exports=E},{}],14:[function(M,H,y){function E(m,u){if(Symbol.iterator in Object(m)||Object.prototype.toString.call(m)==="[object Arguments]"){var c=[],o=!0,n=!1,r=void 0;try{for(var t=m[Symbol.iterator](),e;!(o=(e=t.next()).done)&&(c.push(e.value),!(u&&c.length===u));o=!0);}catch(s){n=!0,r=s}finally{try{!o&&t.return!=null&&t.return()}finally{if(n)throw r}}return c}}H.exports=E},{}],15:[function(M,H,y){function E(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}H.exports=E},{}],16:[function(M,H,y){function E(){throw new TypeError("Invalid attempt to spread non-iterable instance")}H.exports=E},{}],17:[function(M,H,y){var E=M("../helpers/typeof"),m=M("./assertThisInitialized");function u(c,o){return o&&(E(o)==="object"||typeof o=="function")?o:m(c)}H.exports=u},{"../helpers/typeof":21,"./assertThisInitialized":3}],18:[function(M,H,y){function E(m,u){return H.exports=E=Object.setPrototypeOf||function(o,n){return o.__proto__=n,o},E(m,u)}H.exports=E},{}],19:[function(M,H,y){var E=M("./arrayWithHoles"),m=M("./iterableToArrayLimit"),u=M("./nonIterableRest");function c(o,n){return E(o)||m(o,n)||u()}H.exports=c},{"./arrayWithHoles":1,"./iterableToArrayLimit":14,"./nonIterableRest":15}],20:[function(M,H,y){var E=M("./arrayWithoutHoles"),m=M("./iterableToArray"),u=M("./nonIterableSpread");function c(o){return E(o)||m(o)||u()}H.exports=c},{"./arrayWithoutHoles":2,"./iterableToArray":13,"./nonIterableSpread":16}],21:[function(M,H,y){function E(u){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?E=function(o){return typeof o}:E=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},E(u)}function m(u){return typeof Symbol=="function"&&E(Symbol.iterator)==="symbol"?H.exports=m=function(o){return E(o)}:H.exports=m=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":E(o)},m(u)}H.exports=m},{}],22:[function(M,H,y){H.exports=M("regenerator-runtime")},{"regenerator-runtime":153}],23:[function(M,H,y){var E=M("./src/converter");function m(u,c){var o=new E(u,c);return function(n){return o.convert(n)}}m.BIN="01",m.OCT="01234567",m.DEC="0123456789",m.HEX="0123456789abcdef",H.exports=m},{"./src/converter":24}],24:[function(M,H,y){function E(m,u){if(!m||!u||!m.length||!u.length)throw new Error("Bad alphabet");this.srcAlphabet=m,this.dstAlphabet=u}E.prototype.convert=function(m){var u,c,o,n={},r=this.srcAlphabet.length,t=this.dstAlphabet.length,e=m.length,s=typeof m=="string"?"":[];if(!this.isValid(m))throw new Error('Number "'+m+'" contains of non-alphabetic digits ('+this.srcAlphabet+")");if(this.srcAlphabet===this.dstAlphabet)return m;for(u=0;u<e;u++)n[u]=this.srcAlphabet.indexOf(m[u]);do{for(c=0,o=0,u=0;u<e;u++)c=c*r+n[u],c>=t?(n[o++]=parseInt(c/t,10),c=c%t):o>0&&(n[o++]=0);e=o,s=this.dstAlphabet.slice(c,c+1).concat(s)}while(o!==0);return s},E.prototype.isValid=function(m){for(var u=0;u<m.length;++u)if(this.srcAlphabet.indexOf(m[u])===-1)return!1;return!0},H.exports=E},{}],25:[function(M,H,y){(function(E){var m=M("object-assign");/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function u(D,O){if(D===O)return 0;for(var k=D.length,G=O.length,J=0,$=Math.min(k,G);J<$;++J)if(D[J]!==O[J]){k=D[J],G=O[J];break}return k<G?-1:G<k?1:0}function c(D){return E.Buffer&&typeof E.Buffer.isBuffer=="function"?E.Buffer.isBuffer(D):!!(D!=null&&D._isBuffer)}var o=M("util/"),n=Object.prototype.hasOwnProperty,r=Array.prototype.slice,t=function(){return(function(){}).name==="foo"}();function e(D){return Object.prototype.toString.call(D)}function s(D){return c(D)||typeof E.ArrayBuffer!="function"?!1:typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(D):D?!!(D instanceof DataView||D.buffer&&D.buffer instanceof ArrayBuffer):!1}var l=H.exports=_,a=/\s*function\s+([^\(\s]*)\s*/;function f(D){if(o.isFunction(D)){if(t)return D.name;var O=D.toString(),k=O.match(a);return k&&k[1]}}l.AssertionError=function(O){this.name="AssertionError",this.actual=O.actual,this.expected=O.expected,this.operator=O.operator,O.message?(this.message=O.message,this.generatedMessage=!1):(this.message=d(this),this.generatedMessage=!0);var k=O.stackStartFunction||p;if(Error.captureStackTrace)Error.captureStackTrace(this,k);else{var G=new Error;if(G.stack){var J=G.stack,$=f(k),ee=J.indexOf(`
`+$);if(ee>=0){var j=J.indexOf(`
`,ee+1);J=J.substring(j+1)}this.stack=J}}},o.inherits(l.AssertionError,Error);function i(D,O){return typeof D=="string"?D.length<O?D:D.slice(0,O):D}function h(D){if(t||!o.isFunction(D))return o.inspect(D);var O=f(D),k=O?": "+O:"";return"[Function"+k+"]"}function d(D){return i(h(D.actual),128)+" "+D.operator+" "+i(h(D.expected),128)}function p(D,O,k,G,J){throw new l.AssertionError({message:k,actual:D,expected:O,operator:G,stackStartFunction:J})}l.fail=p;function _(D,O){D||p(D,!0,O,"==",l.ok)}l.ok=_,l.equal=function(O,k,G){O!=k&&p(O,k,G,"==",l.equal)},l.notEqual=function(O,k,G){O==k&&p(O,k,G,"!=",l.notEqual)},l.deepEqual=function(O,k,G){g(O,k,!1)||p(O,k,G,"deepEqual",l.deepEqual)},l.deepStrictEqual=function(O,k,G){g(O,k,!0)||p(O,k,G,"deepStrictEqual",l.deepStrictEqual)};function g(D,O,k,G){if(D===O)return!0;if(c(D)&&c(O))return u(D,O)===0;if(o.isDate(D)&&o.isDate(O))return D.getTime()===O.getTime();if(o.isRegExp(D)&&o.isRegExp(O))return D.source===O.source&&D.global===O.global&&D.multiline===O.multiline&&D.lastIndex===O.lastIndex&&D.ignoreCase===O.ignoreCase;if((D===null||typeof D!="object")&&(O===null||typeof O!="object"))return k?D===O:D==O;if(s(D)&&s(O)&&e(D)===e(O)&&!(D instanceof Float32Array||D instanceof Float64Array))return u(new Uint8Array(D.buffer),new Uint8Array(O.buffer))===0;if(c(D)!==c(O))return!1;G=G||{actual:[],expected:[]};var J=G.actual.indexOf(D);return J!==-1&&J===G.expected.indexOf(O)?!0:(G.actual.push(D),G.expected.push(O),w(D,O,k,G))}function b(D){return Object.prototype.toString.call(D)=="[object Arguments]"}function w(D,O,k,G){if(D==null||O===null||O===void 0)return!1;if(o.isPrimitive(D)||o.isPrimitive(O))return D===O;if(k&&Object.getPrototypeOf(D)!==Object.getPrototypeOf(O))return!1;var J=b(D),$=b(O);if(J&&!$||!J&&$)return!1;if(J)return D=r.call(D),O=r.call(O),g(D,O,k);var ee=F(D),j=F(O),Y,W;if(ee.length!==j.length)return!1;for(ee.sort(),j.sort(),W=ee.length-1;W>=0;W--)if(ee[W]!==j[W])return!1;for(W=ee.length-1;W>=0;W--)if(Y=ee[W],!g(D[Y],O[Y],k,G))return!1;return!0}l.notDeepEqual=function(O,k,G){g(O,k,!1)&&p(O,k,G,"notDeepEqual",l.notDeepEqual)},l.notDeepStrictEqual=A;function A(D,O,k){g(D,O,!0)&&p(D,O,k,"notDeepStrictEqual",A)}l.strictEqual=function(O,k,G){O!==k&&p(O,k,G,"===",l.strictEqual)},l.notStrictEqual=function(O,k,G){O===k&&p(O,k,G,"!==",l.notStrictEqual)};function R(D,O){if(!D||!O)return!1;if(Object.prototype.toString.call(O)=="[object RegExp]")return O.test(D);try{if(D instanceof O)return!0}catch{}return Error.isPrototypeOf(O)?!1:O.call({},D)===!0}function B(D){var O;try{D()}catch(k){O=k}return O}function T(D,O,k,G){var J;if(typeof O!="function")throw new TypeError('"block" argument must be a function');typeof k=="string"&&(G=k,k=null),J=B(O),G=(k&&k.name?" ("+k.name+").":".")+(G?" "+G:"."),D&&!J&&p(J,k,"Missing expected exception"+G);var $=typeof G=="string",ee=!D&&o.isError(J),j=!D&&J&&!k;if((ee&&$&&R(J,k)||j)&&p(J,k,"Got unwanted exception"+G),D&&J&&k&&!R(J,k)||!D&&J)throw J}l.throws=function(D,O,k){T(!0,D,O,k)},l.doesNotThrow=function(D,O,k){T(!1,D,O,k)},l.ifError=function(D){if(D)throw D};function z(D,O){D||p(D,!0,O,"==",z)}l.strict=m(z,l,{equal:l.strictEqual,deepEqual:l.deepStrictEqual,notEqual:l.notStrictEqual,notDeepEqual:l.notDeepStrictEqual}),l.strict.strict=l.strict;var F=Object.keys||function(D){var O=[];for(var k in D)n.call(D,k)&&O.push(k);return O}}).call(this,typeof Ue<"u"?Ue:typeof self<"u"?self:typeof Ee<"u"?Ee:{})},{"object-assign":84,"util/":28}],26:[function(M,H,y){typeof Object.create=="function"?H.exports=function(m,u){m.super_=u,m.prototype=Object.create(u.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}})}:H.exports=function(m,u){m.super_=u;var c=function(){};c.prototype=u.prototype,m.prototype=new c,m.prototype.constructor=m}},{}],27:[function(M,H,y){H.exports=function(m){return m&&typeof m=="object"&&typeof m.copy=="function"&&typeof m.fill=="function"&&typeof m.readUInt8=="function"}},{}],28:[function(M,H,y){(function(E,m){var u=/%[sdj%]/g;y.format=function(j){if(!w(j)){for(var Y=[],W=0;W<arguments.length;W++)Y.push(n(arguments[W]));return Y.join(" ")}for(var W=1,Q=arguments,re=Q.length,ue=String(j).replace(u,function(he){if(he==="%%")return"%";if(W>=re)return he;switch(he){case"%s":return String(Q[W++]);case"%d":return Number(Q[W++]);case"%j":try{return JSON.stringify(Q[W++])}catch{return"[Circular]"}default:return he}}),le=Q[W];W<re;le=Q[++W])_(le)||!T(le)?ue+=" "+le:ue+=" "+n(le);return ue},y.deprecate=function(j,Y){if(R(m.process))return function(){return y.deprecate(j,Y).apply(this,arguments)};if(E.noDeprecation===!0)return j;var W=!1;function Q(){if(!W){if(E.throwDeprecation)throw new Error(Y);E.traceDeprecation?console.trace(Y):console.error(Y),W=!0}return j.apply(this,arguments)}return Q};var c={},o;y.debuglog=function(j){if(R(o)&&(o=E.env.NODE_DEBUG||""),j=j.toUpperCase(),!c[j])if(new RegExp("\\b"+j+"\\b","i").test(o)){var Y=E.pid;c[j]=function(){var W=y.format.apply(y,arguments);console.error("%s %d: %s",j,Y,W)}}else c[j]=function(){};return c[j]};function n(j,Y){var W={seen:[],stylize:t};return arguments.length>=3&&(W.depth=arguments[2]),arguments.length>=4&&(W.colors=arguments[3]),p(Y)?W.showHidden=Y:Y&&y._extend(W,Y),R(W.showHidden)&&(W.showHidden=!1),R(W.depth)&&(W.depth=2),R(W.colors)&&(W.colors=!1),R(W.customInspect)&&(W.customInspect=!0),W.colors&&(W.stylize=r),s(W,j,W.depth)}y.inspect=n,n.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},n.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function r(j,Y){var W=n.styles[Y];return W?"\x1B["+n.colors[W][0]+"m"+j+"\x1B["+n.colors[W][1]+"m":j}function t(j,Y){return j}function e(j){var Y={};return j.forEach(function(W,Q){Y[W]=!0}),Y}function s(j,Y,W){if(j.customInspect&&Y&&D(Y.inspect)&&Y.inspect!==y.inspect&&!(Y.constructor&&Y.constructor.prototype===Y)){var Q=Y.inspect(W,j);return w(Q)||(Q=s(j,Q,W)),Q}var re=l(j,Y);if(re)return re;var ue=Object.keys(Y),le=e(ue);if(j.showHidden&&(ue=Object.getOwnPropertyNames(Y)),F(Y)&&(ue.indexOf("message")>=0||ue.indexOf("description")>=0))return a(Y);if(ue.length===0){if(D(Y)){var he=Y.name?": "+Y.name:"";return j.stylize("[Function"+he+"]","special")}if(B(Y))return j.stylize(RegExp.prototype.toString.call(Y),"regexp");if(z(Y))return j.stylize(Date.prototype.toString.call(Y),"date");if(F(Y))return a(Y)}var ge="",ie=!1,ae=["{","}"];if(d(Y)&&(ie=!0,ae=["[","]"]),D(Y)){var V=Y.name?": "+Y.name:"";ge=" [Function"+V+"]"}if(B(Y)&&(ge=" "+RegExp.prototype.toString.call(Y)),z(Y)&&(ge=" "+Date.prototype.toUTCString.call(Y)),F(Y)&&(ge=" "+a(Y)),ue.length===0&&(!ie||Y.length==0))return ae[0]+ge+ae[1];if(W<0)return B(Y)?j.stylize(RegExp.prototype.toString.call(Y),"regexp"):j.stylize("[Object]","special");j.seen.push(Y);var q;return ie?q=f(j,Y,W,le,ue):q=ue.map(function(te){return i(j,Y,W,le,te,ie)}),j.seen.pop(),h(q,ge,ae)}function l(j,Y){if(R(Y))return j.stylize("undefined","undefined");if(w(Y)){var W="'"+JSON.stringify(Y).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return j.stylize(W,"string")}if(b(Y))return j.stylize(""+Y,"number");if(p(Y))return j.stylize(""+Y,"boolean");if(_(Y))return j.stylize("null","null")}function a(j){return"["+Error.prototype.toString.call(j)+"]"}function f(j,Y,W,Q,re){for(var ue=[],le=0,he=Y.length;le<he;++le)ee(Y,String(le))?ue.push(i(j,Y,W,Q,String(le),!0)):ue.push("");return re.forEach(function(ge){ge.match(/^\d+$/)||ue.push(i(j,Y,W,Q,ge,!0))}),ue}function i(j,Y,W,Q,re,ue){var le,he,ge;if(ge=Object.getOwnPropertyDescriptor(Y,re)||{value:Y[re]},ge.get?ge.set?he=j.stylize("[Getter/Setter]","special"):he=j.stylize("[Getter]","special"):ge.set&&(he=j.stylize("[Setter]","special")),ee(Q,re)||(le="["+re+"]"),he||(j.seen.indexOf(ge.value)<0?(_(W)?he=s(j,ge.value,null):he=s(j,ge.value,W-1),he.indexOf(`
`)>-1&&(ue?he=he.split(`
`).map(function(ie){return"  "+ie}).join(`
`).substr(2):he=`
`+he.split(`
`).map(function(ie){return"   "+ie}).join(`
`))):he=j.stylize("[Circular]","special")),R(le)){if(ue&&re.match(/^\d+$/))return he;le=JSON.stringify(""+re),le.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(le=le.substr(1,le.length-2),le=j.stylize(le,"name")):(le=le.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),le=j.stylize(le,"string"))}return le+": "+he}function h(j,Y,W){var Q=j.reduce(function(re,ue){return ue.indexOf(`
`)>=0,re+ue.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Q>60?W[0]+(Y===""?"":Y+`
 `)+" "+j.join(`,
  `)+" "+W[1]:W[0]+Y+" "+j.join(", ")+" "+W[1]}function d(j){return Array.isArray(j)}y.isArray=d;function p(j){return typeof j=="boolean"}y.isBoolean=p;function _(j){return j===null}y.isNull=_;function g(j){return j==null}y.isNullOrUndefined=g;function b(j){return typeof j=="number"}y.isNumber=b;function w(j){return typeof j=="string"}y.isString=w;function A(j){return typeof j=="symbol"}y.isSymbol=A;function R(j){return j===void 0}y.isUndefined=R;function B(j){return T(j)&&k(j)==="[object RegExp]"}y.isRegExp=B;function T(j){return typeof j=="object"&&j!==null}y.isObject=T;function z(j){return T(j)&&k(j)==="[object Date]"}y.isDate=z;function F(j){return T(j)&&(k(j)==="[object Error]"||j instanceof Error)}y.isError=F;function D(j){return typeof j=="function"}y.isFunction=D;function O(j){return j===null||typeof j=="boolean"||typeof j=="number"||typeof j=="string"||typeof j=="symbol"||typeof j>"u"}y.isPrimitive=O,y.isBuffer=M("./support/isBuffer");function k(j){return Object.prototype.toString.call(j)}function G(j){return j<10?"0"+j.toString(10):j.toString(10)}var J=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function $(){var j=new Date,Y=[G(j.getHours()),G(j.getMinutes()),G(j.getSeconds())].join(":");return[j.getDate(),J[j.getMonth()],Y].join(" ")}y.log=function(){console.log("%s - %s",$(),y.format.apply(y,arguments))},y.inherits=M("inherits"),y._extend=function(j,Y){if(!Y||!T(Y))return j;for(var W=Object.keys(Y),Q=W.length;Q--;)j[W[Q]]=Y[W[Q]];return j};function ee(j,Y){return Object.prototype.hasOwnProperty.call(j,Y)}}).call(this,M("_process"),typeof Ue<"u"?Ue:typeof self<"u"?self:typeof Ee<"u"?Ee:{})},{"./support/isBuffer":27,_process:133,inherits:26}],29:[function(M,H,y){y.byteLength=t,y.toByteArray=s,y.fromByteArray=f;for(var E=[],m=[],u=typeof Uint8Array<"u"?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,n=c.length;o<n;++o)E[o]=c[o],m[c.charCodeAt(o)]=o;m[45]=62,m[95]=63;function r(i){var h=i.length;if(h%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var d=i.indexOf("=");d===-1&&(d=h);var p=d===h?0:4-d%4;return[d,p]}function t(i){var h=r(i),d=h[0],p=h[1];return(d+p)*3/4-p}function e(i,h,d){return(h+d)*3/4-d}function s(i){var h,d=r(i),p=d[0],_=d[1],g=new u(e(i,p,_)),b=0,w=_>0?p-4:p,A;for(A=0;A<w;A+=4)h=m[i.charCodeAt(A)]<<18|m[i.charCodeAt(A+1)]<<12|m[i.charCodeAt(A+2)]<<6|m[i.charCodeAt(A+3)],g[b++]=h>>16&255,g[b++]=h>>8&255,g[b++]=h&255;return _===2&&(h=m[i.charCodeAt(A)]<<2|m[i.charCodeAt(A+1)]>>4,g[b++]=h&255),_===1&&(h=m[i.charCodeAt(A)]<<10|m[i.charCodeAt(A+1)]<<4|m[i.charCodeAt(A+2)]>>2,g[b++]=h>>8&255,g[b++]=h&255),g}function l(i){return E[i>>18&63]+E[i>>12&63]+E[i>>6&63]+E[i&63]}function a(i,h,d){for(var p,_=[],g=h;g<d;g+=3)p=(i[g]<<16&16711680)+(i[g+1]<<8&65280)+(i[g+2]&255),_.push(l(p));return _.join("")}function f(i){for(var h,d=i.length,p=d%3,_=[],g=16383,b=0,w=d-p;b<w;b+=g)_.push(a(i,b,b+g>w?w:b+g));return p===1?(h=i[d-1],_.push(E[h>>2]+E[h<<4&63]+"==")):p===2&&(h=(i[d-2]<<8)+i[d-1],_.push(E[h>>10]+E[h>>4&63]+E[h<<2&63]+"=")),_.join("")}},{}],30:[function(M,H,y){var E=M("./lib/encoder"),m=M("./lib/decoder");H.exports={encode:E,decode:m}},{"./lib/decoder":31,"./lib/encoder":32}],31:[function(M,H,y){(function(E){function m(u,c){if(this.pos=0,this.buffer=u,this.is_with_alpha=!!c,this.bottom_up=!0,this.flag=this.buffer.toString("utf-8",0,this.pos+=2),this.flag!="BM")throw new Error("Invalid BMP File");this.parseHeader(),this.parseRGBA()}m.prototype.parseHeader=function(){if(this.fileSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.reserved=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.offset=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.headerSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.width=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.height=this.buffer.readInt32LE(this.pos),this.pos+=4,this.planes=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.bitPP=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.compress=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.rawSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.hr=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.vr=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.colors=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.importantColors=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var u=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(u);for(var c=0;c<u;c++){var o=this.buffer.readUInt8(this.pos++),n=this.buffer.readUInt8(this.pos++),r=this.buffer.readUInt8(this.pos++),t=this.buffer.readUInt8(this.pos++);this.palette[c]={red:r,green:n,blue:o,quad:t}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},m.prototype.parseRGBA=function(){var u="bit"+this.bitPP,c=this.width*this.height*4;this.data=new E(c),this[u]()},m.prototype.bit1=function(){for(var u=Math.ceil(this.width/8),c=u%4,o=this.height>=0?this.height-1:-this.height,o=this.height-1;o>=0;o--){for(var n=this.bottom_up?o:this.height-1-o,r=0;r<u;r++)for(var t=this.buffer.readUInt8(this.pos++),e=n*this.width*4+r*8*4,s=0;s<8&&r*8+s<this.width;s++){var l=this.palette[t>>7-s&1];this.data[e+s*4]=0,this.data[e+s*4+1]=l.blue,this.data[e+s*4+2]=l.green,this.data[e+s*4+3]=l.red}c!=0&&(this.pos+=4-c)}},m.prototype.bit4=function(){if(this.compress==2){let _=function(g){var b=this.palette[g];this.data[u]=0,this.data[u+1]=b.blue,this.data[u+2]=b.green,this.data[u+3]=b.red,u+=4};this.data.fill(255);for(var u=0,c=this.bottom_up?this.height-1:0,o=!1;u<this.data.length;){var n=this.buffer.readUInt8(this.pos++),r=this.buffer.readUInt8(this.pos++);if(n==0)if(r==0){this.bottom_up?c--:c++,u=c*this.width*4,o=!1;continue}else{if(r==1)break;if(r==2){var t=this.buffer.readUInt8(this.pos++),e=this.buffer.readUInt8(this.pos++);this.bottom_up?c-=e:c+=e,u+=e*this.width*4+t*4}else{for(var s=this.buffer.readUInt8(this.pos++),l=0;l<r;l++)o?_.call(this,s&15):_.call(this,(s&240)>>4),l&1&&l+1<r&&(s=this.buffer.readUInt8(this.pos++)),o=!o;(r+1>>1&1)==1&&this.pos++}}else for(var l=0;l<n;l++)o?_.call(this,r&15):_.call(this,(r&240)>>4),o=!o}}else for(var a=Math.ceil(this.width/2),f=a%4,e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,t=0;t<a;t++){var r=this.buffer.readUInt8(this.pos++),u=i*this.width*4+t*2*4,h=r>>4,d=r&15,p=this.palette[h];if(this.data[u]=0,this.data[u+1]=p.blue,this.data[u+2]=p.green,this.data[u+3]=p.red,t*2+1>=this.width)break;p=this.palette[d],this.data[u+4]=0,this.data[u+4+1]=p.blue,this.data[u+4+2]=p.green,this.data[u+4+3]=p.red}f!=0&&(this.pos+=4-f)}},m.prototype.bit8=function(){if(this.compress==1){let i=function(h){var d=this.palette[h];this.data[u]=0,this.data[u+1]=d.blue,this.data[u+2]=d.green,this.data[u+3]=d.red,u+=4};this.data.fill(255);for(var u=0,c=this.bottom_up?this.height-1:0;u<this.data.length;){var o=this.buffer.readUInt8(this.pos++),n=this.buffer.readUInt8(this.pos++);if(o==0)if(n==0){this.bottom_up?c--:c++,u=c*this.width*4;continue}else{if(n==1)break;if(n==2){var r=this.buffer.readUInt8(this.pos++),t=this.buffer.readUInt8(this.pos++);this.bottom_up?c-=t:c+=t,u+=t*this.width*4+r*4}else{for(var e=0;e<n;e++){var s=this.buffer.readUInt8(this.pos++);i.call(this,s)}n&!0&&this.pos++}}else for(var e=0;e<o;e++)i.call(this,n)}}else for(var l=this.width%4,t=this.height-1;t>=0;t--){for(var a=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.buffer.readUInt8(this.pos++),u=a*this.width*4+r*4;if(n<this.palette.length){var f=this.palette[n];this.data[u]=0,this.data[u+1]=f.blue,this.data[u+2]=f.green,this.data[u+3]=f.red}else this.data[u]=0,this.data[u+1]=255,this.data[u+2]=255,this.data[u+3]=255}l!=0&&(this.pos+=4-l)}},m.prototype.bit15=function(){for(var u=this.width%3,c=parseInt("11111",2),o=c,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var e=this.buffer.readUInt16LE(this.pos);this.pos+=2;var s=(e&o)/o*255|0,l=(e>>5&o)/o*255|0,a=(e>>10&o)/o*255|0,f=e>>15?255:0,i=r*this.width*4+t*4;this.data[i]=f,this.data[i+1]=s,this.data[i+2]=l,this.data[i+3]=a}this.pos+=u}},m.prototype.bit16=function(){var u=this.width%2*2;this.maskRed=31744,this.maskGreen=992,this.maskBlue=31,this.mask0=0,this.compress==3&&(this.maskRed=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskGreen=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskBlue=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.mask0=this.buffer.readUInt32LE(this.pos),this.pos+=4);for(var c=[0,0,0],o=0;o<16;o++)this.maskRed>>o&1&&c[0]++,this.maskGreen>>o&1&&c[1]++,this.maskBlue>>o&1&&c[2]++;c[1]+=c[0],c[2]+=c[1],c[0]=8-c[0],c[1]-=8,c[2]-=8;for(var n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var e=this.buffer.readUInt16LE(this.pos);this.pos+=2;var s=(e&this.maskBlue)<<c[0],l=(e&this.maskGreen)>>c[1],a=(e&this.maskRed)>>c[2],f=r*this.width*4+t*4;this.data[f]=0,this.data[f+1]=s,this.data[f+2]=l,this.data[f+3]=a}this.pos+=u}},m.prototype.bit24=function(){for(var u=this.height-1;u>=0;u--){for(var c=this.bottom_up?u:this.height-1-u,o=0;o<this.width;o++){var n=this.buffer.readUInt8(this.pos++),r=this.buffer.readUInt8(this.pos++),t=this.buffer.readUInt8(this.pos++),e=c*this.width*4+o*4;this.data[e]=0,this.data[e+1]=n,this.data[e+2]=r,this.data[e+3]=t}this.pos+=this.width%4}},m.prototype.bit32=function(){if(this.compress==3){this.maskRed=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskGreen=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskBlue=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.mask0=this.buffer.readUInt32LE(this.pos),this.pos+=4;for(var u=this.height-1;u>=0;u--)for(var c=this.bottom_up?u:this.height-1-u,o=0;o<this.width;o++){var n=this.buffer.readUInt8(this.pos++),r=this.buffer.readUInt8(this.pos++),t=this.buffer.readUInt8(this.pos++),e=this.buffer.readUInt8(this.pos++),s=c*this.width*4+o*4;this.data[s]=n,this.data[s+1]=r,this.data[s+2]=t,this.data[s+3]=e}}else for(var u=this.height-1;u>=0;u--)for(var c=this.bottom_up?u:this.height-1-u,o=0;o<this.width;o++){var r=this.buffer.readUInt8(this.pos++),t=this.buffer.readUInt8(this.pos++),e=this.buffer.readUInt8(this.pos++),n=this.buffer.readUInt8(this.pos++),s=c*this.width*4+o*4;this.data[s]=n,this.data[s+1]=r,this.data[s+2]=t,this.data[s+3]=e}},m.prototype.getData=function(){return this.data},H.exports=function(u){var c=new m(u);return c}}).call(this,M("buffer").Buffer)},{buffer:48}],32:[function(M,H,y){(function(E){function m(u){this.buffer=u.data,this.width=u.width,this.height=u.height,this.extraBytes=this.width%4,this.rgbSize=this.height*(3*this.width+this.extraBytes),this.headerInfoSize=40,this.data=[],this.flag="BM",this.reserved=0,this.offset=54,this.fileSize=this.rgbSize+this.offset,this.planes=1,this.bitPP=24,this.compress=0,this.hr=0,this.vr=0,this.colors=0,this.importantColors=0}m.prototype.encode=function(){var u=new E(this.offset+this.rgbSize);this.pos=0,u.write(this.flag,this.pos,2),this.pos+=2,u.writeUInt32LE(this.fileSize,this.pos),this.pos+=4,u.writeUInt32LE(this.reserved,this.pos),this.pos+=4,u.writeUInt32LE(this.offset,this.pos),this.pos+=4,u.writeUInt32LE(this.headerInfoSize,this.pos),this.pos+=4,u.writeUInt32LE(this.width,this.pos),this.pos+=4,u.writeInt32LE(-this.height,this.pos),this.pos+=4,u.writeUInt16LE(this.planes,this.pos),this.pos+=2,u.writeUInt16LE(this.bitPP,this.pos),this.pos+=2,u.writeUInt32LE(this.compress,this.pos),this.pos+=4,u.writeUInt32LE(this.rgbSize,this.pos),this.pos+=4,u.writeUInt32LE(this.hr,this.pos),this.pos+=4,u.writeUInt32LE(this.vr,this.pos),this.pos+=4,u.writeUInt32LE(this.colors,this.pos),this.pos+=4,u.writeUInt32LE(this.importantColors,this.pos),this.pos+=4;for(var c=0,o=3*this.width+this.extraBytes,n=0;n<this.height;n++){for(var r=0;r<this.width;r++){var t=this.pos+n*o+r*3;c++,u[t]=this.buffer[c++],u[t+1]=this.buffer[c++],u[t+2]=this.buffer[c++]}if(this.extraBytes>0){var e=this.pos+n*o+this.width*3;u.fill(0,e,e+this.extraBytes)}}return u},H.exports=function(u,c){var o=new m(u),n=o.encode();return{data:n,width:u.width,height:u.height}}}).call(this,M("buffer").Buffer)},{buffer:48}],33:[function(M,H,y){},{}],34:[function(M,H,y){(function(E,m){var u=M("assert"),c=M("pako/lib/zlib/zstream"),o=M("pako/lib/zlib/deflate.js"),n=M("pako/lib/zlib/inflate.js"),r=M("pako/lib/zlib/constants");for(var t in r)y[t]=r[t];y.NONE=0,y.DEFLATE=1,y.INFLATE=2,y.GZIP=3,y.GUNZIP=4,y.DEFLATERAW=5,y.INFLATERAW=6,y.UNZIP=7;var e=31,s=139;function l(a){if(typeof a!="number"||a<y.DEFLATE||a>y.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=a,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}l.prototype.close=function(){if(this.write_in_progress){this.pending_close=!0;return}this.pending_close=!1,u(this.init_done,"close before init"),u(this.mode<=y.UNZIP),this.mode===y.DEFLATE||this.mode===y.GZIP||this.mode===y.DEFLATERAW?o.deflateEnd(this.strm):(this.mode===y.INFLATE||this.mode===y.GUNZIP||this.mode===y.INFLATERAW||this.mode===y.UNZIP)&&n.inflateEnd(this.strm),this.mode=y.NONE,this.dictionary=null},l.prototype.write=function(a,f,i,h,d,p,_){return this._write(!0,a,f,i,h,d,p,_)},l.prototype.writeSync=function(a,f,i,h,d,p,_){return this._write(!1,a,f,i,h,d,p,_)},l.prototype._write=function(a,f,i,h,d,p,_,g){if(u.equal(arguments.length,8),u(this.init_done,"write before init"),u(this.mode!==y.NONE,"already finalized"),u.equal(!1,this.write_in_progress,"write already in progress"),u.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,u.equal(!1,f===void 0,"must provide flush value"),this.write_in_progress=!0,f!==y.Z_NO_FLUSH&&f!==y.Z_PARTIAL_FLUSH&&f!==y.Z_SYNC_FLUSH&&f!==y.Z_FULL_FLUSH&&f!==y.Z_FINISH&&f!==y.Z_BLOCK)throw new Error("Invalid flush value");if(i==null&&(i=m.alloc(0),d=0,h=0),this.strm.avail_in=d,this.strm.input=i,this.strm.next_in=h,this.strm.avail_out=g,this.strm.output=p,this.strm.next_out=_,this.flush=f,!a)return this._process(),this._checkError()?this._afterSync():void 0;var b=this;return E.nextTick(function(){b._process(),b._after()}),this},l.prototype._afterSync=function(){var a=this.strm.avail_out,f=this.strm.avail_in;return this.write_in_progress=!1,[f,a]},l.prototype._process=function(){var a=null;switch(this.mode){case y.DEFLATE:case y.GZIP:case y.DEFLATERAW:this.err=o.deflate(this.strm,this.flush);break;case y.UNZIP:switch(this.strm.avail_in>0&&(a=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(a===null)break;if(this.strm.input[a]===e){if(this.gzip_id_bytes_read=1,a++,this.strm.avail_in===1)break}else{this.mode=y.INFLATE;break}case 1:if(a===null)break;this.strm.input[a]===s?(this.gzip_id_bytes_read=2,this.mode=y.GUNZIP):this.mode=y.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case y.INFLATE:case y.GUNZIP:case y.INFLATERAW:for(this.err=n.inflate(this.strm,this.flush),this.err===y.Z_NEED_DICT&&this.dictionary&&(this.err=n.inflateSetDictionary(this.strm,this.dictionary),this.err===y.Z_OK?this.err=n.inflate(this.strm,this.flush):this.err===y.Z_DATA_ERROR&&(this.err=y.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===y.GUNZIP&&this.err===y.Z_STREAM_END&&this.strm.next_in[0]!==0;)this.reset(),this.err=n.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},l.prototype._checkError=function(){switch(this.err){case y.Z_OK:case y.Z_BUF_ERROR:if(this.strm.avail_out!==0&&this.flush===y.Z_FINISH)return this._error("unexpected end of file"),!1;break;case y.Z_STREAM_END:break;case y.Z_NEED_DICT:return this.dictionary==null?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},l.prototype._after=function(){if(this._checkError()){var a=this.strm.avail_out,f=this.strm.avail_in;this.write_in_progress=!1,this.callback(f,a),this.pending_close&&this.close()}},l.prototype._error=function(a){this.strm.msg&&(a=this.strm.msg),this.onerror(a,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},l.prototype.init=function(a,f,i,h,d){u(arguments.length===4||arguments.length===5,"init(windowBits, level, memLevel, strategy, [dictionary])"),u(a>=8&&a<=15,"invalid windowBits"),u(f>=-1&&f<=9,"invalid compression level"),u(i>=1&&i<=9,"invalid memlevel"),u(h===y.Z_FILTERED||h===y.Z_HUFFMAN_ONLY||h===y.Z_RLE||h===y.Z_FIXED||h===y.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(f,a,i,h,d),this._setDictionary()},l.prototype.params=function(){throw new Error("deflateParams Not supported")},l.prototype.reset=function(){this._reset(),this._setDictionary()},l.prototype._init=function(a,f,i,h,d){switch(this.level=a,this.windowBits=f,this.memLevel=i,this.strategy=h,this.flush=y.Z_NO_FLUSH,this.err=y.Z_OK,(this.mode===y.GZIP||this.mode===y.GUNZIP)&&(this.windowBits+=16),this.mode===y.UNZIP&&(this.windowBits+=32),(this.mode===y.DEFLATERAW||this.mode===y.INFLATERAW)&&(this.windowBits=-1*this.windowBits),this.strm=new c,this.mode){case y.DEFLATE:case y.GZIP:case y.DEFLATERAW:this.err=o.deflateInit2(this.strm,this.level,y.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case y.INFLATE:case y.GUNZIP:case y.INFLATERAW:case y.UNZIP:this.err=n.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==y.Z_OK&&this._error("Init error"),this.dictionary=d,this.write_in_progress=!1,this.init_done=!0},l.prototype._setDictionary=function(){if(this.dictionary!=null){switch(this.err=y.Z_OK,this.mode){case y.DEFLATE:case y.DEFLATERAW:this.err=o.deflateSetDictionary(this.strm,this.dictionary);break}this.err!==y.Z_OK&&this._error("Failed to set dictionary")}},l.prototype._reset=function(){switch(this.err=y.Z_OK,this.mode){case y.DEFLATE:case y.DEFLATERAW:case y.GZIP:this.err=o.deflateReset(this.strm);break;case y.INFLATE:case y.INFLATERAW:case y.GUNZIP:this.err=n.inflateReset(this.strm);break}this.err!==y.Z_OK&&this._error("Failed to reset stream")},y.Zlib=l}).call(this,M("_process"),M("buffer").Buffer)},{_process:133,assert:25,buffer:48,"pako/lib/zlib/constants":38,"pako/lib/zlib/deflate.js":40,"pako/lib/zlib/inflate.js":42,"pako/lib/zlib/zstream":46}],35:[function(M,H,y){(function(E){var m=M("buffer").Buffer,u=M("stream").Transform,c=M("./binding"),o=M("util"),n=M("assert").ok,r=M("buffer").kMaxLength,t="Cannot create final Buffer. It would be larger than 0x"+r.toString(16)+" bytes";c.Z_MIN_WINDOWBITS=8,c.Z_MAX_WINDOWBITS=15,c.Z_DEFAULT_WINDOWBITS=15,c.Z_MIN_CHUNK=64,c.Z_MAX_CHUNK=1/0,c.Z_DEFAULT_CHUNK=16*1024,c.Z_MIN_MEMLEVEL=1,c.Z_MAX_MEMLEVEL=9,c.Z_DEFAULT_MEMLEVEL=8,c.Z_MIN_LEVEL=-1,c.Z_MAX_LEVEL=9,c.Z_DEFAULT_LEVEL=c.Z_DEFAULT_COMPRESSION;for(var e=Object.keys(c),s=0;s<e.length;s++){var l=e[s];l.match(/^Z/)&&Object.defineProperty(y,l,{enumerable:!0,value:c[l],writable:!1})}for(var a={Z_OK:c.Z_OK,Z_STREAM_END:c.Z_STREAM_END,Z_NEED_DICT:c.Z_NEED_DICT,Z_ERRNO:c.Z_ERRNO,Z_STREAM_ERROR:c.Z_STREAM_ERROR,Z_DATA_ERROR:c.Z_DATA_ERROR,Z_MEM_ERROR:c.Z_MEM_ERROR,Z_BUF_ERROR:c.Z_BUF_ERROR,Z_VERSION_ERROR:c.Z_VERSION_ERROR},f=Object.keys(a),i=0;i<f.length;i++){var h=f[i];a[a[h]]=h}Object.defineProperty(y,"codes",{enumerable:!0,value:Object.freeze(a),writable:!1}),y.Deflate=_,y.Inflate=g,y.Gzip=b,y.Gunzip=w,y.DeflateRaw=A,y.InflateRaw=R,y.Unzip=B,y.createDeflate=function(O){return new _(O)},y.createInflate=function(O){return new g(O)},y.createDeflateRaw=function(O){return new A(O)},y.createInflateRaw=function(O){return new R(O)},y.createGzip=function(O){return new b(O)},y.createGunzip=function(O){return new w(O)},y.createUnzip=function(O){return new B(O)},y.deflate=function(O,k,G){return typeof k=="function"&&(G=k,k={}),d(new _(k),O,G)},y.deflateSync=function(O,k){return p(new _(k),O)},y.gzip=function(O,k,G){return typeof k=="function"&&(G=k,k={}),d(new b(k),O,G)},y.gzipSync=function(O,k){return p(new b(k),O)},y.deflateRaw=function(O,k,G){return typeof k=="function"&&(G=k,k={}),d(new A(k),O,G)},y.deflateRawSync=function(O,k){return p(new A(k),O)},y.unzip=function(O,k,G){return typeof k=="function"&&(G=k,k={}),d(new B(k),O,G)},y.unzipSync=function(O,k){return p(new B(k),O)},y.inflate=function(O,k,G){return typeof k=="function"&&(G=k,k={}),d(new g(k),O,G)},y.inflateSync=function(O,k){return p(new g(k),O)},y.gunzip=function(O,k,G){return typeof k=="function"&&(G=k,k={}),d(new w(k),O,G)},y.gunzipSync=function(O,k){return p(new w(k),O)},y.inflateRaw=function(O,k,G){return typeof k=="function"&&(G=k,k={}),d(new R(k),O,G)},y.inflateRawSync=function(O,k){return p(new R(k),O)};function d(O,k,G){var J=[],$=0;O.on("error",j),O.on("end",Y),O.end(k),ee();function ee(){for(var W;(W=O.read())!==null;)J.push(W),$+=W.length;O.once("readable",ee)}function j(W){O.removeListener("end",Y),O.removeListener("readable",ee),G(W)}function Y(){var W,Q=null;$>=r?Q=new RangeError(t):W=m.concat(J,$),J=[],O.close(),G(Q,W)}}function p(O,k){if(typeof k=="string"&&(k=m.from(k)),!m.isBuffer(k))throw new TypeError("Not a string or buffer");var G=O._finishFlushFlag;return O._processChunk(k,G)}function _(O){if(!(this instanceof _))return new _(O);z.call(this,O,c.DEFLATE)}function g(O){if(!(this instanceof g))return new g(O);z.call(this,O,c.INFLATE)}function b(O){if(!(this instanceof b))return new b(O);z.call(this,O,c.GZIP)}function w(O){if(!(this instanceof w))return new w(O);z.call(this,O,c.GUNZIP)}function A(O){if(!(this instanceof A))return new A(O);z.call(this,O,c.DEFLATERAW)}function R(O){if(!(this instanceof R))return new R(O);z.call(this,O,c.INFLATERAW)}function B(O){if(!(this instanceof B))return new B(O);z.call(this,O,c.UNZIP)}function T(O){return O===c.Z_NO_FLUSH||O===c.Z_PARTIAL_FLUSH||O===c.Z_SYNC_FLUSH||O===c.Z_FULL_FLUSH||O===c.Z_FINISH||O===c.Z_BLOCK}function z(O,k){var G=this;if(this._opts=O=O||{},this._chunkSize=O.chunkSize||y.Z_DEFAULT_CHUNK,u.call(this,O),O.flush&&!T(O.flush))throw new Error("Invalid flush flag: "+O.flush);if(O.finishFlush&&!T(O.finishFlush))throw new Error("Invalid flush flag: "+O.finishFlush);if(this._flushFlag=O.flush||c.Z_NO_FLUSH,this._finishFlushFlag=typeof O.finishFlush<"u"?O.finishFlush:c.Z_FINISH,O.chunkSize&&(O.chunkSize<y.Z_MIN_CHUNK||O.chunkSize>y.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+O.chunkSize);if(O.windowBits&&(O.windowBits<y.Z_MIN_WINDOWBITS||O.windowBits>y.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+O.windowBits);if(O.level&&(O.level<y.Z_MIN_LEVEL||O.level>y.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+O.level);if(O.memLevel&&(O.memLevel<y.Z_MIN_MEMLEVEL||O.memLevel>y.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+O.memLevel);if(O.strategy&&O.strategy!=y.Z_FILTERED&&O.strategy!=y.Z_HUFFMAN_ONLY&&O.strategy!=y.Z_RLE&&O.strategy!=y.Z_FIXED&&O.strategy!=y.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+O.strategy);if(O.dictionary&&!m.isBuffer(O.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new c.Zlib(k);var J=this;this._hadError=!1,this._handle.onerror=function(j,Y){F(J),J._hadError=!0;var W=new Error(j);W.errno=Y,W.code=y.codes[Y],J.emit("error",W)};var $=y.Z_DEFAULT_COMPRESSION;typeof O.level=="number"&&($=O.level);var ee=y.Z_DEFAULT_STRATEGY;typeof O.strategy=="number"&&(ee=O.strategy),this._handle.init(O.windowBits||y.Z_DEFAULT_WINDOWBITS,$,O.memLevel||y.Z_DEFAULT_MEMLEVEL,ee,O.dictionary),this._buffer=m.allocUnsafe(this._chunkSize),this._offset=0,this._level=$,this._strategy=ee,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!G._handle},configurable:!0,enumerable:!0})}o.inherits(z,u),z.prototype.params=function(O,k,G){if(O<y.Z_MIN_LEVEL||O>y.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+O);if(k!=y.Z_FILTERED&&k!=y.Z_HUFFMAN_ONLY&&k!=y.Z_RLE&&k!=y.Z_FIXED&&k!=y.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+k);if(this._level!==O||this._strategy!==k){var J=this;this.flush(c.Z_SYNC_FLUSH,function(){n(J._handle,"zlib binding closed"),J._handle.params(O,k),J._hadError||(J._level=O,J._strategy=k,G&&G())})}else E.nextTick(G)},z.prototype.reset=function(){return n(this._handle,"zlib binding closed"),this._handle.reset()},z.prototype._flush=function(O){this._transform(m.alloc(0),"",O)},z.prototype.flush=function(O,k){var G=this,J=this._writableState;(typeof O=="function"||O===void 0&&!k)&&(k=O,O=c.Z_FULL_FLUSH),J.ended?k&&E.nextTick(k):J.ending?k&&this.once("end",k):J.needDrain?k&&this.once("drain",function(){return G.flush(O,k)}):(this._flushFlag=O,this.write(m.alloc(0),"",k))},z.prototype.close=function(O){F(this,O),E.nextTick(D,this)};function F(O,k){k&&E.nextTick(k),O._handle&&(O._handle.close(),O._handle=null)}function D(O){O.emit("close")}z.prototype._transform=function(O,k,G){var J,$=this._writableState,ee=$.ending||$.ended,j=ee&&(!O||$.length===O.length);if(O!==null&&!m.isBuffer(O))return G(new Error("invalid input"));if(!this._handle)return G(new Error("zlib binding closed"));j?J=this._finishFlushFlag:(J=this._flushFlag,O.length>=$.length&&(this._flushFlag=this._opts.flush||c.Z_NO_FLUSH)),this._processChunk(O,J,G)},z.prototype._processChunk=function(O,k,G){var J=O&&O.length,$=this._chunkSize-this._offset,ee=0,j=this,Y=typeof G=="function";if(!Y){var W=[],Q=0,re;this.on("error",function(ie){re=ie}),n(this._handle,"zlib binding closed");do var ue=this._handle.writeSync(k,O,ee,J,this._buffer,this._offset,$);while(!this._hadError&&ge(ue[0],ue[1]));if(this._hadError)throw re;if(Q>=r)throw F(this),new RangeError(t);var le=m.concat(W,Q);return F(this),le}n(this._handle,"zlib binding closed");var he=this._handle.write(k,O,ee,J,this._buffer,this._offset,$);he.buffer=O,he.callback=ge;function ge(ie,ae){if(this&&(this.buffer=null,this.callback=null),!j._hadError){var V=$-ae;if(n(V>=0,"have should not go down"),V>0){var q=j._buffer.slice(j._offset,j._offset+V);j._offset+=V,Y?j.push(q):(W.push(q),Q+=q.length)}if((ae===0||j._offset>=j._chunkSize)&&($=j._chunkSize,j._offset=0,j._buffer=m.allocUnsafe(j._chunkSize)),ae===0){if(ee+=J-ie,J=ie,!Y)return!0;var te=j._handle.write(k,O,ee,J,j._buffer,j._offset,j._chunkSize);te.callback=ge,te.buffer=O;return}if(!Y)return!1;G()}}},o.inherits(_,z),o.inherits(g,z),o.inherits(b,z),o.inherits(w,z),o.inherits(A,z),o.inherits(R,z),o.inherits(B,z)}).call(this,M("_process"))},{"./binding":34,_process:133,assert:25,buffer:48,stream:155,util:186}],36:[function(M,H,y){var E=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function m(o,n){return Object.prototype.hasOwnProperty.call(o,n)}y.assign=function(o){for(var n=Array.prototype.slice.call(arguments,1);n.length;){var r=n.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(var t in r)m(r,t)&&(o[t]=r[t])}}return o},y.shrinkBuf=function(o,n){return o.length===n?o:o.subarray?o.subarray(0,n):(o.length=n,o)};var u={arraySet:function(o,n,r,t,e){if(n.subarray&&o.subarray){o.set(n.subarray(r,r+t),e);return}for(var s=0;s<t;s++)o[e+s]=n[r+s]},flattenChunks:function(o){var n,r,t,e,s,l;for(t=0,n=0,r=o.length;n<r;n++)t+=o[n].length;for(l=new Uint8Array(t),e=0,n=0,r=o.length;n<r;n++)s=o[n],l.set(s,e),e+=s.length;return l}},c={arraySet:function(o,n,r,t,e){for(var s=0;s<t;s++)o[e+s]=n[r+s]},flattenChunks:function(o){return[].concat.apply([],o)}};y.setTyped=function(o){o?(y.Buf8=Uint8Array,y.Buf16=Uint16Array,y.Buf32=Int32Array,y.assign(y,u)):(y.Buf8=Array,y.Buf16=Array,y.Buf32=Array,y.assign(y,c))},y.setTyped(E)},{}],37:[function(M,H,y){function E(m,u,c,o){for(var n=m&65535|0,r=m>>>16&65535|0,t=0;c!==0;){t=c>2e3?2e3:c,c-=t;do n=n+u[o++]|0,r=r+n|0;while(--t);n%=65521,r%=65521}return n|r<<16|0}H.exports=E},{}],38:[function(M,H,y){H.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],39:[function(M,H,y){function E(){for(var c,o=[],n=0;n<256;n++){c=n;for(var r=0;r<8;r++)c=c&1?3988292384^c>>>1:c>>>1;o[n]=c}return o}var m=E();function u(c,o,n,r){var t=m,e=r+n;c^=-1;for(var s=r;s<e;s++)c=c>>>8^t[(c^o[s])&255];return c^-1}H.exports=u},{}],40:[function(M,H,y){var E=M("../utils/common"),m=M("./trees"),u=M("./adler32"),c=M("./crc32"),o=M("./messages"),n=0,r=1,t=3,e=4,s=5,l=0,a=1,f=-2,i=-3,h=-5,d=-1,p=1,_=2,g=3,b=4,w=0,A=2,R=8,B=9,T=15,z=8,F=29,D=256,O=D+1+F,k=30,G=19,J=2*O+1,$=15,ee=3,j=258,Y=j+ee+1,W=32,Q=42,re=69,ue=73,le=91,he=103,ge=113,ie=666,ae=1,V=2,q=3,te=4,U=3;function L(v,fe){return v.msg=o[fe],fe}function P(v){return(v<<1)-(v>4?9:0)}function Z(v){for(var fe=v.length;--fe>=0;)v[fe]=0}function x(v){var fe=v.state,ve=fe.pending;ve>v.avail_out&&(ve=v.avail_out),ve!==0&&(E.arraySet(v.output,fe.pending_buf,fe.pending_out,ve,v.next_out),v.next_out+=ve,fe.pending_out+=ve,v.total_out+=ve,v.avail_out-=ve,fe.pending-=ve,fe.pending===0&&(fe.pending_out=0))}function C(v,fe){m._tr_flush_block(v,v.block_start>=0?v.block_start:-1,v.strstart-v.block_start,fe),v.block_start=v.strstart,x(v.strm)}function S(v,fe){v.pending_buf[v.pending++]=fe}function X(v,fe){v.pending_buf[v.pending++]=fe>>>8&255,v.pending_buf[v.pending++]=fe&255}function oe(v,fe,ve,I){var ne=v.avail_in;return ne>I&&(ne=I),ne===0?0:(v.avail_in-=ne,E.arraySet(fe,v.input,v.next_in,ne,ve),v.state.wrap===1?v.adler=u(v.adler,fe,ne,ve):v.state.wrap===2&&(v.adler=c(v.adler,fe,ne,ve)),v.next_in+=ne,v.total_in+=ne,ne)}function _e(v,fe){var ve=v.max_chain_length,I=v.strstart,ne,we,Ce=v.prev_length,Re=v.nice_match,Be=v.strstart>v.w_size-Y?v.strstart-(v.w_size-Y):0,ze=v.window,Ve=v.w_mask,je=v.prev,Fe=v.strstart+j,We=ze[I+Ce-1],Ze=ze[I+Ce];v.prev_length>=v.good_match&&(ve>>=2),Re>v.lookahead&&(Re=v.lookahead);do if(ne=fe,!(ze[ne+Ce]!==Ze||ze[ne+Ce-1]!==We||ze[ne]!==ze[I]||ze[++ne]!==ze[I+1])){I+=2,ne++;do;while(ze[++I]===ze[++ne]&&ze[++I]===ze[++ne]&&ze[++I]===ze[++ne]&&ze[++I]===ze[++ne]&&ze[++I]===ze[++ne]&&ze[++I]===ze[++ne]&&ze[++I]===ze[++ne]&&ze[++I]===ze[++ne]&&I<Fe);if(we=j-(Fe-I),I=Fe-j,we>Ce){if(v.match_start=fe,Ce=we,we>=Re)break;We=ze[I+Ce-1],Ze=ze[I+Ce]}}while((fe=je[fe&Ve])>Be&&--ve!==0);return Ce<=v.lookahead?Ce:v.lookahead}function ye(v){var fe=v.w_size,ve,I,ne,we,Ce;do{if(we=v.window_size-v.lookahead-v.strstart,v.strstart>=fe+(fe-Y)){E.arraySet(v.window,v.window,fe,fe,0),v.match_start-=fe,v.strstart-=fe,v.block_start-=fe,I=v.hash_size,ve=I;do ne=v.head[--ve],v.head[ve]=ne>=fe?ne-fe:0;while(--I);I=fe,ve=I;do ne=v.prev[--ve],v.prev[ve]=ne>=fe?ne-fe:0;while(--I);we+=fe}if(v.strm.avail_in===0)break;if(I=oe(v.strm,v.window,v.strstart+v.lookahead,we),v.lookahead+=I,v.lookahead+v.insert>=ee)for(Ce=v.strstart-v.insert,v.ins_h=v.window[Ce],v.ins_h=(v.ins_h<<v.hash_shift^v.window[Ce+1])&v.hash_mask;v.insert&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[Ce+ee-1])&v.hash_mask,v.prev[Ce&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=Ce,Ce++,v.insert--,!(v.lookahead+v.insert<ee)););}while(v.lookahead<Y&&v.strm.avail_in!==0)}function Te(v,fe){var ve=65535;for(ve>v.pending_buf_size-5&&(ve=v.pending_buf_size-5);;){if(v.lookahead<=1){if(ye(v),v.lookahead===0&&fe===n)return ae;if(v.lookahead===0)break}v.strstart+=v.lookahead,v.lookahead=0;var I=v.block_start+ve;if((v.strstart===0||v.strstart>=I)&&(v.lookahead=v.strstart-I,v.strstart=I,C(v,!1),v.strm.avail_out===0)||v.strstart-v.block_start>=v.w_size-Y&&(C(v,!1),v.strm.avail_out===0))return ae}return v.insert=0,fe===e?(C(v,!0),v.strm.avail_out===0?q:te):(v.strstart>v.block_start&&(C(v,!1),v.strm.avail_out===0),ae)}function ke(v,fe){for(var ve,I;;){if(v.lookahead<Y){if(ye(v),v.lookahead<Y&&fe===n)return ae;if(v.lookahead===0)break}if(ve=0,v.lookahead>=ee&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+ee-1])&v.hash_mask,ve=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart),ve!==0&&v.strstart-ve<=v.w_size-Y&&(v.match_length=_e(v,ve)),v.match_length>=ee)if(I=m._tr_tally(v,v.strstart-v.match_start,v.match_length-ee),v.lookahead-=v.match_length,v.match_length<=v.max_lazy_match&&v.lookahead>=ee){v.match_length--;do v.strstart++,v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+ee-1])&v.hash_mask,ve=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart;while(--v.match_length!==0);v.strstart++}else v.strstart+=v.match_length,v.match_length=0,v.ins_h=v.window[v.strstart],v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+1])&v.hash_mask;else I=m._tr_tally(v,0,v.window[v.strstart]),v.lookahead--,v.strstart++;if(I&&(C(v,!1),v.strm.avail_out===0))return ae}return v.insert=v.strstart<ee-1?v.strstart:ee-1,fe===e?(C(v,!0),v.strm.avail_out===0?q:te):v.last_lit&&(C(v,!1),v.strm.avail_out===0)?ae:V}function Le(v,fe){for(var ve,I,ne;;){if(v.lookahead<Y){if(ye(v),v.lookahead<Y&&fe===n)return ae;if(v.lookahead===0)break}if(ve=0,v.lookahead>=ee&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+ee-1])&v.hash_mask,ve=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart),v.prev_length=v.match_length,v.prev_match=v.match_start,v.match_length=ee-1,ve!==0&&v.prev_length<v.max_lazy_match&&v.strstart-ve<=v.w_size-Y&&(v.match_length=_e(v,ve),v.match_length<=5&&(v.strategy===p||v.match_length===ee&&v.strstart-v.match_start>4096)&&(v.match_length=ee-1)),v.prev_length>=ee&&v.match_length<=v.prev_length){ne=v.strstart+v.lookahead-ee,I=m._tr_tally(v,v.strstart-1-v.prev_match,v.prev_length-ee),v.lookahead-=v.prev_length-1,v.prev_length-=2;do++v.strstart<=ne&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+ee-1])&v.hash_mask,ve=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart);while(--v.prev_length!==0);if(v.match_available=0,v.match_length=ee-1,v.strstart++,I&&(C(v,!1),v.strm.avail_out===0))return ae}else if(v.match_available){if(I=m._tr_tally(v,0,v.window[v.strstart-1]),I&&C(v,!1),v.strstart++,v.lookahead--,v.strm.avail_out===0)return ae}else v.match_available=1,v.strstart++,v.lookahead--}return v.match_available&&(I=m._tr_tally(v,0,v.window[v.strstart-1]),v.match_available=0),v.insert=v.strstart<ee-1?v.strstart:ee-1,fe===e?(C(v,!0),v.strm.avail_out===0?q:te):v.last_lit&&(C(v,!1),v.strm.avail_out===0)?ae:V}function Pe(v,fe){for(var ve,I,ne,we,Ce=v.window;;){if(v.lookahead<=j){if(ye(v),v.lookahead<=j&&fe===n)return ae;if(v.lookahead===0)break}if(v.match_length=0,v.lookahead>=ee&&v.strstart>0&&(ne=v.strstart-1,I=Ce[ne],I===Ce[++ne]&&I===Ce[++ne]&&I===Ce[++ne])){we=v.strstart+j;do;while(I===Ce[++ne]&&I===Ce[++ne]&&I===Ce[++ne]&&I===Ce[++ne]&&I===Ce[++ne]&&I===Ce[++ne]&&I===Ce[++ne]&&I===Ce[++ne]&&ne<we);v.match_length=j-(we-ne),v.match_length>v.lookahead&&(v.match_length=v.lookahead)}if(v.match_length>=ee?(ve=m._tr_tally(v,1,v.match_length-ee),v.lookahead-=v.match_length,v.strstart+=v.match_length,v.match_length=0):(ve=m._tr_tally(v,0,v.window[v.strstart]),v.lookahead--,v.strstart++),ve&&(C(v,!1),v.strm.avail_out===0))return ae}return v.insert=0,fe===e?(C(v,!0),v.strm.avail_out===0?q:te):v.last_lit&&(C(v,!1),v.strm.avail_out===0)?ae:V}function Oe(v,fe){for(var ve;;){if(v.lookahead===0&&(ye(v),v.lookahead===0)){if(fe===n)return ae;break}if(v.match_length=0,ve=m._tr_tally(v,0,v.window[v.strstart]),v.lookahead--,v.strstart++,ve&&(C(v,!1),v.strm.avail_out===0))return ae}return v.insert=0,fe===e?(C(v,!0),v.strm.avail_out===0?q:te):v.last_lit&&(C(v,!1),v.strm.avail_out===0)?ae:V}function Ae(v,fe,ve,I,ne){this.good_length=v,this.max_lazy=fe,this.nice_length=ve,this.max_chain=I,this.func=ne}var xe;xe=[new Ae(0,0,0,0,Te),new Ae(4,4,8,4,ke),new Ae(4,5,16,8,ke),new Ae(4,6,32,32,ke),new Ae(4,4,16,16,Le),new Ae(8,16,32,32,Le),new Ae(8,16,128,128,Le),new Ae(8,32,128,256,Le),new Ae(32,128,258,1024,Le),new Ae(32,258,258,4096,Le)];function Ie(v){v.window_size=2*v.w_size,Z(v.head),v.max_lazy_match=xe[v.level].max_lazy,v.good_match=xe[v.level].good_length,v.nice_match=xe[v.level].nice_length,v.max_chain_length=xe[v.level].max_chain,v.strstart=0,v.block_start=0,v.lookahead=0,v.insert=0,v.match_length=v.prev_length=ee-1,v.match_available=0,v.ins_h=0}function N(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=R,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new E.Buf16(J*2),this.dyn_dtree=new E.Buf16((2*k+1)*2),this.bl_tree=new E.Buf16((2*G+1)*2),Z(this.dyn_ltree),Z(this.dyn_dtree),Z(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new E.Buf16($+1),this.heap=new E.Buf16(2*O+1),Z(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new E.Buf16(2*O+1),Z(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function de(v){var fe;return!v||!v.state?L(v,f):(v.total_in=v.total_out=0,v.data_type=A,fe=v.state,fe.pending=0,fe.pending_out=0,fe.wrap<0&&(fe.wrap=-fe.wrap),fe.status=fe.wrap?Q:ge,v.adler=fe.wrap===2?0:1,fe.last_flush=n,m._tr_init(fe),l)}function pe(v){var fe=de(v);return fe===l&&Ie(v.state),fe}function Se(v,fe){return!v||!v.state||v.state.wrap!==2?f:(v.state.gzhead=fe,l)}function ce(v,fe,ve,I,ne,we){if(!v)return f;var Ce=1;if(fe===d&&(fe=6),I<0?(Ce=0,I=-I):I>15&&(Ce=2,I-=16),ne<1||ne>B||ve!==R||I<8||I>15||fe<0||fe>9||we<0||we>b)return L(v,f);I===8&&(I=9);var Re=new N;return v.state=Re,Re.strm=v,Re.wrap=Ce,Re.gzhead=null,Re.w_bits=I,Re.w_size=1<<Re.w_bits,Re.w_mask=Re.w_size-1,Re.hash_bits=ne+7,Re.hash_size=1<<Re.hash_bits,Re.hash_mask=Re.hash_size-1,Re.hash_shift=~~((Re.hash_bits+ee-1)/ee),Re.window=new E.Buf8(Re.w_size*2),Re.head=new E.Buf16(Re.hash_size),Re.prev=new E.Buf16(Re.w_size),Re.lit_bufsize=1<<ne+6,Re.pending_buf_size=Re.lit_bufsize*4,Re.pending_buf=new E.Buf8(Re.pending_buf_size),Re.d_buf=1*Re.lit_bufsize,Re.l_buf=3*Re.lit_bufsize,Re.level=fe,Re.strategy=we,Re.method=ve,pe(v)}function be(v,fe){return ce(v,fe,R,T,z,w)}function K(v,fe){var ve,I,ne,we;if(!v||!v.state||fe>s||fe<0)return v?L(v,f):f;if(I=v.state,!v.output||!v.input&&v.avail_in!==0||I.status===ie&&fe!==e)return L(v,v.avail_out===0?h:f);if(I.strm=v,ve=I.last_flush,I.last_flush=fe,I.status===Q)if(I.wrap===2)v.adler=0,S(I,31),S(I,139),S(I,8),I.gzhead?(S(I,(I.gzhead.text?1:0)+(I.gzhead.hcrc?2:0)+(I.gzhead.extra?4:0)+(I.gzhead.name?8:0)+(I.gzhead.comment?16:0)),S(I,I.gzhead.time&255),S(I,I.gzhead.time>>8&255),S(I,I.gzhead.time>>16&255),S(I,I.gzhead.time>>24&255),S(I,I.level===9?2:I.strategy>=_||I.level<2?4:0),S(I,I.gzhead.os&255),I.gzhead.extra&&I.gzhead.extra.length&&(S(I,I.gzhead.extra.length&255),S(I,I.gzhead.extra.length>>8&255)),I.gzhead.hcrc&&(v.adler=c(v.adler,I.pending_buf,I.pending,0)),I.gzindex=0,I.status=re):(S(I,0),S(I,0),S(I,0),S(I,0),S(I,0),S(I,I.level===9?2:I.strategy>=_||I.level<2?4:0),S(I,U),I.status=ge);else{var Ce=R+(I.w_bits-8<<4)<<8,Re=-1;I.strategy>=_||I.level<2?Re=0:I.level<6?Re=1:I.level===6?Re=2:Re=3,Ce|=Re<<6,I.strstart!==0&&(Ce|=W),Ce+=31-Ce%31,I.status=ge,X(I,Ce),I.strstart!==0&&(X(I,v.adler>>>16),X(I,v.adler&65535)),v.adler=1}if(I.status===re)if(I.gzhead.extra){for(ne=I.pending;I.gzindex<(I.gzhead.extra.length&65535)&&!(I.pending===I.pending_buf_size&&(I.gzhead.hcrc&&I.pending>ne&&(v.adler=c(v.adler,I.pending_buf,I.pending-ne,ne)),x(v),ne=I.pending,I.pending===I.pending_buf_size));)S(I,I.gzhead.extra[I.gzindex]&255),I.gzindex++;I.gzhead.hcrc&&I.pending>ne&&(v.adler=c(v.adler,I.pending_buf,I.pending-ne,ne)),I.gzindex===I.gzhead.extra.length&&(I.gzindex=0,I.status=ue)}else I.status=ue;if(I.status===ue)if(I.gzhead.name){ne=I.pending;do{if(I.pending===I.pending_buf_size&&(I.gzhead.hcrc&&I.pending>ne&&(v.adler=c(v.adler,I.pending_buf,I.pending-ne,ne)),x(v),ne=I.pending,I.pending===I.pending_buf_size)){we=1;break}I.gzindex<I.gzhead.name.length?we=I.gzhead.name.charCodeAt(I.gzindex++)&255:we=0,S(I,we)}while(we!==0);I.gzhead.hcrc&&I.pending>ne&&(v.adler=c(v.adler,I.pending_buf,I.pending-ne,ne)),we===0&&(I.gzindex=0,I.status=le)}else I.status=le;if(I.status===le)if(I.gzhead.comment){ne=I.pending;do{if(I.pending===I.pending_buf_size&&(I.gzhead.hcrc&&I.pending>ne&&(v.adler=c(v.adler,I.pending_buf,I.pending-ne,ne)),x(v),ne=I.pending,I.pending===I.pending_buf_size)){we=1;break}I.gzindex<I.gzhead.comment.length?we=I.gzhead.comment.charCodeAt(I.gzindex++)&255:we=0,S(I,we)}while(we!==0);I.gzhead.hcrc&&I.pending>ne&&(v.adler=c(v.adler,I.pending_buf,I.pending-ne,ne)),we===0&&(I.status=he)}else I.status=he;if(I.status===he&&(I.gzhead.hcrc?(I.pending+2>I.pending_buf_size&&x(v),I.pending+2<=I.pending_buf_size&&(S(I,v.adler&255),S(I,v.adler>>8&255),v.adler=0,I.status=ge)):I.status=ge),I.pending!==0){if(x(v),v.avail_out===0)return I.last_flush=-1,l}else if(v.avail_in===0&&P(fe)<=P(ve)&&fe!==e)return L(v,h);if(I.status===ie&&v.avail_in!==0)return L(v,h);if(v.avail_in!==0||I.lookahead!==0||fe!==n&&I.status!==ie){var Be=I.strategy===_?Oe(I,fe):I.strategy===g?Pe(I,fe):xe[I.level].func(I,fe);if((Be===q||Be===te)&&(I.status=ie),Be===ae||Be===q)return v.avail_out===0&&(I.last_flush=-1),l;if(Be===V&&(fe===r?m._tr_align(I):fe!==s&&(m._tr_stored_block(I,0,0,!1),fe===t&&(Z(I.head),I.lookahead===0&&(I.strstart=0,I.block_start=0,I.insert=0))),x(v),v.avail_out===0))return I.last_flush=-1,l}return fe!==e?l:I.wrap<=0?a:(I.wrap===2?(S(I,v.adler&255),S(I,v.adler>>8&255),S(I,v.adler>>16&255),S(I,v.adler>>24&255),S(I,v.total_in&255),S(I,v.total_in>>8&255),S(I,v.total_in>>16&255),S(I,v.total_in>>24&255)):(X(I,v.adler>>>16),X(I,v.adler&65535)),x(v),I.wrap>0&&(I.wrap=-I.wrap),I.pending!==0?l:a)}function Me(v){var fe;return!v||!v.state?f:(fe=v.state.status,fe!==Q&&fe!==re&&fe!==ue&&fe!==le&&fe!==he&&fe!==ge&&fe!==ie?L(v,f):(v.state=null,fe===ge?L(v,i):l))}function Ne(v,fe){var ve=fe.length,I,ne,we,Ce,Re,Be,ze,Ve;if(!v||!v.state||(I=v.state,Ce=I.wrap,Ce===2||Ce===1&&I.status!==Q||I.lookahead))return f;for(Ce===1&&(v.adler=u(v.adler,fe,ve,0)),I.wrap=0,ve>=I.w_size&&(Ce===0&&(Z(I.head),I.strstart=0,I.block_start=0,I.insert=0),Ve=new E.Buf8(I.w_size),E.arraySet(Ve,fe,ve-I.w_size,I.w_size,0),fe=Ve,ve=I.w_size),Re=v.avail_in,Be=v.next_in,ze=v.input,v.avail_in=ve,v.next_in=0,v.input=fe,ye(I);I.lookahead>=ee;){ne=I.strstart,we=I.lookahead-(ee-1);do I.ins_h=(I.ins_h<<I.hash_shift^I.window[ne+ee-1])&I.hash_mask,I.prev[ne&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=ne,ne++;while(--we);I.strstart=ne,I.lookahead=ee-1,ye(I)}return I.strstart+=I.lookahead,I.block_start=I.strstart,I.insert=I.lookahead,I.lookahead=0,I.match_length=I.prev_length=ee-1,I.match_available=0,v.next_in=Be,v.input=ze,v.avail_in=Re,I.wrap=Ce,l}y.deflateInit=be,y.deflateInit2=ce,y.deflateReset=pe,y.deflateResetKeep=de,y.deflateSetHeader=Se,y.deflate=K,y.deflateEnd=Me,y.deflateSetDictionary=Ne,y.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":36,"./adler32":37,"./crc32":39,"./messages":44,"./trees":45}],41:[function(M,H,y){var E=30,m=12;H.exports=function(c,o){var n,r,t,e,s,l,a,f,i,h,d,p,_,g,b,w,A,R,B,T,z,F,D,O,k;n=c.state,r=c.next_in,O=c.input,t=r+(c.avail_in-5),e=c.next_out,k=c.output,s=e-(o-c.avail_out),l=e+(c.avail_out-257),a=n.dmax,f=n.wsize,i=n.whave,h=n.wnext,d=n.window,p=n.hold,_=n.bits,g=n.lencode,b=n.distcode,w=(1<<n.lenbits)-1,A=(1<<n.distbits)-1;e:do{_<15&&(p+=O[r++]<<_,_+=8,p+=O[r++]<<_,_+=8),R=g[p&w];t:for(;;){if(B=R>>>24,p>>>=B,_-=B,B=R>>>16&255,B===0)k[e++]=R&65535;else if(B&16){T=R&65535,B&=15,B&&(_<B&&(p+=O[r++]<<_,_+=8),T+=p&(1<<B)-1,p>>>=B,_-=B),_<15&&(p+=O[r++]<<_,_+=8,p+=O[r++]<<_,_+=8),R=b[p&A];r:for(;;){if(B=R>>>24,p>>>=B,_-=B,B=R>>>16&255,B&16){if(z=R&65535,B&=15,_<B&&(p+=O[r++]<<_,_+=8,_<B&&(p+=O[r++]<<_,_+=8)),z+=p&(1<<B)-1,z>a){c.msg="invalid distance too far back",n.mode=E;break e}if(p>>>=B,_-=B,B=e-s,z>B){if(B=z-B,B>i&&n.sane){c.msg="invalid distance too far back",n.mode=E;break e}if(F=0,D=d,h===0){if(F+=f-B,B<T){T-=B;do k[e++]=d[F++];while(--B);F=e-z,D=k}}else if(h<B){if(F+=f+h-B,B-=h,B<T){T-=B;do k[e++]=d[F++];while(--B);if(F=0,h<T){B=h,T-=B;do k[e++]=d[F++];while(--B);F=e-z,D=k}}}else if(F+=h-B,B<T){T-=B;do k[e++]=d[F++];while(--B);F=e-z,D=k}for(;T>2;)k[e++]=D[F++],k[e++]=D[F++],k[e++]=D[F++],T-=3;T&&(k[e++]=D[F++],T>1&&(k[e++]=D[F++]))}else{F=e-z;do k[e++]=k[F++],k[e++]=k[F++],k[e++]=k[F++],T-=3;while(T>2);T&&(k[e++]=k[F++],T>1&&(k[e++]=k[F++]))}}else if(B&64){c.msg="invalid distance code",n.mode=E;break e}else{R=b[(R&65535)+(p&(1<<B)-1)];continue r}break}}else if(B&64)if(B&32){n.mode=m;break e}else{c.msg="invalid literal/length code",n.mode=E;break e}else{R=g[(R&65535)+(p&(1<<B)-1)];continue t}break}}while(r<t&&e<l);T=_>>3,r-=T,_-=T<<3,p&=(1<<_)-1,c.next_in=r,c.next_out=e,c.avail_in=r<t?5+(t-r):5-(r-t),c.avail_out=e<l?257+(l-e):257-(e-l),n.hold=p,n.bits=_}},{}],42:[function(M,H,y){var E=M("../utils/common"),m=M("./adler32"),u=M("./crc32"),c=M("./inffast"),o=M("./inftrees"),n=0,r=1,t=2,e=4,s=5,l=6,a=0,f=1,i=2,h=-2,d=-3,p=-4,_=-5,g=8,b=1,w=2,A=3,R=4,B=5,T=6,z=7,F=8,D=9,O=10,k=11,G=12,J=13,$=14,ee=15,j=16,Y=17,W=18,Q=19,re=20,ue=21,le=22,he=23,ge=24,ie=25,ae=26,V=27,q=28,te=29,U=30,L=31,P=32,Z=852,x=592,C=15,S=C;function X(ce){return(ce>>>24&255)+(ce>>>8&65280)+((ce&65280)<<8)+((ce&255)<<24)}function oe(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new E.Buf16(320),this.work=new E.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function _e(ce){var be;return!ce||!ce.state?h:(be=ce.state,ce.total_in=ce.total_out=be.total=0,ce.msg="",be.wrap&&(ce.adler=be.wrap&1),be.mode=b,be.last=0,be.havedict=0,be.dmax=32768,be.head=null,be.hold=0,be.bits=0,be.lencode=be.lendyn=new E.Buf32(Z),be.distcode=be.distdyn=new E.Buf32(x),be.sane=1,be.back=-1,a)}function ye(ce){var be;return!ce||!ce.state?h:(be=ce.state,be.wsize=0,be.whave=0,be.wnext=0,_e(ce))}function Te(ce,be){var K,Me;return!ce||!ce.state||(Me=ce.state,be<0?(K=0,be=-be):(K=(be>>4)+1,be<48&&(be&=15)),be&&(be<8||be>15))?h:(Me.window!==null&&Me.wbits!==be&&(Me.window=null),Me.wrap=K,Me.wbits=be,ye(ce))}function ke(ce,be){var K,Me;return ce?(Me=new oe,ce.state=Me,Me.window=null,K=Te(ce,be),K!==a&&(ce.state=null),K):h}function Le(ce){return ke(ce,S)}var Pe=!0,Oe,Ae;function xe(ce){if(Pe){var be;for(Oe=new E.Buf32(512),Ae=new E.Buf32(32),be=0;be<144;)ce.lens[be++]=8;for(;be<256;)ce.lens[be++]=9;for(;be<280;)ce.lens[be++]=7;for(;be<288;)ce.lens[be++]=8;for(o(r,ce.lens,0,288,Oe,0,ce.work,{bits:9}),be=0;be<32;)ce.lens[be++]=5;o(t,ce.lens,0,32,Ae,0,ce.work,{bits:5}),Pe=!1}ce.lencode=Oe,ce.lenbits=9,ce.distcode=Ae,ce.distbits=5}function Ie(ce,be,K,Me){var Ne,v=ce.state;return v.window===null&&(v.wsize=1<<v.wbits,v.wnext=0,v.whave=0,v.window=new E.Buf8(v.wsize)),Me>=v.wsize?(E.arraySet(v.window,be,K-v.wsize,v.wsize,0),v.wnext=0,v.whave=v.wsize):(Ne=v.wsize-v.wnext,Ne>Me&&(Ne=Me),E.arraySet(v.window,be,K-Me,Ne,v.wnext),Me-=Ne,Me?(E.arraySet(v.window,be,K-Me,Me,0),v.wnext=Me,v.whave=v.wsize):(v.wnext+=Ne,v.wnext===v.wsize&&(v.wnext=0),v.whave<v.wsize&&(v.whave+=Ne))),0}function N(ce,be){var K,Me,Ne,v,fe,ve,I,ne,we,Ce,Re,Be,ze,Ve,je=0,Fe,We,Ze,Ke,at,ot,Ye,Qe,Xe=new E.Buf8(4),qe,Je,ct=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!ce||!ce.state||!ce.output||!ce.input&&ce.avail_in!==0)return h;K=ce.state,K.mode===G&&(K.mode=J),fe=ce.next_out,Ne=ce.output,I=ce.avail_out,v=ce.next_in,Me=ce.input,ve=ce.avail_in,ne=K.hold,we=K.bits,Ce=ve,Re=I,Qe=a;e:for(;;)switch(K.mode){case b:if(K.wrap===0){K.mode=J;break}for(;we<16;){if(ve===0)break e;ve--,ne+=Me[v++]<<we,we+=8}if(K.wrap&2&&ne===35615){K.check=0,Xe[0]=ne&255,Xe[1]=ne>>>8&255,K.check=u(K.check,Xe,2,0),ne=0,we=0,K.mode=w;break}if(K.flags=0,K.head&&(K.head.done=!1),!(K.wrap&1)||(((ne&255)<<8)+(ne>>8))%31){ce.msg="incorrect header check",K.mode=U;break}if((ne&15)!==g){ce.msg="unknown compression method",K.mode=U;break}if(ne>>>=4,we-=4,Ye=(ne&15)+8,K.wbits===0)K.wbits=Ye;else if(Ye>K.wbits){ce.msg="invalid window size",K.mode=U;break}K.dmax=1<<Ye,ce.adler=K.check=1,K.mode=ne&512?O:G,ne=0,we=0;break;case w:for(;we<16;){if(ve===0)break e;ve--,ne+=Me[v++]<<we,we+=8}if(K.flags=ne,(K.flags&255)!==g){ce.msg="unknown compression method",K.mode=U;break}if(K.flags&57344){ce.msg="unknown header flags set",K.mode=U;break}K.head&&(K.head.text=ne>>8&1),K.flags&512&&(Xe[0]=ne&255,Xe[1]=ne>>>8&255,K.check=u(K.check,Xe,2,0)),ne=0,we=0,K.mode=A;case A:for(;we<32;){if(ve===0)break e;ve--,ne+=Me[v++]<<we,we+=8}K.head&&(K.head.time=ne),K.flags&512&&(Xe[0]=ne&255,Xe[1]=ne>>>8&255,Xe[2]=ne>>>16&255,Xe[3]=ne>>>24&255,K.check=u(K.check,Xe,4,0)),ne=0,we=0,K.mode=R;case R:for(;we<16;){if(ve===0)break e;ve--,ne+=Me[v++]<<we,we+=8}K.head&&(K.head.xflags=ne&255,K.head.os=ne>>8),K.flags&512&&(Xe[0]=ne&255,Xe[1]=ne>>>8&255,K.check=u(K.check,Xe,2,0)),ne=0,we=0,K.mode=B;case B:if(K.flags&1024){for(;we<16;){if(ve===0)break e;ve--,ne+=Me[v++]<<we,we+=8}K.length=ne,K.head&&(K.head.extra_len=ne),K.flags&512&&(Xe[0]=ne&255,Xe[1]=ne>>>8&255,K.check=u(K.check,Xe,2,0)),ne=0,we=0}else K.head&&(K.head.extra=null);K.mode=T;case T:if(K.flags&1024&&(Be=K.length,Be>ve&&(Be=ve),Be&&(K.head&&(Ye=K.head.extra_len-K.length,K.head.extra||(K.head.extra=new Array(K.head.extra_len)),E.arraySet(K.head.extra,Me,v,Be,Ye)),K.flags&512&&(K.check=u(K.check,Me,Be,v)),ve-=Be,v+=Be,K.length-=Be),K.length))break e;K.length=0,K.mode=z;case z:if(K.flags&2048){if(ve===0)break e;Be=0;do Ye=Me[v+Be++],K.head&&Ye&&K.length<65536&&(K.head.name+=String.fromCharCode(Ye));while(Ye&&Be<ve);if(K.flags&512&&(K.check=u(K.check,Me,Be,v)),ve-=Be,v+=Be,Ye)break e}else K.head&&(K.head.name=null);K.length=0,K.mode=F;case F:if(K.flags&4096){if(ve===0)break e;Be=0;do Ye=Me[v+Be++],K.head&&Ye&&K.length<65536&&(K.head.comment+=String.fromCharCode(Ye));while(Ye&&Be<ve);if(K.flags&512&&(K.check=u(K.check,Me,Be,v)),ve-=Be,v+=Be,Ye)break e}else K.head&&(K.head.comment=null);K.mode=D;case D:if(K.flags&512){for(;we<16;){if(ve===0)break e;ve--,ne+=Me[v++]<<we,we+=8}if(ne!==(K.check&65535)){ce.msg="header crc mismatch",K.mode=U;break}ne=0,we=0}K.head&&(K.head.hcrc=K.flags>>9&1,K.head.done=!0),ce.adler=K.check=0,K.mode=G;break;case O:for(;we<32;){if(ve===0)break e;ve--,ne+=Me[v++]<<we,we+=8}ce.adler=K.check=X(ne),ne=0,we=0,K.mode=k;case k:if(K.havedict===0)return ce.next_out=fe,ce.avail_out=I,ce.next_in=v,ce.avail_in=ve,K.hold=ne,K.bits=we,i;ce.adler=K.check=1,K.mode=G;case G:if(be===s||be===l)break e;case J:if(K.last){ne>>>=we&7,we-=we&7,K.mode=V;break}for(;we<3;){if(ve===0)break e;ve--,ne+=Me[v++]<<we,we+=8}switch(K.last=ne&1,ne>>>=1,we-=1,ne&3){case 0:K.mode=$;break;case 1:if(xe(K),K.mode=re,be===l){ne>>>=2,we-=2;break e}break;case 2:K.mode=Y;break;case 3:ce.msg="invalid block type",K.mode=U}ne>>>=2,we-=2;break;case $:for(ne>>>=we&7,we-=we&7;we<32;){if(ve===0)break e;ve--,ne+=Me[v++]<<we,we+=8}if((ne&65535)!==(ne>>>16^65535)){ce.msg="invalid stored block lengths",K.mode=U;break}if(K.length=ne&65535,ne=0,we=0,K.mode=ee,be===l)break e;case ee:K.mode=j;case j:if(Be=K.length,Be){if(Be>ve&&(Be=ve),Be>I&&(Be=I),Be===0)break e;E.arraySet(Ne,Me,v,Be,fe),ve-=Be,v+=Be,I-=Be,fe+=Be,K.length-=Be;break}K.mode=G;break;case Y:for(;we<14;){if(ve===0)break e;ve--,ne+=Me[v++]<<we,we+=8}if(K.nlen=(ne&31)+257,ne>>>=5,we-=5,K.ndist=(ne&31)+1,ne>>>=5,we-=5,K.ncode=(ne&15)+4,ne>>>=4,we-=4,K.nlen>286||K.ndist>30){ce.msg="too many length or distance symbols",K.mode=U;break}K.have=0,K.mode=W;case W:for(;K.have<K.ncode;){for(;we<3;){if(ve===0)break e;ve--,ne+=Me[v++]<<we,we+=8}K.lens[ct[K.have++]]=ne&7,ne>>>=3,we-=3}for(;K.have<19;)K.lens[ct[K.have++]]=0;if(K.lencode=K.lendyn,K.lenbits=7,qe={bits:K.lenbits},Qe=o(n,K.lens,0,19,K.lencode,0,K.work,qe),K.lenbits=qe.bits,Qe){ce.msg="invalid code lengths set",K.mode=U;break}K.have=0,K.mode=Q;case Q:for(;K.have<K.nlen+K.ndist;){for(;je=K.lencode[ne&(1<<K.lenbits)-1],Fe=je>>>24,We=je>>>16&255,Ze=je&65535,!(Fe<=we);){if(ve===0)break e;ve--,ne+=Me[v++]<<we,we+=8}if(Ze<16)ne>>>=Fe,we-=Fe,K.lens[K.have++]=Ze;else{if(Ze===16){for(Je=Fe+2;we<Je;){if(ve===0)break e;ve--,ne+=Me[v++]<<we,we+=8}if(ne>>>=Fe,we-=Fe,K.have===0){ce.msg="invalid bit length repeat",K.mode=U;break}Ye=K.lens[K.have-1],Be=3+(ne&3),ne>>>=2,we-=2}else if(Ze===17){for(Je=Fe+3;we<Je;){if(ve===0)break e;ve--,ne+=Me[v++]<<we,we+=8}ne>>>=Fe,we-=Fe,Ye=0,Be=3+(ne&7),ne>>>=3,we-=3}else{for(Je=Fe+7;we<Je;){if(ve===0)break e;ve--,ne+=Me[v++]<<we,we+=8}ne>>>=Fe,we-=Fe,Ye=0,Be=11+(ne&127),ne>>>=7,we-=7}if(K.have+Be>K.nlen+K.ndist){ce.msg="invalid bit length repeat",K.mode=U;break}for(;Be--;)K.lens[K.have++]=Ye}}if(K.mode===U)break;if(K.lens[256]===0){ce.msg="invalid code -- missing end-of-block",K.mode=U;break}if(K.lenbits=9,qe={bits:K.lenbits},Qe=o(r,K.lens,0,K.nlen,K.lencode,0,K.work,qe),K.lenbits=qe.bits,Qe){ce.msg="invalid literal/lengths set",K.mode=U;break}if(K.distbits=6,K.distcode=K.distdyn,qe={bits:K.distbits},Qe=o(t,K.lens,K.nlen,K.ndist,K.distcode,0,K.work,qe),K.distbits=qe.bits,Qe){ce.msg="invalid distances set",K.mode=U;break}if(K.mode=re,be===l)break e;case re:K.mode=ue;case ue:if(ve>=6&&I>=258){ce.next_out=fe,ce.avail_out=I,ce.next_in=v,ce.avail_in=ve,K.hold=ne,K.bits=we,c(ce,Re),fe=ce.next_out,Ne=ce.output,I=ce.avail_out,v=ce.next_in,Me=ce.input,ve=ce.avail_in,ne=K.hold,we=K.bits,K.mode===G&&(K.back=-1);break}for(K.back=0;je=K.lencode[ne&(1<<K.lenbits)-1],Fe=je>>>24,We=je>>>16&255,Ze=je&65535,!(Fe<=we);){if(ve===0)break e;ve--,ne+=Me[v++]<<we,we+=8}if(We&&!(We&240)){for(Ke=Fe,at=We,ot=Ze;je=K.lencode[ot+((ne&(1<<Ke+at)-1)>>Ke)],Fe=je>>>24,We=je>>>16&255,Ze=je&65535,!(Ke+Fe<=we);){if(ve===0)break e;ve--,ne+=Me[v++]<<we,we+=8}ne>>>=Ke,we-=Ke,K.back+=Ke}if(ne>>>=Fe,we-=Fe,K.back+=Fe,K.length=Ze,We===0){K.mode=ae;break}if(We&32){K.back=-1,K.mode=G;break}if(We&64){ce.msg="invalid literal/length code",K.mode=U;break}K.extra=We&15,K.mode=le;case le:if(K.extra){for(Je=K.extra;we<Je;){if(ve===0)break e;ve--,ne+=Me[v++]<<we,we+=8}K.length+=ne&(1<<K.extra)-1,ne>>>=K.extra,we-=K.extra,K.back+=K.extra}K.was=K.length,K.mode=he;case he:for(;je=K.distcode[ne&(1<<K.distbits)-1],Fe=je>>>24,We=je>>>16&255,Ze=je&65535,!(Fe<=we);){if(ve===0)break e;ve--,ne+=Me[v++]<<we,we+=8}if(!(We&240)){for(Ke=Fe,at=We,ot=Ze;je=K.distcode[ot+((ne&(1<<Ke+at)-1)>>Ke)],Fe=je>>>24,We=je>>>16&255,Ze=je&65535,!(Ke+Fe<=we);){if(ve===0)break e;ve--,ne+=Me[v++]<<we,we+=8}ne>>>=Ke,we-=Ke,K.back+=Ke}if(ne>>>=Fe,we-=Fe,K.back+=Fe,We&64){ce.msg="invalid distance code",K.mode=U;break}K.offset=Ze,K.extra=We&15,K.mode=ge;case ge:if(K.extra){for(Je=K.extra;we<Je;){if(ve===0)break e;ve--,ne+=Me[v++]<<we,we+=8}K.offset+=ne&(1<<K.extra)-1,ne>>>=K.extra,we-=K.extra,K.back+=K.extra}if(K.offset>K.dmax){ce.msg="invalid distance too far back",K.mode=U;break}K.mode=ie;case ie:if(I===0)break e;if(Be=Re-I,K.offset>Be){if(Be=K.offset-Be,Be>K.whave&&K.sane){ce.msg="invalid distance too far back",K.mode=U;break}Be>K.wnext?(Be-=K.wnext,ze=K.wsize-Be):ze=K.wnext-Be,Be>K.length&&(Be=K.length),Ve=K.window}else Ve=Ne,ze=fe-K.offset,Be=K.length;Be>I&&(Be=I),I-=Be,K.length-=Be;do Ne[fe++]=Ve[ze++];while(--Be);K.length===0&&(K.mode=ue);break;case ae:if(I===0)break e;Ne[fe++]=K.length,I--,K.mode=ue;break;case V:if(K.wrap){for(;we<32;){if(ve===0)break e;ve--,ne|=Me[v++]<<we,we+=8}if(Re-=I,ce.total_out+=Re,K.total+=Re,Re&&(ce.adler=K.check=K.flags?u(K.check,Ne,Re,fe-Re):m(K.check,Ne,Re,fe-Re)),Re=I,(K.flags?ne:X(ne))!==K.check){ce.msg="incorrect data check",K.mode=U;break}ne=0,we=0}K.mode=q;case q:if(K.wrap&&K.flags){for(;we<32;){if(ve===0)break e;ve--,ne+=Me[v++]<<we,we+=8}if(ne!==(K.total&4294967295)){ce.msg="incorrect length check",K.mode=U;break}ne=0,we=0}K.mode=te;case te:Qe=f;break e;case U:Qe=d;break e;case L:return p;case P:default:return h}return ce.next_out=fe,ce.avail_out=I,ce.next_in=v,ce.avail_in=ve,K.hold=ne,K.bits=we,(K.wsize||Re!==ce.avail_out&&K.mode<U&&(K.mode<V||be!==e))&&Ie(ce,ce.output,ce.next_out,Re-ce.avail_out),Ce-=ce.avail_in,Re-=ce.avail_out,ce.total_in+=Ce,ce.total_out+=Re,K.total+=Re,K.wrap&&Re&&(ce.adler=K.check=K.flags?u(K.check,Ne,Re,ce.next_out-Re):m(K.check,Ne,Re,ce.next_out-Re)),ce.data_type=K.bits+(K.last?64:0)+(K.mode===G?128:0)+(K.mode===re||K.mode===ee?256:0),(Ce===0&&Re===0||be===e)&&Qe===a&&(Qe=_),Qe}function de(ce){if(!ce||!ce.state)return h;var be=ce.state;return be.window&&(be.window=null),ce.state=null,a}function pe(ce,be){var K;return!ce||!ce.state||(K=ce.state,!(K.wrap&2))?h:(K.head=be,be.done=!1,a)}function Se(ce,be){var K=be.length,Me,Ne,v;return!ce||!ce.state||(Me=ce.state,Me.wrap!==0&&Me.mode!==k)?h:Me.mode===k&&(Ne=1,Ne=m(Ne,be,K,0),Ne!==Me.check)?d:(v=Ie(ce,be,K,K),v?(Me.mode=L,p):(Me.havedict=1,a))}y.inflateReset=ye,y.inflateReset2=Te,y.inflateResetKeep=_e,y.inflateInit=Le,y.inflateInit2=ke,y.inflate=N,y.inflateEnd=de,y.inflateGetHeader=pe,y.inflateSetDictionary=Se,y.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":36,"./adler32":37,"./crc32":39,"./inffast":41,"./inftrees":43}],43:[function(M,H,y){var E=M("../utils/common"),m=15,u=852,c=592,o=0,n=1,r=2,t=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],e=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],l=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];H.exports=function(f,i,h,d,p,_,g,b){var w=b.bits,A=0,R=0,B=0,T=0,z=0,F=0,D=0,O=0,k=0,G=0,J,$,ee,j,Y,W=null,Q=0,re,ue=new E.Buf16(m+1),le=new E.Buf16(m+1),he=null,ge=0,ie,ae,V;for(A=0;A<=m;A++)ue[A]=0;for(R=0;R<d;R++)ue[i[h+R]]++;for(z=w,T=m;T>=1&&ue[T]===0;T--);if(z>T&&(z=T),T===0)return p[_++]=1<<24|64<<16|0,p[_++]=1<<24|64<<16|0,b.bits=1,0;for(B=1;B<T&&ue[B]===0;B++);for(z<B&&(z=B),O=1,A=1;A<=m;A++)if(O<<=1,O-=ue[A],O<0)return-1;if(O>0&&(f===o||T!==1))return-1;for(le[1]=0,A=1;A<m;A++)le[A+1]=le[A]+ue[A];for(R=0;R<d;R++)i[h+R]!==0&&(g[le[i[h+R]]++]=R);if(f===o?(W=he=g,re=19):f===n?(W=t,Q-=257,he=e,ge-=257,re=256):(W=s,he=l,re=-1),G=0,R=0,A=B,Y=_,F=z,D=0,ee=-1,k=1<<z,j=k-1,f===n&&k>u||f===r&&k>c)return 1;for(;;){ie=A-D,g[R]<re?(ae=0,V=g[R]):g[R]>re?(ae=he[ge+g[R]],V=W[Q+g[R]]):(ae=96,V=0),J=1<<A-D,$=1<<F,B=$;do $-=J,p[Y+(G>>D)+$]=ie<<24|ae<<16|V|0;while($!==0);for(J=1<<A-1;G&J;)J>>=1;if(J!==0?(G&=J-1,G+=J):G=0,R++,--ue[A]===0){if(A===T)break;A=i[h+g[R]]}if(A>z&&(G&j)!==ee){for(D===0&&(D=z),Y+=B,F=A-D,O=1<<F;F+D<T&&(O-=ue[F+D],!(O<=0));)F++,O<<=1;if(k+=1<<F,f===n&&k>u||f===r&&k>c)return 1;ee=G&j,p[ee]=z<<24|F<<16|Y-_|0}}return G!==0&&(p[Y+G]=A-D<<24|64<<16|0),b.bits=z,0}},{"../utils/common":36}],44:[function(M,H,y){H.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],45:[function(M,H,y){var E=M("../utils/common"),m=4,u=0,c=1,o=2;function n(N){for(var de=N.length;--de>=0;)N[de]=0}var r=0,t=1,e=2,s=3,l=258,a=29,f=256,i=f+1+a,h=30,d=19,p=2*i+1,_=15,g=16,b=7,w=256,A=16,R=17,B=18,T=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],z=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],F=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],D=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],O=512,k=new Array((i+2)*2);n(k);var G=new Array(h*2);n(G);var J=new Array(O);n(J);var $=new Array(l-s+1);n($);var ee=new Array(a);n(ee);var j=new Array(h);n(j);function Y(N,de,pe,Se,ce){this.static_tree=N,this.extra_bits=de,this.extra_base=pe,this.elems=Se,this.max_length=ce,this.has_stree=N&&N.length}var W,Q,re;function ue(N,de){this.dyn_tree=N,this.max_code=0,this.stat_desc=de}function le(N){return N<256?J[N]:J[256+(N>>>7)]}function he(N,de){N.pending_buf[N.pending++]=de&255,N.pending_buf[N.pending++]=de>>>8&255}function ge(N,de,pe){N.bi_valid>g-pe?(N.bi_buf|=de<<N.bi_valid&65535,he(N,N.bi_buf),N.bi_buf=de>>g-N.bi_valid,N.bi_valid+=pe-g):(N.bi_buf|=de<<N.bi_valid&65535,N.bi_valid+=pe)}function ie(N,de,pe){ge(N,pe[de*2],pe[de*2+1])}function ae(N,de){var pe=0;do pe|=N&1,N>>>=1,pe<<=1;while(--de>0);return pe>>>1}function V(N){N.bi_valid===16?(he(N,N.bi_buf),N.bi_buf=0,N.bi_valid=0):N.bi_valid>=8&&(N.pending_buf[N.pending++]=N.bi_buf&255,N.bi_buf>>=8,N.bi_valid-=8)}function q(N,de){var pe=de.dyn_tree,Se=de.max_code,ce=de.stat_desc.static_tree,be=de.stat_desc.has_stree,K=de.stat_desc.extra_bits,Me=de.stat_desc.extra_base,Ne=de.stat_desc.max_length,v,fe,ve,I,ne,we,Ce=0;for(I=0;I<=_;I++)N.bl_count[I]=0;for(pe[N.heap[N.heap_max]*2+1]=0,v=N.heap_max+1;v<p;v++)fe=N.heap[v],I=pe[pe[fe*2+1]*2+1]+1,I>Ne&&(I=Ne,Ce++),pe[fe*2+1]=I,!(fe>Se)&&(N.bl_count[I]++,ne=0,fe>=Me&&(ne=K[fe-Me]),we=pe[fe*2],N.opt_len+=we*(I+ne),be&&(N.static_len+=we*(ce[fe*2+1]+ne)));if(Ce!==0){do{for(I=Ne-1;N.bl_count[I]===0;)I--;N.bl_count[I]--,N.bl_count[I+1]+=2,N.bl_count[Ne]--,Ce-=2}while(Ce>0);for(I=Ne;I!==0;I--)for(fe=N.bl_count[I];fe!==0;)ve=N.heap[--v],!(ve>Se)&&(pe[ve*2+1]!==I&&(N.opt_len+=(I-pe[ve*2+1])*pe[ve*2],pe[ve*2+1]=I),fe--)}}function te(N,de,pe){var Se=new Array(_+1),ce=0,be,K;for(be=1;be<=_;be++)Se[be]=ce=ce+pe[be-1]<<1;for(K=0;K<=de;K++){var Me=N[K*2+1];Me!==0&&(N[K*2]=ae(Se[Me]++,Me))}}function U(){var N,de,pe,Se,ce,be=new Array(_+1);for(pe=0,Se=0;Se<a-1;Se++)for(ee[Se]=pe,N=0;N<1<<T[Se];N++)$[pe++]=Se;for($[pe-1]=Se,ce=0,Se=0;Se<16;Se++)for(j[Se]=ce,N=0;N<1<<z[Se];N++)J[ce++]=Se;for(ce>>=7;Se<h;Se++)for(j[Se]=ce<<7,N=0;N<1<<z[Se]-7;N++)J[256+ce++]=Se;for(de=0;de<=_;de++)be[de]=0;for(N=0;N<=143;)k[N*2+1]=8,N++,be[8]++;for(;N<=255;)k[N*2+1]=9,N++,be[9]++;for(;N<=279;)k[N*2+1]=7,N++,be[7]++;for(;N<=287;)k[N*2+1]=8,N++,be[8]++;for(te(k,i+1,be),N=0;N<h;N++)G[N*2+1]=5,G[N*2]=ae(N,5);W=new Y(k,T,f+1,i,_),Q=new Y(G,z,0,h,_),re=new Y(new Array(0),F,0,d,b)}function L(N){var de;for(de=0;de<i;de++)N.dyn_ltree[de*2]=0;for(de=0;de<h;de++)N.dyn_dtree[de*2]=0;for(de=0;de<d;de++)N.bl_tree[de*2]=0;N.dyn_ltree[w*2]=1,N.opt_len=N.static_len=0,N.last_lit=N.matches=0}function P(N){N.bi_valid>8?he(N,N.bi_buf):N.bi_valid>0&&(N.pending_buf[N.pending++]=N.bi_buf),N.bi_buf=0,N.bi_valid=0}function Z(N,de,pe,Se){P(N),he(N,pe),he(N,~pe),E.arraySet(N.pending_buf,N.window,de,pe,N.pending),N.pending+=pe}function x(N,de,pe,Se){var ce=de*2,be=pe*2;return N[ce]<N[be]||N[ce]===N[be]&&Se[de]<=Se[pe]}function C(N,de,pe){for(var Se=N.heap[pe],ce=pe<<1;ce<=N.heap_len&&(ce<N.heap_len&&x(de,N.heap[ce+1],N.heap[ce],N.depth)&&ce++,!x(de,Se,N.heap[ce],N.depth));)N.heap[pe]=N.heap[ce],pe=ce,ce<<=1;N.heap[pe]=Se}function S(N,de,pe){var Se,ce,be=0,K,Me;if(N.last_lit!==0)do Se=N.pending_buf[N.d_buf+be*2]<<8|N.pending_buf[N.d_buf+be*2+1],ce=N.pending_buf[N.l_buf+be],be++,Se===0?ie(N,ce,de):(K=$[ce],ie(N,K+f+1,de),Me=T[K],Me!==0&&(ce-=ee[K],ge(N,ce,Me)),Se--,K=le(Se),ie(N,K,pe),Me=z[K],Me!==0&&(Se-=j[K],ge(N,Se,Me)));while(be<N.last_lit);ie(N,w,de)}function X(N,de){var pe=de.dyn_tree,Se=de.stat_desc.static_tree,ce=de.stat_desc.has_stree,be=de.stat_desc.elems,K,Me,Ne=-1,v;for(N.heap_len=0,N.heap_max=p,K=0;K<be;K++)pe[K*2]!==0?(N.heap[++N.heap_len]=Ne=K,N.depth[K]=0):pe[K*2+1]=0;for(;N.heap_len<2;)v=N.heap[++N.heap_len]=Ne<2?++Ne:0,pe[v*2]=1,N.depth[v]=0,N.opt_len--,ce&&(N.static_len-=Se[v*2+1]);for(de.max_code=Ne,K=N.heap_len>>1;K>=1;K--)C(N,pe,K);v=be;do K=N.heap[1],N.heap[1]=N.heap[N.heap_len--],C(N,pe,1),Me=N.heap[1],N.heap[--N.heap_max]=K,N.heap[--N.heap_max]=Me,pe[v*2]=pe[K*2]+pe[Me*2],N.depth[v]=(N.depth[K]>=N.depth[Me]?N.depth[K]:N.depth[Me])+1,pe[K*2+1]=pe[Me*2+1]=v,N.heap[1]=v++,C(N,pe,1);while(N.heap_len>=2);N.heap[--N.heap_max]=N.heap[1],q(N,de),te(pe,Ne,N.bl_count)}function oe(N,de,pe){var Se,ce=-1,be,K=de[0*2+1],Me=0,Ne=7,v=4;for(K===0&&(Ne=138,v=3),de[(pe+1)*2+1]=65535,Se=0;Se<=pe;Se++)be=K,K=de[(Se+1)*2+1],!(++Me<Ne&&be===K)&&(Me<v?N.bl_tree[be*2]+=Me:be!==0?(be!==ce&&N.bl_tree[be*2]++,N.bl_tree[A*2]++):Me<=10?N.bl_tree[R*2]++:N.bl_tree[B*2]++,Me=0,ce=be,K===0?(Ne=138,v=3):be===K?(Ne=6,v=3):(Ne=7,v=4))}function _e(N,de,pe){var Se,ce=-1,be,K=de[0*2+1],Me=0,Ne=7,v=4;for(K===0&&(Ne=138,v=3),Se=0;Se<=pe;Se++)if(be=K,K=de[(Se+1)*2+1],!(++Me<Ne&&be===K)){if(Me<v)do ie(N,be,N.bl_tree);while(--Me!==0);else be!==0?(be!==ce&&(ie(N,be,N.bl_tree),Me--),ie(N,A,N.bl_tree),ge(N,Me-3,2)):Me<=10?(ie(N,R,N.bl_tree),ge(N,Me-3,3)):(ie(N,B,N.bl_tree),ge(N,Me-11,7));Me=0,ce=be,K===0?(Ne=138,v=3):be===K?(Ne=6,v=3):(Ne=7,v=4)}}function ye(N){var de;for(oe(N,N.dyn_ltree,N.l_desc.max_code),oe(N,N.dyn_dtree,N.d_desc.max_code),X(N,N.bl_desc),de=d-1;de>=3&&N.bl_tree[D[de]*2+1]===0;de--);return N.opt_len+=3*(de+1)+5+5+4,de}function Te(N,de,pe,Se){var ce;for(ge(N,de-257,5),ge(N,pe-1,5),ge(N,Se-4,4),ce=0;ce<Se;ce++)ge(N,N.bl_tree[D[ce]*2+1],3);_e(N,N.dyn_ltree,de-1),_e(N,N.dyn_dtree,pe-1)}function ke(N){var de=4093624447,pe;for(pe=0;pe<=31;pe++,de>>>=1)if(de&1&&N.dyn_ltree[pe*2]!==0)return u;if(N.dyn_ltree[9*2]!==0||N.dyn_ltree[10*2]!==0||N.dyn_ltree[13*2]!==0)return c;for(pe=32;pe<f;pe++)if(N.dyn_ltree[pe*2]!==0)return c;return u}var Le=!1;function Pe(N){Le||(U(),Le=!0),N.l_desc=new ue(N.dyn_ltree,W),N.d_desc=new ue(N.dyn_dtree,Q),N.bl_desc=new ue(N.bl_tree,re),N.bi_buf=0,N.bi_valid=0,L(N)}function Oe(N,de,pe,Se){ge(N,(r<<1)+(Se?1:0),3),Z(N,de,pe)}function Ae(N){ge(N,t<<1,3),ie(N,w,k),V(N)}function xe(N,de,pe,Se){var ce,be,K=0;N.level>0?(N.strm.data_type===o&&(N.strm.data_type=ke(N)),X(N,N.l_desc),X(N,N.d_desc),K=ye(N),ce=N.opt_len+3+7>>>3,be=N.static_len+3+7>>>3,be<=ce&&(ce=be)):ce=be=pe+5,pe+4<=ce&&de!==-1?Oe(N,de,pe,Se):N.strategy===m||be===ce?(ge(N,(t<<1)+(Se?1:0),3),S(N,k,G)):(ge(N,(e<<1)+(Se?1:0),3),Te(N,N.l_desc.max_code+1,N.d_desc.max_code+1,K+1),S(N,N.dyn_ltree,N.dyn_dtree)),L(N),Se&&P(N)}function Ie(N,de,pe){return N.pending_buf[N.d_buf+N.last_lit*2]=de>>>8&255,N.pending_buf[N.d_buf+N.last_lit*2+1]=de&255,N.pending_buf[N.l_buf+N.last_lit]=pe&255,N.last_lit++,de===0?N.dyn_ltree[pe*2]++:(N.matches++,de--,N.dyn_ltree[($[pe]+f+1)*2]++,N.dyn_dtree[le(de)*2]++),N.last_lit===N.lit_bufsize-1}y._tr_init=Pe,y._tr_stored_block=Oe,y._tr_flush_block=xe,y._tr_tally=Ie,y._tr_align=Ae},{"../utils/common":36}],46:[function(M,H,y){function E(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}H.exports=E},{}],47:[function(M,H,y){arguments[4][33][0].apply(y,arguments)},{dup:33}],48:[function(M,H,y){(function(t){var m=M("base64-js"),u=M("ieee754"),c=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;y.Buffer=t,y.SlowBuffer=_,y.INSPECT_MAX_BYTES=50;var o=2147483647;y.kMaxLength=o,t.TYPED_ARRAY_SUPPORT=n(),!t.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function n(){try{var x=new Uint8Array(1),C={foo:function(){return 42}};return Object.setPrototypeOf(C,Uint8Array.prototype),Object.setPrototypeOf(x,C),x.foo()===42}catch{return!1}}Object.defineProperty(t.prototype,"parent",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.buffer}}),Object.defineProperty(t.prototype,"offset",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.byteOffset}});function r(x){if(x>o)throw new RangeError('The value "'+x+'" is invalid for option "size"');var C=new Uint8Array(x);return Object.setPrototypeOf(C,t.prototype),C}function t(x,C,S){if(typeof x=="number"){if(typeof C=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return a(x)}return e(x,C,S)}typeof Symbol<"u"&&Symbol.species!=null&&t[Symbol.species]===t&&Object.defineProperty(t,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),t.poolSize=8192;function e(x,C,S){if(typeof x=="string")return f(x,C);if(ArrayBuffer.isView(x))return i(x);if(x==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof x);if(L(x,ArrayBuffer)||x&&L(x.buffer,ArrayBuffer))return h(x,C,S);if(typeof x=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var X=x.valueOf&&x.valueOf();if(X!=null&&X!==x)return t.from(X,C,S);var oe=d(x);if(oe)return oe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof x[Symbol.toPrimitive]=="function")return t.from(x[Symbol.toPrimitive]("string"),C,S);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof x)}t.from=function(x,C,S){return e(x,C,S)},Object.setPrototypeOf(t.prototype,Uint8Array.prototype),Object.setPrototypeOf(t,Uint8Array);function s(x){if(typeof x!="number")throw new TypeError('"size" argument must be of type number');if(x<0)throw new RangeError('The value "'+x+'" is invalid for option "size"')}function l(x,C,S){return s(x),x<=0?r(x):C!==void 0?typeof S=="string"?r(x).fill(C,S):r(x).fill(C):r(x)}t.alloc=function(x,C,S){return l(x,C,S)};function a(x){return s(x),r(x<0?0:p(x)|0)}t.allocUnsafe=function(x){return a(x)},t.allocUnsafeSlow=function(x){return a(x)};function f(x,C){if((typeof C!="string"||C==="")&&(C="utf8"),!t.isEncoding(C))throw new TypeError("Unknown encoding: "+C);var S=g(x,C)|0,X=r(S),oe=X.write(x,C);return oe!==S&&(X=X.slice(0,oe)),X}function i(x){for(var C=x.length<0?0:p(x.length)|0,S=r(C),X=0;X<C;X+=1)S[X]=x[X]&255;return S}function h(x,C,S){if(C<0||x.byteLength<C)throw new RangeError('"offset" is outside of buffer bounds');if(x.byteLength<C+(S||0))throw new RangeError('"length" is outside of buffer bounds');var X;return C===void 0&&S===void 0?X=new Uint8Array(x):S===void 0?X=new Uint8Array(x,C):X=new Uint8Array(x,C,S),Object.setPrototypeOf(X,t.prototype),X}function d(x){if(t.isBuffer(x)){var C=p(x.length)|0,S=r(C);return S.length===0||x.copy(S,0,0,C),S}if(x.length!==void 0)return typeof x.length!="number"||P(x.length)?r(0):i(x);if(x.type==="Buffer"&&Array.isArray(x.data))return i(x.data)}function p(x){if(x>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return x|0}function _(x){return+x!=x&&(x=0),t.alloc(+x)}t.isBuffer=function(C){return C!=null&&C._isBuffer===!0&&C!==t.prototype},t.compare=function(C,S){if(L(C,Uint8Array)&&(C=t.from(C,C.offset,C.byteLength)),L(S,Uint8Array)&&(S=t.from(S,S.offset,S.byteLength)),!t.isBuffer(C)||!t.isBuffer(S))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(C===S)return 0;for(var X=C.length,oe=S.length,_e=0,ye=Math.min(X,oe);_e<ye;++_e)if(C[_e]!==S[_e]){X=C[_e],oe=S[_e];break}return X<oe?-1:oe<X?1:0},t.isEncoding=function(C){switch(String(C).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(C,S){if(!Array.isArray(C))throw new TypeError('"list" argument must be an Array of Buffers');if(C.length===0)return t.alloc(0);var X;if(S===void 0)for(S=0,X=0;X<C.length;++X)S+=C[X].length;var oe=t.allocUnsafe(S),_e=0;for(X=0;X<C.length;++X){var ye=C[X];if(L(ye,Uint8Array)&&(ye=t.from(ye)),!t.isBuffer(ye))throw new TypeError('"list" argument must be an Array of Buffers');ye.copy(oe,_e),_e+=ye.length}return oe};function g(x,C){if(t.isBuffer(x))return x.length;if(ArrayBuffer.isView(x)||L(x,ArrayBuffer))return x.byteLength;if(typeof x!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof x);var S=x.length,X=arguments.length>2&&arguments[2]===!0;if(!X&&S===0)return 0;for(var oe=!1;;)switch(C){case"ascii":case"latin1":case"binary":return S;case"utf8":case"utf-8":return ae(x).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S*2;case"hex":return S>>>1;case"base64":return te(x).length;default:if(oe)return X?-1:ae(x).length;C=(""+C).toLowerCase(),oe=!0}}t.byteLength=g;function b(x,C,S){var X=!1;if((C===void 0||C<0)&&(C=0),C>this.length||((S===void 0||S>this.length)&&(S=this.length),S<=0)||(S>>>=0,C>>>=0,S<=C))return"";for(x||(x="utf8");;)switch(x){case"hex":return Y(this,C,S);case"utf8":case"utf-8":return G(this,C,S);case"ascii":return ee(this,C,S);case"latin1":case"binary":return j(this,C,S);case"base64":return k(this,C,S);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W(this,C,S);default:if(X)throw new TypeError("Unknown encoding: "+x);x=(x+"").toLowerCase(),X=!0}}t.prototype._isBuffer=!0;function w(x,C,S){var X=x[C];x[C]=x[S],x[S]=X}t.prototype.swap16=function(){var C=this.length;if(C%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var S=0;S<C;S+=2)w(this,S,S+1);return this},t.prototype.swap32=function(){var C=this.length;if(C%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var S=0;S<C;S+=4)w(this,S,S+3),w(this,S+1,S+2);return this},t.prototype.swap64=function(){var C=this.length;if(C%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var S=0;S<C;S+=8)w(this,S,S+7),w(this,S+1,S+6),w(this,S+2,S+5),w(this,S+3,S+4);return this},t.prototype.toString=function(){var C=this.length;return C===0?"":arguments.length===0?G(this,0,C):b.apply(this,arguments)},t.prototype.toLocaleString=t.prototype.toString,t.prototype.equals=function(C){if(!t.isBuffer(C))throw new TypeError("Argument must be a Buffer");return this===C?!0:t.compare(this,C)===0},t.prototype.inspect=function(){var C="",S=y.INSPECT_MAX_BYTES;return C=this.toString("hex",0,S).replace(/(.{2})/g,"$1 ").trim(),this.length>S&&(C+=" ... "),"<Buffer "+C+">"},c&&(t.prototype[c]=t.prototype.inspect),t.prototype.compare=function(C,S,X,oe,_e){if(L(C,Uint8Array)&&(C=t.from(C,C.offset,C.byteLength)),!t.isBuffer(C))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof C);if(S===void 0&&(S=0),X===void 0&&(X=C?C.length:0),oe===void 0&&(oe=0),_e===void 0&&(_e=this.length),S<0||X>C.length||oe<0||_e>this.length)throw new RangeError("out of range index");if(oe>=_e&&S>=X)return 0;if(oe>=_e)return-1;if(S>=X)return 1;if(S>>>=0,X>>>=0,oe>>>=0,_e>>>=0,this===C)return 0;for(var ye=_e-oe,Te=X-S,ke=Math.min(ye,Te),Le=this.slice(oe,_e),Pe=C.slice(S,X),Oe=0;Oe<ke;++Oe)if(Le[Oe]!==Pe[Oe]){ye=Le[Oe],Te=Pe[Oe];break}return ye<Te?-1:Te<ye?1:0};function A(x,C,S,X,oe){if(x.length===0)return-1;if(typeof S=="string"?(X=S,S=0):S>2147483647?S=2147483647:S<-2147483648&&(S=-2147483648),S=+S,P(S)&&(S=oe?0:x.length-1),S<0&&(S=x.length+S),S>=x.length){if(oe)return-1;S=x.length-1}else if(S<0)if(oe)S=0;else return-1;if(typeof C=="string"&&(C=t.from(C,X)),t.isBuffer(C))return C.length===0?-1:R(x,C,S,X,oe);if(typeof C=="number")return C=C&255,typeof Uint8Array.prototype.indexOf=="function"?oe?Uint8Array.prototype.indexOf.call(x,C,S):Uint8Array.prototype.lastIndexOf.call(x,C,S):R(x,[C],S,X,oe);throw new TypeError("val must be string, number or Buffer")}function R(x,C,S,X,oe){var _e=1,ye=x.length,Te=C.length;if(X!==void 0&&(X=String(X).toLowerCase(),X==="ucs2"||X==="ucs-2"||X==="utf16le"||X==="utf-16le")){if(x.length<2||C.length<2)return-1;_e=2,ye/=2,Te/=2,S/=2}function ke(xe,Ie){return _e===1?xe[Ie]:xe.readUInt16BE(Ie*_e)}var Le;if(oe){var Pe=-1;for(Le=S;Le<ye;Le++)if(ke(x,Le)===ke(C,Pe===-1?0:Le-Pe)){if(Pe===-1&&(Pe=Le),Le-Pe+1===Te)return Pe*_e}else Pe!==-1&&(Le-=Le-Pe),Pe=-1}else for(S+Te>ye&&(S=ye-Te),Le=S;Le>=0;Le--){for(var Oe=!0,Ae=0;Ae<Te;Ae++)if(ke(x,Le+Ae)!==ke(C,Ae)){Oe=!1;break}if(Oe)return Le}return-1}t.prototype.includes=function(C,S,X){return this.indexOf(C,S,X)!==-1},t.prototype.indexOf=function(C,S,X){return A(this,C,S,X,!0)},t.prototype.lastIndexOf=function(C,S,X){return A(this,C,S,X,!1)};function B(x,C,S,X){S=Number(S)||0;var oe=x.length-S;X?(X=Number(X),X>oe&&(X=oe)):X=oe;var _e=C.length;X>_e/2&&(X=_e/2);for(var ye=0;ye<X;++ye){var Te=parseInt(C.substr(ye*2,2),16);if(P(Te))return ye;x[S+ye]=Te}return ye}function T(x,C,S,X){return U(ae(C,x.length-S),x,S,X)}function z(x,C,S,X){return U(V(C),x,S,X)}function F(x,C,S,X){return z(x,C,S,X)}function D(x,C,S,X){return U(te(C),x,S,X)}function O(x,C,S,X){return U(q(C,x.length-S),x,S,X)}t.prototype.write=function(C,S,X,oe){if(S===void 0)oe="utf8",X=this.length,S=0;else if(X===void 0&&typeof S=="string")oe=S,X=this.length,S=0;else if(isFinite(S))S=S>>>0,isFinite(X)?(X=X>>>0,oe===void 0&&(oe="utf8")):(oe=X,X=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var _e=this.length-S;if((X===void 0||X>_e)&&(X=_e),C.length>0&&(X<0||S<0)||S>this.length)throw new RangeError("Attempt to write outside buffer bounds");oe||(oe="utf8");for(var ye=!1;;)switch(oe){case"hex":return B(this,C,S,X);case"utf8":case"utf-8":return T(this,C,S,X);case"ascii":return z(this,C,S,X);case"latin1":case"binary":return F(this,C,S,X);case"base64":return D(this,C,S,X);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,C,S,X);default:if(ye)throw new TypeError("Unknown encoding: "+oe);oe=(""+oe).toLowerCase(),ye=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function k(x,C,S){return C===0&&S===x.length?m.fromByteArray(x):m.fromByteArray(x.slice(C,S))}function G(x,C,S){S=Math.min(x.length,S);for(var X=[],oe=C;oe<S;){var _e=x[oe],ye=null,Te=_e>239?4:_e>223?3:_e>191?2:1;if(oe+Te<=S){var ke,Le,Pe,Oe;switch(Te){case 1:_e<128&&(ye=_e);break;case 2:ke=x[oe+1],(ke&192)===128&&(Oe=(_e&31)<<6|ke&63,Oe>127&&(ye=Oe));break;case 3:ke=x[oe+1],Le=x[oe+2],(ke&192)===128&&(Le&192)===128&&(Oe=(_e&15)<<12|(ke&63)<<6|Le&63,Oe>2047&&(Oe<55296||Oe>57343)&&(ye=Oe));break;case 4:ke=x[oe+1],Le=x[oe+2],Pe=x[oe+3],(ke&192)===128&&(Le&192)===128&&(Pe&192)===128&&(Oe=(_e&15)<<18|(ke&63)<<12|(Le&63)<<6|Pe&63,Oe>65535&&Oe<1114112&&(ye=Oe))}}ye===null?(ye=65533,Te=1):ye>65535&&(ye-=65536,X.push(ye>>>10&1023|55296),ye=56320|ye&1023),X.push(ye),oe+=Te}return $(X)}var J=4096;function $(x){var C=x.length;if(C<=J)return String.fromCharCode.apply(String,x);for(var S="",X=0;X<C;)S+=String.fromCharCode.apply(String,x.slice(X,X+=J));return S}function ee(x,C,S){var X="";S=Math.min(x.length,S);for(var oe=C;oe<S;++oe)X+=String.fromCharCode(x[oe]&127);return X}function j(x,C,S){var X="";S=Math.min(x.length,S);for(var oe=C;oe<S;++oe)X+=String.fromCharCode(x[oe]);return X}function Y(x,C,S){var X=x.length;(!C||C<0)&&(C=0),(!S||S<0||S>X)&&(S=X);for(var oe="",_e=C;_e<S;++_e)oe+=Z[x[_e]];return oe}function W(x,C,S){for(var X=x.slice(C,S),oe="",_e=0;_e<X.length;_e+=2)oe+=String.fromCharCode(X[_e]+X[_e+1]*256);return oe}t.prototype.slice=function(C,S){var X=this.length;C=~~C,S=S===void 0?X:~~S,C<0?(C+=X,C<0&&(C=0)):C>X&&(C=X),S<0?(S+=X,S<0&&(S=0)):S>X&&(S=X),S<C&&(S=C);var oe=this.subarray(C,S);return Object.setPrototypeOf(oe,t.prototype),oe};function Q(x,C,S){if(x%1!==0||x<0)throw new RangeError("offset is not uint");if(x+C>S)throw new RangeError("Trying to access beyond buffer length")}t.prototype.readUIntLE=function(C,S,X){C=C>>>0,S=S>>>0,X||Q(C,S,this.length);for(var oe=this[C],_e=1,ye=0;++ye<S&&(_e*=256);)oe+=this[C+ye]*_e;return oe},t.prototype.readUIntBE=function(C,S,X){C=C>>>0,S=S>>>0,X||Q(C,S,this.length);for(var oe=this[C+--S],_e=1;S>0&&(_e*=256);)oe+=this[C+--S]*_e;return oe},t.prototype.readUInt8=function(C,S){return C=C>>>0,S||Q(C,1,this.length),this[C]},t.prototype.readUInt16LE=function(C,S){return C=C>>>0,S||Q(C,2,this.length),this[C]|this[C+1]<<8},t.prototype.readUInt16BE=function(C,S){return C=C>>>0,S||Q(C,2,this.length),this[C]<<8|this[C+1]},t.prototype.readUInt32LE=function(C,S){return C=C>>>0,S||Q(C,4,this.length),(this[C]|this[C+1]<<8|this[C+2]<<16)+this[C+3]*16777216},t.prototype.readUInt32BE=function(C,S){return C=C>>>0,S||Q(C,4,this.length),this[C]*16777216+(this[C+1]<<16|this[C+2]<<8|this[C+3])},t.prototype.readIntLE=function(C,S,X){C=C>>>0,S=S>>>0,X||Q(C,S,this.length);for(var oe=this[C],_e=1,ye=0;++ye<S&&(_e*=256);)oe+=this[C+ye]*_e;return _e*=128,oe>=_e&&(oe-=Math.pow(2,8*S)),oe},t.prototype.readIntBE=function(C,S,X){C=C>>>0,S=S>>>0,X||Q(C,S,this.length);for(var oe=S,_e=1,ye=this[C+--oe];oe>0&&(_e*=256);)ye+=this[C+--oe]*_e;return _e*=128,ye>=_e&&(ye-=Math.pow(2,8*S)),ye},t.prototype.readInt8=function(C,S){return C=C>>>0,S||Q(C,1,this.length),this[C]&128?(255-this[C]+1)*-1:this[C]},t.prototype.readInt16LE=function(C,S){C=C>>>0,S||Q(C,2,this.length);var X=this[C]|this[C+1]<<8;return X&32768?X|4294901760:X},t.prototype.readInt16BE=function(C,S){C=C>>>0,S||Q(C,2,this.length);var X=this[C+1]|this[C]<<8;return X&32768?X|4294901760:X},t.prototype.readInt32LE=function(C,S){return C=C>>>0,S||Q(C,4,this.length),this[C]|this[C+1]<<8|this[C+2]<<16|this[C+3]<<24},t.prototype.readInt32BE=function(C,S){return C=C>>>0,S||Q(C,4,this.length),this[C]<<24|this[C+1]<<16|this[C+2]<<8|this[C+3]},t.prototype.readFloatLE=function(C,S){return C=C>>>0,S||Q(C,4,this.length),u.read(this,C,!0,23,4)},t.prototype.readFloatBE=function(C,S){return C=C>>>0,S||Q(C,4,this.length),u.read(this,C,!1,23,4)},t.prototype.readDoubleLE=function(C,S){return C=C>>>0,S||Q(C,8,this.length),u.read(this,C,!0,52,8)},t.prototype.readDoubleBE=function(C,S){return C=C>>>0,S||Q(C,8,this.length),u.read(this,C,!1,52,8)};function re(x,C,S,X,oe,_e){if(!t.isBuffer(x))throw new TypeError('"buffer" argument must be a Buffer instance');if(C>oe||C<_e)throw new RangeError('"value" argument is out of bounds');if(S+X>x.length)throw new RangeError("Index out of range")}t.prototype.writeUIntLE=function(C,S,X,oe){if(C=+C,S=S>>>0,X=X>>>0,!oe){var _e=Math.pow(2,8*X)-1;re(this,C,S,X,_e,0)}var ye=1,Te=0;for(this[S]=C&255;++Te<X&&(ye*=256);)this[S+Te]=C/ye&255;return S+X},t.prototype.writeUIntBE=function(C,S,X,oe){if(C=+C,S=S>>>0,X=X>>>0,!oe){var _e=Math.pow(2,8*X)-1;re(this,C,S,X,_e,0)}var ye=X-1,Te=1;for(this[S+ye]=C&255;--ye>=0&&(Te*=256);)this[S+ye]=C/Te&255;return S+X},t.prototype.writeUInt8=function(C,S,X){return C=+C,S=S>>>0,X||re(this,C,S,1,255,0),this[S]=C&255,S+1},t.prototype.writeUInt16LE=function(C,S,X){return C=+C,S=S>>>0,X||re(this,C,S,2,65535,0),this[S]=C&255,this[S+1]=C>>>8,S+2},t.prototype.writeUInt16BE=function(C,S,X){return C=+C,S=S>>>0,X||re(this,C,S,2,65535,0),this[S]=C>>>8,this[S+1]=C&255,S+2},t.prototype.writeUInt32LE=function(C,S,X){return C=+C,S=S>>>0,X||re(this,C,S,4,4294967295,0),this[S+3]=C>>>24,this[S+2]=C>>>16,this[S+1]=C>>>8,this[S]=C&255,S+4},t.prototype.writeUInt32BE=function(C,S,X){return C=+C,S=S>>>0,X||re(this,C,S,4,4294967295,0),this[S]=C>>>24,this[S+1]=C>>>16,this[S+2]=C>>>8,this[S+3]=C&255,S+4},t.prototype.writeIntLE=function(C,S,X,oe){if(C=+C,S=S>>>0,!oe){var _e=Math.pow(2,8*X-1);re(this,C,S,X,_e-1,-_e)}var ye=0,Te=1,ke=0;for(this[S]=C&255;++ye<X&&(Te*=256);)C<0&&ke===0&&this[S+ye-1]!==0&&(ke=1),this[S+ye]=(C/Te>>0)-ke&255;return S+X},t.prototype.writeIntBE=function(C,S,X,oe){if(C=+C,S=S>>>0,!oe){var _e=Math.pow(2,8*X-1);re(this,C,S,X,_e-1,-_e)}var ye=X-1,Te=1,ke=0;for(this[S+ye]=C&255;--ye>=0&&(Te*=256);)C<0&&ke===0&&this[S+ye+1]!==0&&(ke=1),this[S+ye]=(C/Te>>0)-ke&255;return S+X},t.prototype.writeInt8=function(C,S,X){return C=+C,S=S>>>0,X||re(this,C,S,1,127,-128),C<0&&(C=255+C+1),this[S]=C&255,S+1},t.prototype.writeInt16LE=function(C,S,X){return C=+C,S=S>>>0,X||re(this,C,S,2,32767,-32768),this[S]=C&255,this[S+1]=C>>>8,S+2},t.prototype.writeInt16BE=function(C,S,X){return C=+C,S=S>>>0,X||re(this,C,S,2,32767,-32768),this[S]=C>>>8,this[S+1]=C&255,S+2},t.prototype.writeInt32LE=function(C,S,X){return C=+C,S=S>>>0,X||re(this,C,S,4,2147483647,-2147483648),this[S]=C&255,this[S+1]=C>>>8,this[S+2]=C>>>16,this[S+3]=C>>>24,S+4},t.prototype.writeInt32BE=function(C,S,X){return C=+C,S=S>>>0,X||re(this,C,S,4,2147483647,-2147483648),C<0&&(C=4294967295+C+1),this[S]=C>>>24,this[S+1]=C>>>16,this[S+2]=C>>>8,this[S+3]=C&255,S+4};function ue(x,C,S,X,oe,_e){if(S+X>x.length)throw new RangeError("Index out of range");if(S<0)throw new RangeError("Index out of range")}function le(x,C,S,X,oe){return C=+C,S=S>>>0,oe||ue(x,C,S,4),u.write(x,C,S,X,23,4),S+4}t.prototype.writeFloatLE=function(C,S,X){return le(this,C,S,!0,X)},t.prototype.writeFloatBE=function(C,S,X){return le(this,C,S,!1,X)};function he(x,C,S,X,oe){return C=+C,S=S>>>0,oe||ue(x,C,S,8),u.write(x,C,S,X,52,8),S+8}t.prototype.writeDoubleLE=function(C,S,X){return he(this,C,S,!0,X)},t.prototype.writeDoubleBE=function(C,S,X){return he(this,C,S,!1,X)},t.prototype.copy=function(C,S,X,oe){if(!t.isBuffer(C))throw new TypeError("argument should be a Buffer");if(X||(X=0),!oe&&oe!==0&&(oe=this.length),S>=C.length&&(S=C.length),S||(S=0),oe>0&&oe<X&&(oe=X),oe===X||C.length===0||this.length===0)return 0;if(S<0)throw new RangeError("targetStart out of bounds");if(X<0||X>=this.length)throw new RangeError("Index out of range");if(oe<0)throw new RangeError("sourceEnd out of bounds");oe>this.length&&(oe=this.length),C.length-S<oe-X&&(oe=C.length-S+X);var _e=oe-X;if(this===C&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(S,X,oe);else if(this===C&&X<S&&S<oe)for(var ye=_e-1;ye>=0;--ye)C[ye+S]=this[ye+X];else Uint8Array.prototype.set.call(C,this.subarray(X,oe),S);return _e},t.prototype.fill=function(C,S,X,oe){if(typeof C=="string"){if(typeof S=="string"?(oe=S,S=0,X=this.length):typeof X=="string"&&(oe=X,X=this.length),oe!==void 0&&typeof oe!="string")throw new TypeError("encoding must be a string");if(typeof oe=="string"&&!t.isEncoding(oe))throw new TypeError("Unknown encoding: "+oe);if(C.length===1){var _e=C.charCodeAt(0);(oe==="utf8"&&_e<128||oe==="latin1")&&(C=_e)}}else typeof C=="number"?C=C&255:typeof C=="boolean"&&(C=Number(C));if(S<0||this.length<S||this.length<X)throw new RangeError("Out of range index");if(X<=S)return this;S=S>>>0,X=X===void 0?this.length:X>>>0,C||(C=0);var ye;if(typeof C=="number")for(ye=S;ye<X;++ye)this[ye]=C;else{var Te=t.isBuffer(C)?C:t.from(C,oe),ke=Te.length;if(ke===0)throw new TypeError('The value "'+C+'" is invalid for argument "value"');for(ye=0;ye<X-S;++ye)this[ye+S]=Te[ye%ke]}return this};var ge=/[^+/0-9A-Za-z-_]/g;function ie(x){if(x=x.split("=")[0],x=x.trim().replace(ge,""),x.length<2)return"";for(;x.length%4!==0;)x=x+"=";return x}function ae(x,C){C=C||1/0;for(var S,X=x.length,oe=null,_e=[],ye=0;ye<X;++ye){if(S=x.charCodeAt(ye),S>55295&&S<57344){if(!oe){if(S>56319){(C-=3)>-1&&_e.push(239,191,189);continue}else if(ye+1===X){(C-=3)>-1&&_e.push(239,191,189);continue}oe=S;continue}if(S<56320){(C-=3)>-1&&_e.push(239,191,189),oe=S;continue}S=(oe-55296<<10|S-56320)+65536}else oe&&(C-=3)>-1&&_e.push(239,191,189);if(oe=null,S<128){if((C-=1)<0)break;_e.push(S)}else if(S<2048){if((C-=2)<0)break;_e.push(S>>6|192,S&63|128)}else if(S<65536){if((C-=3)<0)break;_e.push(S>>12|224,S>>6&63|128,S&63|128)}else if(S<1114112){if((C-=4)<0)break;_e.push(S>>18|240,S>>12&63|128,S>>6&63|128,S&63|128)}else throw new Error("Invalid code point")}return _e}function V(x){for(var C=[],S=0;S<x.length;++S)C.push(x.charCodeAt(S)&255);return C}function q(x,C){for(var S,X,oe,_e=[],ye=0;ye<x.length&&!((C-=2)<0);++ye)S=x.charCodeAt(ye),X=S>>8,oe=S%256,_e.push(oe),_e.push(X);return _e}function te(x){return m.toByteArray(ie(x))}function U(x,C,S,X){for(var oe=0;oe<X&&!(oe+S>=C.length||oe>=x.length);++oe)C[oe+S]=x[oe];return oe}function L(x,C){return x instanceof C||x!=null&&x.constructor!=null&&x.constructor.name!=null&&x.constructor.name===C.name}function P(x){return x!==x}var Z=function(){for(var x="0123456789abcdef",C=new Array(256),S=0;S<16;++S)for(var X=S*16,oe=0;oe<16;++oe)C[X+oe]=x[S]+x[oe];return C}()}).call(this,M("buffer").Buffer)},{"base64-js":29,buffer:48,ieee754:73}],49:[function(M,H,y){var E=M("buffer").Buffer;H.exports=function(m,u){if(E.isBuffer(m)&&E.isBuffer(u)){if(typeof m.equals=="function")return m.equals(u);if(m.length!==u.length)return!1;for(var c=0;c<m.length;c++)if(m[c]!==u[c])return!1;return!0}}},{buffer:48}],50:[function(M,H,y){H.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{}],51:[function(M,H,y){(function(E){function m(p){return Array.isArray?Array.isArray(p):d(p)==="[object Array]"}y.isArray=m;function u(p){return typeof p=="boolean"}y.isBoolean=u;function c(p){return p===null}y.isNull=c;function o(p){return p==null}y.isNullOrUndefined=o;function n(p){return typeof p=="number"}y.isNumber=n;function r(p){return typeof p=="string"}y.isString=r;function t(p){return typeof p=="symbol"}y.isSymbol=t;function e(p){return p===void 0}y.isUndefined=e;function s(p){return d(p)==="[object RegExp]"}y.isRegExp=s;function l(p){return typeof p=="object"&&p!==null}y.isObject=l;function a(p){return d(p)==="[object Date]"}y.isDate=a;function f(p){return d(p)==="[object Error]"||p instanceof Error}y.isError=f;function i(p){return typeof p=="function"}y.isFunction=i;function h(p){return p===null||typeof p=="boolean"||typeof p=="number"||typeof p=="string"||typeof p=="symbol"||typeof p>"u"}y.isPrimitive=h,y.isBuffer=E.isBuffer;function d(p){return Object.prototype.toString.call(p)}}).call(this,{isBuffer:M("../../is-buffer/index.js")})},{"../../is-buffer/index.js":76}],52:[function(M,H,y){var E=Object.create||A,m=Object.keys||R,u=Function.prototype.bind||B;function c(){(!this._events||!Object.prototype.hasOwnProperty.call(this,"_events"))&&(this._events=E(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}H.exports=c,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._maxListeners=void 0;var o=10,n;try{var r={};Object.defineProperty&&Object.defineProperty(r,"x",{value:0}),n=r.x===0}catch{n=!1}n?Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(T){if(typeof T!="number"||T<0||T!==T)throw new TypeError('"defaultMaxListeners" must be a positive number');o=T}}):c.defaultMaxListeners=o,c.prototype.setMaxListeners=function(z){if(typeof z!="number"||z<0||isNaN(z))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=z,this};function t(T){return T._maxListeners===void 0?c.defaultMaxListeners:T._maxListeners}c.prototype.getMaxListeners=function(){return t(this)};function e(T,z,F){if(z)T.call(F);else for(var D=T.length,O=b(T,D),k=0;k<D;++k)O[k].call(F)}function s(T,z,F,D){if(z)T.call(F,D);else for(var O=T.length,k=b(T,O),G=0;G<O;++G)k[G].call(F,D)}function l(T,z,F,D,O){if(z)T.call(F,D,O);else for(var k=T.length,G=b(T,k),J=0;J<k;++J)G[J].call(F,D,O)}function a(T,z,F,D,O,k){if(z)T.call(F,D,O,k);else for(var G=T.length,J=b(T,G),$=0;$<G;++$)J[$].call(F,D,O,k)}function f(T,z,F,D){if(z)T.apply(F,D);else for(var O=T.length,k=b(T,O),G=0;G<O;++G)k[G].apply(F,D)}c.prototype.emit=function(z){var F,D,O,k,G,J,$=z==="error";if(J=this._events,J)$=$&&J.error==null;else if(!$)return!1;if($){if(arguments.length>1&&(F=arguments[1]),F instanceof Error)throw F;var ee=new Error('Unhandled "error" event. ('+F+")");throw ee.context=F,ee}if(D=J[z],!D)return!1;var j=typeof D=="function";switch(O=arguments.length,O){case 1:e(D,j,this);break;case 2:s(D,j,this,arguments[1]);break;case 3:l(D,j,this,arguments[1],arguments[2]);break;case 4:a(D,j,this,arguments[1],arguments[2],arguments[3]);break;default:for(k=new Array(O-1),G=1;G<O;G++)k[G-1]=arguments[G];f(D,j,this,k)}return!0};function i(T,z,F,D){var O,k,G;if(typeof F!="function")throw new TypeError('"listener" argument must be a function');if(k=T._events,k?(k.newListener&&(T.emit("newListener",z,F.listener?F.listener:F),k=T._events),G=k[z]):(k=T._events=E(null),T._eventsCount=0),!G)G=k[z]=F,++T._eventsCount;else if(typeof G=="function"?G=k[z]=D?[F,G]:[G,F]:D?G.unshift(F):G.push(F),!G.warned&&(O=t(T),O&&O>0&&G.length>O)){G.warned=!0;var J=new Error("Possible EventEmitter memory leak detected. "+G.length+' "'+String(z)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');J.name="MaxListenersExceededWarning",J.emitter=T,J.type=z,J.count=G.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",J.name,J.message)}return T}c.prototype.addListener=function(z,F){return i(this,z,F,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(z,F){return i(this,z,F,!0)};function h(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var T=new Array(arguments.length),z=0;z<T.length;++z)T[z]=arguments[z];this.listener.apply(this.target,T)}}function d(T,z,F){var D={fired:!1,wrapFn:void 0,target:T,type:z,listener:F},O=u.call(h,D);return O.listener=F,D.wrapFn=O,O}c.prototype.once=function(z,F){if(typeof F!="function")throw new TypeError('"listener" argument must be a function');return this.on(z,d(this,z,F)),this},c.prototype.prependOnceListener=function(z,F){if(typeof F!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(z,d(this,z,F)),this},c.prototype.removeListener=function(z,F){var D,O,k,G,J;if(typeof F!="function")throw new TypeError('"listener" argument must be a function');if(O=this._events,!O)return this;if(D=O[z],!D)return this;if(D===F||D.listener===F)--this._eventsCount===0?this._events=E(null):(delete O[z],O.removeListener&&this.emit("removeListener",z,D.listener||F));else if(typeof D!="function"){for(k=-1,G=D.length-1;G>=0;G--)if(D[G]===F||D[G].listener===F){J=D[G].listener,k=G;break}if(k<0)return this;k===0?D.shift():g(D,k),D.length===1&&(O[z]=D[0]),O.removeListener&&this.emit("removeListener",z,J||F)}return this},c.prototype.removeAllListeners=function(z){var F,D,O;if(D=this._events,!D)return this;if(!D.removeListener)return arguments.length===0?(this._events=E(null),this._eventsCount=0):D[z]&&(--this._eventsCount===0?this._events=E(null):delete D[z]),this;if(arguments.length===0){var k=m(D),G;for(O=0;O<k.length;++O)G=k[O],G!=="removeListener"&&this.removeAllListeners(G);return this.removeAllListeners("removeListener"),this._events=E(null),this._eventsCount=0,this}if(F=D[z],typeof F=="function")this.removeListener(z,F);else if(F)for(O=F.length-1;O>=0;O--)this.removeListener(z,F[O]);return this};function p(T,z,F){var D=T._events;if(!D)return[];var O=D[z];return O?typeof O=="function"?F?[O.listener||O]:[O]:F?w(O):b(O,O.length):[]}c.prototype.listeners=function(z){return p(this,z,!0)},c.prototype.rawListeners=function(z){return p(this,z,!1)},c.listenerCount=function(T,z){return typeof T.listenerCount=="function"?T.listenerCount(z):_.call(T,z)},c.prototype.listenerCount=_;function _(T){var z=this._events;if(z){var F=z[T];if(typeof F=="function")return 1;if(F)return F.length}return 0}c.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};function g(T,z){for(var F=z,D=F+1,O=T.length;D<O;F+=1,D+=1)T[F]=T[D];T.pop()}function b(T,z){for(var F=new Array(z),D=0;D<z;++D)F[D]=T[D];return F}function w(T){for(var z=new Array(T.length),F=0;F<z.length;++F)z[F]=T[F].listener||T[F];return z}function A(T){var z=function(){};return z.prototype=T,new z}function R(T){for(var z in T)Object.prototype.hasOwnProperty.call(T,z);return z}function B(T){var z=this;return function(){return z.apply(T,arguments)}}},{}],53:[function(M,H,y){var E=M("./lib/parser");function m(){return(0,eval)("this")}H.exports={create:function(u,c){if(c=c||m(),u instanceof c.ArrayBuffer){var o=M("./lib/dom-bufferstream");return new E(new o(u,0,u.byteLength,!0,c))}else{var n=M("./lib/bufferstream");return new E(new n(u,0,u.length,!0))}}}},{"./lib/bufferstream":54,"./lib/dom-bufferstream":56,"./lib/parser":60}],54:[function(M,H,y){function E(m,u,c,o){this.buffer=m,this.offset=u||0,c=typeof c=="number"?c:m.length,this.endPosition=this.offset+c,this.setBigEndian(o)}E.prototype={setBigEndian:function(m){this.bigEndian=!!m},nextUInt8:function(){var m=this.buffer.readUInt8(this.offset);return this.offset+=1,m},nextInt8:function(){var m=this.buffer.readInt8(this.offset);return this.offset+=1,m},nextUInt16:function(){var m=this.bigEndian?this.buffer.readUInt16BE(this.offset):this.buffer.readUInt16LE(this.offset);return this.offset+=2,m},nextUInt32:function(){var m=this.bigEndian?this.buffer.readUInt32BE(this.offset):this.buffer.readUInt32LE(this.offset);return this.offset+=4,m},nextInt16:function(){var m=this.bigEndian?this.buffer.readInt16BE(this.offset):this.buffer.readInt16LE(this.offset);return this.offset+=2,m},nextInt32:function(){var m=this.bigEndian?this.buffer.readInt32BE(this.offset):this.buffer.readInt32LE(this.offset);return this.offset+=4,m},nextFloat:function(){var m=this.bigEndian?this.buffer.readFloatBE(this.offset):this.buffer.readFloatLE(this.offset);return this.offset+=4,m},nextDouble:function(){var m=this.bigEndian?this.buffer.readDoubleBE(this.offset):this.buffer.readDoubleLE(this.offset);return this.offset+=8,m},nextBuffer:function(m){var u=this.buffer.slice(this.offset,this.offset+m);return this.offset+=m,u},remainingLength:function(){return this.endPosition-this.offset},nextString:function(m){var u=this.buffer.toString("utf8",this.offset,this.offset+m);return this.offset+=m,u},mark:function(){var m=this;return{openWithOffset:function(u){return u=(u||0)+this.offset,new E(m.buffer,u,m.endPosition-u,m.bigEndian)},offset:this.offset}},offsetFrom:function(m){return this.offset-m.offset},skip:function(m){this.offset+=m},branch:function(m,u){return u=typeof u=="number"?u:this.endPosition-(this.offset+m),new E(this.buffer,this.offset+m,u,this.bigEndian)}},H.exports=E},{}],55:[function(M,H,y){function E(t){return parseInt(t,10)}var m=3600,u=60;function c(t,e){t=t.map(E),e=e.map(E);var s=t[0],l=t[1]-1,a=t[2],f=e[0],i=e[1],h=e[2],d=Date.UTC(s,l,a,f,i,h,0),p=d/1e3;return p}function o(t){var e=t.substr(0,10).split("-"),s=t.substr(11,8).split(":"),l=t.substr(19,6),a=l.split(":").map(E),f=a[0]*m+a[1]*u,i=c(e,s);if(i-=f,typeof i=="number"&&!isNaN(i))return i}function n(t){var e=t.split(" "),s=e[0].split(":"),l=e[1].split(":"),a=c(s,l);if(typeof a=="number"&&!isNaN(a))return a}function r(t){var e=t.length===19&&t.charAt(4)===":",s=t.length===25&&t.charAt(10)==="T";if(s)return o(t);if(e)return n(t)}H.exports={parseDateWithSpecFormat:n,parseDateWithTimezoneFormat:o,parseExifDate:r}},{}],56:[function(M,H,y){function E(m,u,c,o,n,r){this.global=n,u=u||0,c=c||m.byteLength-u,this.arrayBuffer=m.slice(u,u+c),this.view=new n.DataView(this.arrayBuffer,0,this.arrayBuffer.byteLength),this.setBigEndian(o),this.offset=0,this.parentOffset=(r||0)+u}E.prototype={setBigEndian:function(m){this.littleEndian=!m},nextUInt8:function(){var m=this.view.getUint8(this.offset);return this.offset+=1,m},nextInt8:function(){var m=this.view.getInt8(this.offset);return this.offset+=1,m},nextUInt16:function(){var m=this.view.getUint16(this.offset,this.littleEndian);return this.offset+=2,m},nextUInt32:function(){var m=this.view.getUint32(this.offset,this.littleEndian);return this.offset+=4,m},nextInt16:function(){var m=this.view.getInt16(this.offset,this.littleEndian);return this.offset+=2,m},nextInt32:function(){var m=this.view.getInt32(this.offset,this.littleEndian);return this.offset+=4,m},nextFloat:function(){var m=this.view.getFloat32(this.offset,this.littleEndian);return this.offset+=4,m},nextDouble:function(){var m=this.view.getFloat64(this.offset,this.littleEndian);return this.offset+=8,m},nextBuffer:function(m){var u=this.arrayBuffer.slice(this.offset,this.offset+m);return this.offset+=m,u},remainingLength:function(){return this.arrayBuffer.byteLength-this.offset},nextString:function(m){var u=this.arrayBuffer.slice(this.offset,this.offset+m);return u=String.fromCharCode.apply(null,new this.global.Uint8Array(u)),this.offset+=m,u},mark:function(){var m=this;return{openWithOffset:function(u){return u=(u||0)+this.offset,new E(m.arrayBuffer,u,m.arrayBuffer.byteLength-u,!m.littleEndian,m.global,m.parentOffset)},offset:this.offset,getParentOffset:function(){return m.parentOffset}}},offsetFrom:function(m){return this.parentOffset+this.offset-(m.offset+m.getParentOffset())},skip:function(m){this.offset+=m},branch:function(m,u){return u=typeof u=="number"?u:this.arrayBuffer.byteLength-(this.offset+m),new E(this.arrayBuffer,this.offset+m,u,!this.littleEndian,this.global,this.parentOffset)}},H.exports=E},{}],57:[function(M,H,y){H.exports={exif:{1:"InteropIndex",2:"InteropVersion",11:"ProcessingSoftware",254:"SubfileType",255:"OldSubfileType",256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Thresholding",264:"CellWidth",265:"CellLength",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",285:"PageName",286:"XPosition",287:"YPosition",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",292:"T4Options",293:"T6Options",296:"ResolutionUnit",297:"PageNumber",300:"ColorResponseUnit",301:"TransferFunction",305:"Software",306:"ModifyDate",315:"Artist",316:"HostComputer",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFD",332:"InkSet",333:"InkNames",334:"NumberofInks",336:"DotRange",337:"TargetPrinter",338:"ExtraSamples",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",435:"T82Options",437:"JPEGTables",512:"JPEGProc",513:"ThumbnailOffset",514:"ThumbnailLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"ApplicationNotes",999:"USPTOMiscellaneous",4096:"RelatedImageFileFormat",4097:"RelatedImageWidth",4098:"RelatedImageHeight",18246:"Rating",18247:"XP_DIP_XML",18248:"StitchInfo",18249:"RatingPercent",32781:"ImageID",32931:"WangTag1",32932:"WangAnnotation",32933:"WangTag3",32934:"WangTag4",32995:"Matteing",32996:"DataType",32997:"ImageDepth",32998:"TileDepth",33405:"Model2",33421:"CFARepeatPatternDim",33422:"CFAPattern2",33423:"BatteryLevel",33424:"KodakIFD",33432:"Copyright",33434:"ExposureTime",33437:"FNumber",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"PixelScale",33589:"AdventScale",33590:"AdventRevision",33628:"UIC1Tag",33629:"UIC2Tag",33630:"UIC3Tag",33631:"UIC4Tag",33723:"IPTC-NAA",33918:"IntergraphPacketData",33919:"IntergraphFlagRegisters",33920:"IntergraphMatrix",33921:"INGRReserved",33922:"ModelTiePoint",34016:"Site",34017:"ColorSequence",34018:"IT8Header",34019:"RasterPadding",34020:"BitsPerRunLength",34021:"BitsPerExtendedRunLength",34022:"ColorTable",34023:"ImageColorIndicator",34024:"BackgroundColorIndicator",34025:"ImageColorValue",34026:"BackgroundColorValue",34027:"PixelIntensityRange",34028:"TransparencyIndicator",34029:"ColorCharacterization",34030:"HCUsage",34031:"TrapIndicator",34032:"CMYKEquivalent",34118:"SEMInfo",34152:"AFCP_IPTC",34232:"PixelMagicJBIGOptions",34264:"ModelTransform",34306:"WB_GRGBLevels",34310:"LeafData",34377:"PhotoshopSettings",34665:"ExifOffset",34675:"ICC_Profile",34687:"TIFF_FXExtensions",34688:"MultiProfiles",34689:"SharedData",34690:"T88Options",34732:"ImageLayer",34735:"GeoTiffDirectory",34736:"GeoTiffDoubleParams",34737:"GeoTiffAsciiParams",34850:"ExposureProgram",34852:"SpectralSensitivity",34853:"GPSInfo",34855:"ISO",34856:"Opto-ElectricConvFactor",34857:"Interlace",34858:"TimeZoneOffset",34859:"SelfTimerMode",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",34908:"FaxRecvParams",34909:"FaxSubAddress",34910:"FaxRecvTime",34954:"LeafSubIFD",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"CreateDate",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureCompensation",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37387:"FlashEnergy",37388:"SpatialFrequencyResponse",37389:"Noise",37390:"FocalPlaneXResolution",37391:"FocalPlaneYResolution",37392:"FocalPlaneResolutionUnit",37393:"ImageNumber",37394:"SecurityClassification",37395:"ImageHistory",37396:"SubjectArea",37397:"ExposureIndex",37398:"TIFF-EPStandardID",37399:"SensingMethod",37434:"CIP3DataFile",37435:"CIP3Sheet",37436:"CIP3Side",37439:"StoNits",37500:"MakerNote",37510:"UserComment",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",37679:"MSDocumentText",37680:"MSPropertySetStorage",37681:"MSDocumentTextPosition",37724:"ImageSourceData",40091:"XPTitle",40092:"XPComment",40093:"XPAuthor",40094:"XPKeywords",40095:"XPSubject",40960:"FlashpixVersion",40961:"ColorSpace",40962:"ExifImageWidth",40963:"ExifImageHeight",40964:"RelatedSoundFile",40965:"InteropOffset",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41485:"Noise",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41489:"ImageNumber",41490:"SecurityClassification",41491:"ImageHistory",41492:"SubjectLocation",41493:"ExposureIndex",41494:"TIFF-EPStandardID",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFormat",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"OwnerName",42033:"SerialNumber",42034:"LensInfo",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42112:"GDALMetadata",42113:"GDALNoData",42240:"Gamma",44992:"ExpandSoftware",44993:"ExpandLens",44994:"ExpandFilm",44995:"ExpandFilterLens",44996:"ExpandScanner",44997:"ExpandFlashLamp",48129:"PixelFormat",48130:"Transformation",48131:"Uncompressed",48132:"ImageType",48256:"ImageWidth",48257:"ImageHeight",48258:"WidthResolution",48259:"HeightResolution",48320:"ImageOffset",48321:"ImageByteCount",48322:"AlphaOffset",48323:"AlphaByteCount",48324:"ImageDataDiscard",48325:"AlphaDataDiscard",50215:"OceScanjobDesc",50216:"OceApplicationSelector",50217:"OceIDNumber",50218:"OceImageLogic",50255:"Annotations",50341:"PrintIM",50560:"USPTOOriginalContentType",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"DNGLensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50739:"ShadowScale",50740:"DNGPrivateData",50741:"MakerNoteSafety",50752:"RawImageSegmentation",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50781:"RawDataUniqueID",50784:"AliasLayerMetadata",50827:"OriginalRawFileName",50828:"OriginalRawFileData",50829:"ActiveArea",50830:"MaskedAreas",50831:"AsShotICCProfile",50832:"AsShotPreProfileMatrix",50833:"CurrentICCProfile",50834:"CurrentPreProfileMatrix",50879:"ColorimetricReference",50898:"PanasonicTitle",50899:"PanasonicTitle2",50931:"CameraCalibrationSig",50932:"ProfileCalibrationSig",50933:"ProfileIFD",50934:"AsShotProfileName",50935:"NoiseReductionApplied",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:"ProfileEmbedPolicy",50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50968:"PreviewSettingsName",50969:"PreviewSettingsDigest",50970:"PreviewColorSpace",50971:"PreviewDateTime",50972:"RawImageDigest",50973:"OriginalRawFileDigest",50974:"SubTileBlockSize",50975:"RowInterleaveFactor",50981:"ProfileLookTableDims",50982:"ProfileLookTableData",51008:"OpcodeList1",51009:"OpcodeList2",51022:"OpcodeList3",51041:"NoiseProfile",51043:"TimeCodes",51044:"FrameRate",51058:"TStop",51081:"ReelName",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualitySize",51091:"OriginalDefaultCropSize",51105:"CameraLabel",51107:"ProfileHueSatMapEncoding",51108:"ProfileLookTableEncoding",51109:"BaselineExposureOffset",51110:"DefaultBlackRender",51111:"NewRawImageDigest",51112:"RawToPreviewGain",51125:"DefaultUserCrop",59932:"Padding",59933:"OffsetSchema",65e3:"OwnerName",65001:"SerialNumber",65002:"Lens",65024:"KDC_IFD",65100:"RawFile",65101:"Converter",65102:"WhiteBalance",65105:"Exposure",65106:"Shadows",65107:"Brightness",65108:"Contrast",65109:"Saturation",65110:"Sharpness",65111:"Smoothness",65112:"MoireFilter"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"}}},{}],58:[function(M,H,y){function E(n,r){switch(n){case 1:return r.nextUInt8();case 3:return r.nextUInt16();case 4:return r.nextUInt32();case 5:return[r.nextUInt32(),r.nextUInt32()];case 6:return r.nextInt8();case 8:return r.nextUInt16();case 9:return r.nextUInt32();case 10:return[r.nextInt32(),r.nextInt32()];case 11:return r.nextFloat();case 12:return r.nextDouble();default:throw new Error("Invalid format while decoding: "+n)}}function m(n){switch(n){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}}function u(n,r){var t=r.nextUInt16(),e=r.nextUInt16(),s=m(e),l=r.nextUInt32(),a=s*l,f,i;if(a>4&&(r=n.openWithOffset(r.nextUInt32())),e===2){f=r.nextString(l);var h=f.indexOf("\0");h!==-1&&(f=f.substr(0,h))}else if(e===7)f=r.nextBuffer(l);else if(e!==0)for(f=[],i=0;i<l;++i)f.push(E(e,r));return a<4&&r.skip(4-a),[t,f,e]}function c(n,r,t){var e=r.nextUInt16(),s,l;for(l=0;l<e;++l)s=u(n,r),t(s[0],s[1],s[2])}function o(n){var r=n.nextString(6);if(r!=="Exif\0\0")throw new Error("Invalid EXIF header");var t=n.mark(),e=n.nextUInt16();if(e===18761)n.setBigEndian(!1);else if(e===19789)n.setBigEndian(!0);else throw new Error("Invalid TIFF header");if(n.nextUInt16()!==42)throw new Error("Invalid TIFF data");return t}H.exports={IFD0:1,IFD1:2,GPSIFD:3,SubIFD:4,InteropIFD:5,parseTags:function(n,r){var t;try{t=o(n)}catch{return!1}var e,s,l,a=t.openWithOffset(n.nextUInt32()),f=this.IFD0;c(t,a,function(b,w,A){switch(b){case 34853:s=w[0];break;case 34665:e=w[0];break;default:r(f,b,w,A);break}});var i=a.nextUInt32();if(i!==0){var h=t.openWithOffset(i);c(t,h,r.bind(null,this.IFD1))}if(s){var d=t.openWithOffset(s);c(t,d,r.bind(null,this.GPSIFD))}if(e){var p=t.openWithOffset(e),_=this.InteropIFD;c(t,p,function(b,w,A){b===40965?l=w[0]:r(_,b,w,A)})}if(l){var g=t.openWithOffset(l);c(t,g,r.bind(null,this.InteropIFD))}return!0}}},{}],59:[function(M,H,y){H.exports={parseSections:function(E,m){var u,c;for(E.setBigEndian(!0);E.remainingLength()>0&&c!==218;){if(E.nextUInt8()!==255)throw new Error("Invalid JPEG section offset");c=E.nextUInt8(),c>=208&&c<=217||c===218?u=0:u=E.nextUInt16()-2,m(c,E.branch(0,u)),E.skip(u)}},getSizeFromSOFSection:function(E){return E.skip(1),{height:E.nextUInt16(),width:E.nextUInt16()}},getSectionName:function(E){var m,u;switch(E){case 216:m="SOI";break;case 196:m="DHT";break;case 219:m="DQT";break;case 221:m="DRI";break;case 218:m="SOS";break;case 254:m="COM";break;case 217:m="EOI";break;default:E>=224&&E<=239?(m="APP",u=E-224):E>=192&&E<=207&&E!==196&&E!==200&&E!==204?(m="SOF",u=E-192):E>=208&&E<=215&&(m="RST",u=E-208);break}var c={name:m};return typeof u=="number"&&(c.index=u),c}}},{}],60:[function(M,H,y){var E=M("./jpeg"),m=M("./exif"),u=M("./simplify");function c(n,r,t,e,s,l,a){this.startMarker=n,this.tags=r,this.imageSize=t,this.thumbnailOffset=e,this.thumbnailLength=s,this.thumbnailType=l,this.app1Offset=a}c.prototype={hasThumbnail:function(n){return!this.thumbnailOffset||!this.thumbnailLength?!1:typeof n!="string"?!0:n.toLowerCase().trim()==="image/jpeg"?this.thumbnailType===6:n.toLowerCase().trim()==="image/tiff"?this.thumbnailType===1:!1},getThumbnailOffset:function(){return this.app1Offset+6+this.thumbnailOffset},getThumbnailLength:function(){return this.thumbnailLength},getThumbnailBuffer:function(){return this._getThumbnailStream().nextBuffer(this.thumbnailLength)},_getThumbnailStream:function(){return this.startMarker.openWithOffset(this.getThumbnailOffset())},getImageSize:function(){return this.imageSize},getThumbnailSize:function(){var n=this._getThumbnailStream(),r;return E.parseSections(n,function(t,e){E.getSectionName(t).name==="SOF"&&(r=E.getSizeFromSOFSection(e))}),r}};function o(n){this.stream=n,this.flags={readBinaryTags:!1,resolveTagNames:!0,simplifyValues:!0,imageSize:!0,hidePointers:!0,returnTags:!0}}o.prototype={enableBinaryFields:function(n){return this.flags.readBinaryTags=!!n,this},enablePointers:function(n){return this.flags.hidePointers=!n,this},enableTagNames:function(n){return this.flags.resolveTagNames=!!n,this},enableImageSize:function(n){return this.flags.imageSize=!!n,this},enableReturnTags:function(n){return this.flags.returnTags=!!n,this},enableSimpleValues:function(n){return this.flags.simplifyValues=!!n,this},parse:function(){var n=this.stream.mark(),r=n.openWithOffset(0),t=this.flags,e,s,l,a,f,i,h,d,p;return t.resolveTagNames&&(h=M("./exif-tags")),t.resolveTagNames?(e={},d=function(_){return e[_.name]},p=function(_,g){e[_.name]=g}):(e=[],d=function(_){var g;for(g=0;g<e.length;++g)if(e[g].type===_.type&&e[g].section===_.section)return e.value},p=function(_,g){var b;for(b=0;b<e.length;++b)if(e[b].type===_.type&&e[b].section===_.section){e.value=g;return}}),E.parseSections(r,function(_,g){var b,w=g.offsetFrom(n);_===225?(b=m.parseTags(g,function(A,R,B,T){if(!(!t.readBinaryTags&&T===7)){if(R===513){if(l=B[0],t.hidePointers)return}else if(R===514){if(a=B[0],t.hidePointers)return}else if(R===259&&(f=B[0],t.hidePointers))return;if(t.returnTags)if(t.simplifyValues&&(B=u.simplifyValue(B,T)),t.resolveTagNames){var z=A===m.GPSIFD?h.gps:h.exif,F=z[R];F||(F=h.exif[R]),e.hasOwnProperty(F)||(e[F]=B)}else e.push({section:A,type:R,value:B})}}),b&&(i=w)):t.imageSize&&E.getSectionName(_).name==="SOF"&&(s=E.getSizeFromSOFSection(g))}),t.simplifyValues&&(u.castDegreeValues(d,p),u.castDateValues(d,p)),new c(n,e,s,l,a,f,i)}},H.exports=o},{"./exif":58,"./exif-tags":57,"./jpeg":59,"./simplify":61}],61:[function(M,H,y){var E=M("./exif"),m=M("./date"),u=[{section:E.GPSIFD,type:2,name:"GPSLatitude",refType:1,refName:"GPSLatitudeRef",posVal:"N"},{section:E.GPSIFD,type:4,name:"GPSLongitude",refType:3,refName:"GPSLongitudeRef",posVal:"E"}],c=[{section:E.SubIFD,type:306,name:"ModifyDate"},{section:E.SubIFD,type:36867,name:"DateTimeOriginal"},{section:E.SubIFD,type:36868,name:"CreateDate"},{section:E.SubIFD,type:306,name:"ModifyDate"}];H.exports={castDegreeValues:function(o,n){u.forEach(function(r){var t=o(r);if(t){var e=o({section:r.section,type:r.refType,name:r.refName}),s=e===r.posVal?1:-1,l=(t[0]+t[1]/60+t[2]/3600)*s;n(r,l)}})},castDateValues:function(o,n){c.forEach(function(r){var t=o(r);if(t){var e=m.parseExifDate(t);typeof e<"u"&&n(r,e)}})},simplifyValue:function(o,n){return Array.isArray(o)&&(o=o.map(function(r){return n===10||n===5?r[0]/r[1]:r}),o.length===1&&(o=o[0])),o}}},{"./date":55,"./exif":58}],62:[function(M,H,y){var E=M("@babel/runtime/helpers/interopRequireDefault"),m=E(M("@babel/runtime/helpers/toConsumableArray")),u=function(t){return(0,m.default)(t).map(function(e){return e.charCodeAt(0)})},c=u("META-INF/mozilla.rsa"),o=u("[Content_Types].xml"),n=u("_rels/.rels");H.exports=function(r){var t=r instanceof Uint8Array?r:new Uint8Array(r);if(!(t&&t.length>1))return null;var e=function(A,R){R=Object.assign({offset:0},R);for(var B=0;B<A.length;B++)if(R.mask){if(A[B]!==(R.mask[B]&t[B+R.offset]))return!1}else if(A[B]!==t[B+R.offset])return!1;return!0},s=function(A,R){return e(u(A),R)};if(e([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(e([137,80,78,71,13,10,26,10]))return{ext:"png",mime:"image/png"};if(e([71,73,70]))return{ext:"gif",mime:"image/gif"};if(e([87,69,66,80],{offset:8}))return{ext:"webp",mime:"image/webp"};if(e([70,76,73,70]))return{ext:"flif",mime:"image/flif"};if((e([73,73,42,0])||e([77,77,0,42]))&&e([67,82],{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(e([73,73,42,0])||e([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(e([66,77]))return{ext:"bmp",mime:"image/bmp"};if(e([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(e([56,66,80,83]))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(e([80,75,3,4])){if(e([109,105,109,101,116,121,112,101,97,112,112,108,105,99,97,116,105,111,110,47,101,112,117,98,43,122,105,112],{offset:30}))return{ext:"epub",mime:"application/epub+zip"};if(e(c,{offset:30}))return{ext:"xpi",mime:"application/x-xpinstall"};if(s("mimetypeapplication/vnd.oasis.opendocument.text",{offset:30}))return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};if(s("mimetypeapplication/vnd.oasis.opendocument.spreadsheet",{offset:30}))return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};if(s("mimetypeapplication/vnd.oasis.opendocument.presentation",{offset:30}))return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};var l=function(A){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return A.findIndex(function(B,T,z){return T>=R&&z[T]===80&&z[T+1]===75&&z[T+2]===3&&z[T+3]===4})},a=0,f=!1,i=null;do{var h=a+30;if(f||(f=e(o,{offset:h})||e(n,{offset:h})),i||(s("word/",{offset:h})?i={ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}:s("ppt/",{offset:h})?i={ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}:s("xl/",{offset:h})&&(i={ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})),f&&i)return i;a=l(t,h)}while(a>=0);if(i)return i}if(e([80,75])&&(t[2]===3||t[2]===5||t[2]===7)&&(t[3]===4||t[3]===6||t[3]===8))return{ext:"zip",mime:"application/zip"};if(e([117,115,116,97,114],{offset:257}))return{ext:"tar",mime:"application/x-tar"};if(e([82,97,114,33,26,7])&&(t[6]===0||t[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(e([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(e([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(e([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(e([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(e([51,103,112,53])||e([0,0,0])&&e([102,116,121,112],{offset:4})&&(e([109,112,52,49],{offset:8})||e([109,112,52,50],{offset:8})||e([105,115,111,109],{offset:8})||e([105,115,111,50],{offset:8})||e([109,109,112,52],{offset:8})||e([77,52,86],{offset:8})||e([100,97,115,104],{offset:8})))return{ext:"mp4",mime:"video/mp4"};if(e([77,84,104,100]))return{ext:"mid",mime:"audio/midi"};if(e([26,69,223,163])){var d=t.subarray(4,4100),p=d.findIndex(function(w,A,R){return R[A]===66&&R[A+1]===130});if(p!==-1){var _=p+3,g=function(A){return(0,m.default)(A).every(function(R,B){return d[_+B]===R.charCodeAt(0)})};if(g("matroska"))return{ext:"mkv",mime:"video/x-matroska"};if(g("webm"))return{ext:"webm",mime:"video/webm"}}}if(e([0,0,0,20,102,116,121,112,113,116,32,32])||e([102,114,101,101],{offset:4})||e([102,116,121,112,113,116,32,32],{offset:4})||e([109,100,97,116],{offset:4})||e([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(e([82,73,70,70])){if(e([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(e([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(e([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(e([48,38,178,117,142,102,207,17,166,217]))return{ext:"wmv",mime:"video/x-ms-wmv"};if(e([0,0,1,186])||e([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(e([102,116,121,112,51,103],{offset:4}))return{ext:"3gp",mime:"video/3gpp"};for(var b=0;b<2&&b<t.length-16;b++){if(e([73,68,51],{offset:b})||e([255,226],{offset:b,mask:[255,226]}))return{ext:"mp3",mime:"audio/mpeg"};if(e([255,228],{offset:b,mask:[255,228]}))return{ext:"mp2",mime:"audio/mpeg"};if(e([255,248],{offset:b,mask:[255,252]}))return{ext:"mp2",mime:"audio/mpeg"};if(e([255,240],{offset:b,mask:[255,252]}))return{ext:"mp4",mime:"audio/mpeg"}}if(e([102,116,121,112,77,52,65],{offset:4})||e([77,52,65,32]))return{ext:"m4a",mime:"audio/mp4"};if(e([79,112,117,115,72,101,97,100],{offset:28}))return{ext:"opus",mime:"audio/opus"};if(e([79,103,103,83]))return e([128,116,104,101,111,114,97],{offset:28})?{ext:"ogv",mime:"video/ogg"}:e([1,118,105,100,101,111,0],{offset:28})?{ext:"ogm",mime:"video/ogg"}:e([127,70,76,65,67],{offset:28})?{ext:"oga",mime:"audio/ogg"}:e([83,112,101,101,120,32,32],{offset:28})?{ext:"spx",mime:"audio/ogg"}:e([1,118,111,114,98,105,115],{offset:28})?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"};if(e([102,76,97,67]))return{ext:"flac",mime:"audio/x-flac"};if(e([77,65,67,32]))return{ext:"ape",mime:"audio/ape"};if(e([119,118,112,107]))return{ext:"wv",mime:"audio/wavpack"};if(e([35,33,65,77,82,10]))return{ext:"amr",mime:"audio/amr"};if(e([37,80,68,70]))return{ext:"pdf",mime:"application/pdf"};if(e([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if((t[0]===67||t[0]===70)&&e([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(e([123,92,114,116,102]))return{ext:"rtf",mime:"application/rtf"};if(e([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(e([119,79,70,70])&&(e([0,1,0,0],{offset:4})||e([79,84,84,79],{offset:4})))return{ext:"woff",mime:"font/woff"};if(e([119,79,70,50])&&(e([0,1,0,0],{offset:4})||e([79,84,84,79],{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(e([76,80],{offset:34})&&(e([0,0,1],{offset:8})||e([1,0,2],{offset:8})||e([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(e([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(e([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(e([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(e([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(e([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(e([37,33]))return{ext:"ps",mime:"application/postscript"};if(e([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(e([83,81,76,105]))return{ext:"sqlite",mime:"application/x-sqlite3"};if(e([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(e([67,114,50,52]))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(e([77,83,67,70])||e([73,83,99,40]))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(e([33,60,97,114,99,104,62,10,100,101,98,105,97,110,45,98,105,110,97,114,121]))return{ext:"deb",mime:"application/x-deb"};if(e([33,60,97,114,99,104,62]))return{ext:"ar",mime:"application/x-unix-archive"};if(e([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(e([31,160])||e([31,157]))return{ext:"Z",mime:"application/x-compress"};if(e([76,90,73,80]))return{ext:"lz",mime:"application/x-lzip"};if(e([208,207,17,224,161,177,26,225]))return{ext:"msi",mime:"application/x-msi"};if(e([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(e([71],{offset:4})&&(e([71],{offset:192})||e([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(e([66,76,69,78,68,69,82]))return{ext:"blend",mime:"application/x-blender"};if(e([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(e([0,0,0,12,106,80,32,32,13,10,135,10])){if(e([106,112,50,32],{offset:20}))return{ext:"jp2",mime:"image/jp2"};if(e([106,112,120,32],{offset:20}))return{ext:"jpx",mime:"image/jpx"};if(e([106,112,109,32],{offset:20}))return{ext:"jpm",mime:"image/jpm"};if(e([109,106,112,50],{offset:20}))return{ext:"mj2",mime:"image/mj2"}}if(e([70,79,82,77,0]))return{ext:"aif",mime:"audio/aiff"};if(s("<?xml "))return{ext:"xml",mime:"application/xml"};if(e([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(e([102,116,121,112],{offset:4})){if(e([109,105,102,49],{offset:8}))return{ext:"heic",mime:"image/heif"};if(e([109,115,102,49],{offset:8}))return{ext:"heic",mime:"image/heif-sequence"};if(e([104,101,105,99],{offset:8})||e([104,101,105,120],{offset:8}))return{ext:"heic",mime:"image/heic"};if(e([104,101,118,99],{offset:8})||e([104,101,118,120],{offset:8}))return{ext:"heic",mime:"image/heic-sequence"}}return e([171,75,84,88,32,49,49,187,13,10,26,10])?{ext:"ktx",mime:"image/ktx"}:null}},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/toConsumableArray":20}],63:[function(M,H,y){var E=M("is-callable"),m=Object.prototype.toString,u=Object.prototype.hasOwnProperty,c=function(e,s,l){for(var a=0,f=e.length;a<f;a++)u.call(e,a)&&(l==null?s(e[a],a,e):s.call(l,e[a],a,e))},o=function(e,s,l){for(var a=0,f=e.length;a<f;a++)l==null?s(e.charAt(a),a,e):s.call(l,e.charAt(a),a,e)},n=function(e,s,l){for(var a in e)u.call(e,a)&&(l==null?s(e[a],a,e):s.call(l,e[a],a,e))},r=function(e,s,l){if(!E(s))throw new TypeError("iterator must be a function");var a;arguments.length>=3&&(a=l),m.call(e)==="[object Array]"?c(e,s,a):typeof e=="string"?o(e,s,a):n(e,s,a)};H.exports=r},{"is-callable":77}],64:[function(M,H,y){function E(o,n,r,s){var e=0,s=s===void 0?{}:s,l=s.loop===void 0?null:s.loop,a=s.palette===void 0?null:s.palette;if(n<=0||r<=0||n>65535||r>65535)throw new Error("Width/Height invalid.");function f(w){var A=w.length;if(A<2||A>256||A&A-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return A}o[e++]=71,o[e++]=73,o[e++]=70,o[e++]=56,o[e++]=57,o[e++]=97;var i=0,h=0;if(a!==null){for(var d=f(a);d>>=1;)++i;if(d=1<<i,--i,s.background!==void 0){if(h=s.background,h>=d)throw new Error("Background index out of range.");if(h===0)throw new Error("Background index explicitly passed as 0.")}}if(o[e++]=n&255,o[e++]=n>>8&255,o[e++]=r&255,o[e++]=r>>8&255,o[e++]=(a!==null?128:0)|i,o[e++]=h,o[e++]=0,a!==null)for(var p=0,_=a.length;p<_;++p){var g=a[p];o[e++]=g>>16&255,o[e++]=g>>8&255,o[e++]=g&255}if(l!==null){if(l<0||l>65535)throw new Error("Loop count invalid.");o[e++]=33,o[e++]=255,o[e++]=11,o[e++]=78,o[e++]=69,o[e++]=84,o[e++]=83,o[e++]=67,o[e++]=65,o[e++]=80,o[e++]=69,o[e++]=50,o[e++]=46,o[e++]=48,o[e++]=3,o[e++]=1,o[e++]=l&255,o[e++]=l>>8&255,o[e++]=0}var b=!1;this.addFrame=function(w,A,R,B,T,z){if(b===!0&&(--e,b=!1),z=z===void 0?{}:z,w<0||A<0||w>65535||A>65535)throw new Error("x/y invalid.");if(R<=0||B<=0||R>65535||B>65535)throw new Error("Width/Height invalid.");if(T.length<R*B)throw new Error("Not enough pixels for the frame size.");var F=!0,D=z.palette;if(D==null&&(F=!1,D=a),D==null)throw new Error("Must supply either a local or global palette.");for(var O=f(D),k=0;O>>=1;)++k;O=1<<k;var G=z.delay===void 0?0:z.delay,J=z.disposal===void 0?0:z.disposal;if(J<0||J>3)throw new Error("Disposal out of range.");var $=!1,ee=0;if(z.transparent!==void 0&&z.transparent!==null&&($=!0,ee=z.transparent,ee<0||ee>=O))throw new Error("Transparent color index.");if((J!==0||$||G!==0)&&(o[e++]=33,o[e++]=249,o[e++]=4,o[e++]=J<<2|($===!0?1:0),o[e++]=G&255,o[e++]=G>>8&255,o[e++]=ee,o[e++]=0),o[e++]=44,o[e++]=w&255,o[e++]=w>>8&255,o[e++]=A&255,o[e++]=A>>8&255,o[e++]=R&255,o[e++]=R>>8&255,o[e++]=B&255,o[e++]=B>>8&255,o[e++]=F===!0?128|k-1:0,F===!0)for(var j=0,Y=D.length;j<Y;++j){var W=D[j];o[e++]=W>>16&255,o[e++]=W>>8&255,o[e++]=W&255}return e=m(o,e,k<2?2:k,T),e},this.end=function(){return b===!1&&(o[e++]=59,b=!0),e},this.getOutputBuffer=function(){return o},this.setOutputBuffer=function(w){o=w},this.getOutputBufferPosition=function(){return e},this.setOutputBufferPosition=function(w){e=w}}function m(o,n,r,t){o[n++]=r;var e=n++,s=1<<r,l=s-1,a=s+1,f=a+1,i=r+1,h=0,d=0;function p(z){for(;h>=z;)o[n++]=d&255,d>>=8,h-=8,n===e+256&&(o[e]=255,e=n++)}function _(z){d|=z<<h,h+=i,p(8)}var g=t[0]&l,b={};_(s);for(var w=1,A=t.length;w<A;++w){var R=t[w]&l,B=g<<8|R,T=b[B];if(T===void 0){for(d|=g<<h,h+=i;h>=8;)o[n++]=d&255,d>>=8,h-=8,n===e+256&&(o[e]=255,e=n++);f===4096?(_(s),f=a+1,i=r+1,b={}):(f>=1<<i&&++i,b[B]=f++),g=R}else g=T}return _(g),_(a),p(1),e+1===n?o[e]=0:(o[e]=n-e-1,o[n++]=0),n}function u(o){var n=0;if(o[n++]!==71||o[n++]!==73||o[n++]!==70||o[n++]!==56||(o[n++]+1&253)!==56||o[n++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=o[n++]|o[n++]<<8,t=o[n++]|o[n++]<<8,e=o[n++],s=e>>7,l=e&7,a=1<<l+1;o[n++],o[n++];var f=null,i=null;s&&(f=n,i=a,n+=a*3);var h=!0,d=[],p=0,_=null,g=0,b=null;for(this.width=r,this.height=t;h&&n<o.length;)switch(o[n++]){case 33:switch(o[n++]){case 255:if(o[n]!==11||o[n+1]==78&&o[n+2]==69&&o[n+3]==84&&o[n+4]==83&&o[n+5]==67&&o[n+6]==65&&o[n+7]==80&&o[n+8]==69&&o[n+9]==50&&o[n+10]==46&&o[n+11]==48&&o[n+12]==3&&o[n+13]==1&&o[n+16]==0)n+=14,b=o[n++]|o[n++]<<8,n++;else for(n+=12;;){var w=o[n++];if(!(w>=0))throw Error("Invalid block size");if(w===0)break;n+=w}break;case 249:if(o[n++]!==4||o[n+4]!==0)throw new Error("Invalid graphics extension block.");var A=o[n++];p=o[n++]|o[n++]<<8,_=o[n++],A&1||(_=null),g=A>>2&7,n++;break;case 254:for(;;){var w=o[n++];if(!(w>=0))throw Error("Invalid block size");if(w===0)break;n+=w}break;default:throw new Error("Unknown graphic control label: 0x"+o[n-1].toString(16))}break;case 44:var R=o[n++]|o[n++]<<8,B=o[n++]|o[n++]<<8,T=o[n++]|o[n++]<<8,z=o[n++]|o[n++]<<8,F=o[n++],D=F>>7,O=F>>6&1,k=F&7,G=1<<k+1,J=f,$=i,ee=!1;if(D){var ee=!0;J=n,$=G,n+=G*3}var j=n;for(n++;;){var w=o[n++];if(!(w>=0))throw Error("Invalid block size");if(w===0)break;n+=w}d.push({x:R,y:B,width:T,height:z,has_local_palette:ee,palette_offset:J,palette_size:$,data_offset:j,data_length:n-j,transparent_index:_,interlaced:!!O,delay:p,disposal:g});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+o[n-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return b},this.frameInfo=function(Y){if(Y<0||Y>=d.length)throw new Error("Frame index out of range.");return d[Y]},this.decodeAndBlitFrameBGRA=function(Y,W){var Q=this.frameInfo(Y),re=Q.width*Q.height,ue=new Uint8Array(re);c(o,Q.data_offset,ue,re);var le=Q.palette_offset,he=Q.transparent_index;he===null&&(he=256);var ge=Q.width,ie=r-ge,ae=ge,V=(Q.y*r+Q.x)*4,q=((Q.y+Q.height)*r+Q.x)*4,te=V,U=ie*4;Q.interlaced===!0&&(U+=r*4*7);for(var L=8,P=0,Z=ue.length;P<Z;++P){var x=ue[P];if(ae===0&&(te+=U,ae=ge,te>=q&&(U=ie*4+r*4*(L-1),te=V+(ge+ie)*(L<<1),L>>=1)),x===he)te+=4;else{var C=o[le+x*3],S=o[le+x*3+1],X=o[le+x*3+2];W[te++]=X,W[te++]=S,W[te++]=C,W[te++]=255}--ae}},this.decodeAndBlitFrameRGBA=function(Y,W){var Q=this.frameInfo(Y),re=Q.width*Q.height,ue=new Uint8Array(re);c(o,Q.data_offset,ue,re);var le=Q.palette_offset,he=Q.transparent_index;he===null&&(he=256);var ge=Q.width,ie=r-ge,ae=ge,V=(Q.y*r+Q.x)*4,q=((Q.y+Q.height)*r+Q.x)*4,te=V,U=ie*4;Q.interlaced===!0&&(U+=r*4*7);for(var L=8,P=0,Z=ue.length;P<Z;++P){var x=ue[P];if(ae===0&&(te+=U,ae=ge,te>=q&&(U=ie*4+r*4*(L-1),te=V+(ge+ie)*(L<<1),L>>=1)),x===he)te+=4;else{var C=o[le+x*3],S=o[le+x*3+1],X=o[le+x*3+2];W[te++]=C,W[te++]=S,W[te++]=X,W[te++]=255}--ae}}}function c(o,n,r,t){for(var e=o[n++],s=1<<e,l=s+1,a=l+1,f=e+1,i=(1<<f)-1,h=0,d=0,p=0,_=o[n++],g=new Int32Array(4096),b=null;;){for(;h<16&&_!==0;)d|=o[n++]<<h,h+=8,_===1?_=o[n++]:--_;if(h<f)break;var w=d&i;if(d>>=f,h-=f,w===s){a=l+1,f=e+1,i=(1<<f)-1,b=null;continue}else if(w===l)break;for(var A=w<a?w:b,R=0,B=A;B>s;)B=g[B]>>8,++R;var T=B,z=p+R+(A!==w?1:0);if(z>t){console.log("Warning, gif stream longer than expected.");return}r[p++]=T,p+=R;var F=p;for(A!==w&&(r[p++]=T),B=A;R--;)B=g[B],r[--F]=B&255,B>>=8;b!==null&&a<4096&&(g[a++]=b<<8|T,a>=i+1&&f<12&&(++f,i=i<<1|1)),b=w}return p!==t&&console.log("Warning, gif stream shorter than expected."),r}try{y.GifWriter=E,y.GifReader=u}catch{}},{}],65:[function(M,H,y){(function(E){class m{constructor(...c){if(c.length===0)throw new Error("constructor requires parameters");const o=c[0];if(o!==null&&typeof o=="object")if(o instanceof m){const n=o.bitmap;this.bitmap={width:n.width,height:n.height,data:new E(n.width*n.height*4)},n.data.copy(this.bitmap.data)}else if(o.width&&o.height&&o.data)this.bitmap=o;else throw new Error("unrecognized constructor parameters");else if(typeof o=="number"&&typeof c[1]=="number"){const n=o,r=c[1],t=c[2];this.bitmap={width:n,height:r},E.isBuffer(t)?this.bitmap.data=t:(this.bitmap.data=new E(n*r*4),typeof t=="number"&&this.fillRGBA(t))}else throw new Error("unrecognized constructor parameters")}blit(c,o,n,r,t,e,s){if(r+e>this.bitmap.width)throw new Error("copy exceeds width of source bitmap");if(o+e>c.bitmap.width)throw new Error("copy exceeds width of target bitmap");if(t+s>this.bitmap.height)throw new Error("copy exceeds height of source bitmap");if(n+s>c.bitmap.height)throw new Erro("copy exceeds height of target bitmap");const l=this.bitmap.data,a=c.bitmap.data,f=this.bitmap.width*4,i=c.bitmap.width*4,h=e*4;let d=t*f+r*4,p=n*i+o*4;for(;--s>=0;)l.copy(a,p,d,d+h),d+=f,p+=i;return this}fillRGBA(c){const o=this.bitmap.data,n=this.bitmap.height*4;let r=0;for(;r<n;)o.writeUInt32BE(c,r),r+=4;for(;r<o.length;)o.copy(o,r,0,n),r+=n;return this}getRGBA(c,o){const n=(o*this.bitmap.width+c)*4;return this.bitmap.data.readUInt32BE(n)}getRGBASet(){const c=new Set,o=this.bitmap.data;for(let n=0;n<o.length;n+=4)c.add(o.readUInt32BE(n,!0));return c}greyscale(){const c=this.bitmap.data;return this.scan(0,0,this.bitmap.width,this.bitmap.height,(o,n,r)=>{const t=Math.round(.299*c[r]+.587*c[r+1]+.114*c[r+2]);c[r]=t,c[r+1]=t,c[r+2]=t}),this}reframe(c,o,n,r,t){const e=c<0?0:c,s=o<0?0:o,l=n+e>this.bitmap.width?this.bitmap.width-e:n,a=r+s>this.bitmap.height?this.bitmap.height-s:r,f=c<0?-c:0,i=o<0?-o:0;let h;if(t===void 0){if(e!==c||s!=o||l!==n||a!==r)throw new GifError("fillRGBA required for this reframing");h=new m(n,r)}else h=new m(n,r,t);return this.blit(h,f,i,e,s,l,a),this.bitmap=h.bitmap,this}scale(c){if(c===1)return;if(!Number.isInteger(c)||c<1)throw new Error("the scale must be an integer >= 1");const o=this.bitmap.width,n=this.bitmap.height,r=o*c*4,t=this.bitmap.data,e=new E(n*r*c);let s=0,l,a=0;for(let f=0;f<n;++f){l=a;for(let i=0;i<o;++i){const h=t.readUInt32BE(s,!0);for(let d=0;d<c;++d)e.writeUInt32BE(h,a),a+=4;s+=4}for(let i=1;i<c;++i)e.copy(e,a,l,a),a+=r,l+=r}return this.bitmap={width:o*c,height:n*c,data:e},this}scanAllCoords(c){const o=this.bitmap.width,n=this.bitmap.data.length;let r=0,t=0;for(let e=0;e<n;e+=4)c(r,t,e),++r===o&&(r=0,++t)}scanAllIndexes(c){const o=this.bitmap.data.length;for(let n=0;n<o;n+=4)c(n)}}H.exports=m}).call(this,M("buffer").Buffer)},{buffer:48}],66:[function(M,H,y){class E{constructor(c,o,n){this.width=n.width,this.height=n.height,this.loops=n.loops,this.usesTransparency=n.usesTransparency,this.colorScope=n.colorScope,this.frames=o,this.buffer=c}}E.GlobalColorsPreferred=0,E.GlobalColorsOnly=1,E.LocalColorsOnly=2;class m extends Error{constructor(c){super(c),c instanceof Error&&(this.stack="Gif"+c.stack)}}y.Gif=E,y.GifError=m},{}],67:[function(M,H,y){(function(E,m){const u=M("omggif"),{Gif:c,GifError:o}=M("./gif");let n;E.nextTick(()=>{n=M("./gifutil")});const{GifFrame:r}=M("./gifframe"),t=200,e=100;class s{constructor(w={}){this._transparentRGB=null,typeof w.transparentRGB=="number"&&w.transparentRGB!==0&&(this._transparentRGBA=w.transparentRGB*256),this._testInitialBufferSize=0}decodeGif(w){try{let A;try{A=new u.GifReader(w)}catch(z){throw new o(z)}const R=A.numFrames(),B=[],T={width:A.width,height:A.height,loops:A.loopCount()};T.usesTransparency=!1;for(let z=0;z<R;++z){const F=this._decodeFrame(A,z,T.usesTransparency);B.push(F.frame),F.usesTransparency&&(T.usesTransparency=!0)}return Promise.resolve(new c(w,B,T))}catch(A){return Promise.reject(A)}}encodeGif(w,A={}){try{if(w===null||w.length===0)throw new o("there are no frames");const R=n.getMaxDimensions(w);return A=Object.assign({},A),A.width=R.maxWidth,A.height=R.maxHeight,A.loops=A.loops||0,A.colorScope=A.colorScope||c.GlobalColorsPreferred,Promise.resolve(this._encodeGif(w,A))}catch(R){return Promise.reject(R)}}_decodeFrame(w,A,R){let B,T;try{if(B=w.frameInfo(A),T=new m(w.width*w.height*4),w.decodeAndBlitFrameRGBA(A,T),B.width!==w.width||B.height!==w.height){if(B.y&&(T=T.slice(B.y*w.width*4)),w.width>B.width)for(let D=0;D<B.height;++D)T.copy(T,D*B.width*4,(B.x+D*w.width)*4,(B.x+D*w.width)*4+B.width*4);T=T.slice(0,B.width*B.height*4)}}catch(D){throw new o(D)}let z=!1;if(this._transparentRGBA===null){if(!R)for(let D=3;D<T.length;D+=4)T[D]===0&&(z=!0,D=T.length)}else for(let D=3;D<T.length;D+=4)T[D]===0&&(T.writeUInt32BE(this._transparentRGBA,D-3),z=!0);return{frame:new r(B.width,B.height,T,{xOffset:B.x,yOffset:B.y,disposalMethod:B.disposal,interlaced:B.interlaced,delayCentisecs:B.delay}),usesTransparency:z}}_encodeGif(w,A){let R;if(A.colorScope===c.LocalColorsOnly)R=n.getColorInfo(w,0);else if(R=n.getColorInfo(w,256),!R.colors){if(A.colorScope===c.GlobalColorsOnly)throw new o("Too many color indexes for global color table");A.colorScope=c.LocalColorsOnly}A.usesTransparency=R.usesTransparency;const B=R.palettes;return A.colorScope===c.LocalColorsOnly?i(w,A,2e3,B):f(w,A,2e3,R)}_getSizeEstimateGlobal(w,A){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let R=t+3*256;const B=_(w);return A.forEach(T=>{R+=d(T,B)}),R}_getSizeEstimateLocal(w,A){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let R=t;for(let B=0;B<A.length;++B){const T=w[B],z=_(T);R+=d(A[B],z)}return R}}y.GifCodec=s;function l(b,w){const A=b.indexOf(w);return A===-1?null:A}function a(b,w){for(var A=0,R=b.length-1,B;A<=R;)if(B=Math.floor((A+R)/2),b[B]>w)R=B-1;else if(b[B]<w)A=B+1;else return B;return null}function f(b,w,A,R){const B={colors:R.colors.slice(),usesTransparency:R.usesTransparency};h(B);const T={palette:B.colors,loop:w.loops};let z=new m(A),F;try{F=new u.GifWriter(z,w.width,w.height,T)}catch(D){throw new o(D)}for(let D=0;D<b.length;++D)z=g(F,D,b[D],R,!1);return new c(z.slice(0,F.end()),b,w)}function i(b,w,A,R){const B={loop:w.loops};let T=new m(A),z;try{z=new u.GifWriter(T,w.width,w.height,B)}catch(F){throw new o(F)}for(let F=0;F<b.length;++F)T=g(z,F,b[F],R[F],!0);return new c(T.slice(0,z.end()),b,w)}function h(b){const w=b.colors;b.usesTransparency&&w.push(0);const A=w.length;let R=2;for(;A>R;)R<<=1;w.length=R,w.fill(0,A)}function d(b,w){let A=b.bitmap.width*b.bitmap.height;return A=Math.ceil(A*w/8),A+=Math.ceil(A/255),e+A+3*256}function p(b,w,A){const R=A.colors,B=R.length<=8?l:a,T=w.bitmap.data,z=new m(T.length/4);let F=R.length,D=0,O=0;for(;D<T.length;){if(T[D+3]!==0){const k=T.readUInt32BE(D,!0)>>8&16777215;z[O]=B(R,k)}else z[O]=F;D+=4,++O}if(A.usesTransparency){if(F===256)throw new o(`Frame ${b} already has 256 colorsand so can't use transparency`)}else F=null;return{buffer:z,transparentIndex:F}}function _(b){let w=b.indexCount,A=0;for(--w;w;)++A,w>>=1;return A>0?A:1}function g(b,w,A,R,B){if(A.interlaced)throw new o("writing interlaced GIFs is not supported");const T=p(w,A,R),z={delay:A.delayCentisecs,disposal:A.disposalMethod,transparent:T.transparentIndex};B&&(h(R),z.palette=R.colors);try{let F=b.getOutputBuffer(),D=b.getOutputBufferPosition(),O,k=!0;for(;k;)if(O=b.addFrame(A.xOffset,A.yOffset,A.bitmap.width,A.bitmap.height,T.buffer,z),k=!1,O>=F.length-1){const G=new m(F.length*1.5);F.copy(G),b.setOutputBuffer(G),b.setOutputBufferPosition(D),F=G,k=!0}return F}catch(F){throw new o(F)}}}).call(this,M("_process"),M("buffer").Buffer)},{"./gif":66,"./gifframe":68,"./gifutil":69,_process:133,buffer:48,omggif:64}],68:[function(M,H,y){const E=M("./bitmapimage"),{GifError:m}=M("./gif");class u extends E{constructor(...o){if(super(...o),o[0]instanceof u){const n=o[0];this.xOffset=n.xOffset,this.yOffset=n.yOffset,this.disposalMethod=n.disposalMethod,this.delayCentisecs=n.delayCentisecs,this.interlaced=n.interlaced}else{const n=o[o.length-1];let r={};typeof n=="object"&&!(n instanceof E)&&(r=n),this.xOffset=r.xOffset||0,this.yOffset=r.yOffset||0,this.disposalMethod=r.disposalMethod!==void 0?r.disposalMethod:u.DisposeToBackgroundColor,this.delayCentisecs=r.delayCentisecs||8,this.interlaced=r.interlaced||!1}}getPalette(){const o=new Set,n=this.bitmap.data;let r=0,t=!1;for(;r<n.length;){if(n[r+3]===0)t=!0;else{const a=n.readUInt32BE(r,!0)>>8&16777215;o.add(a)}r+=4}const e=new Array(o.size),s=o.values();for(r=0;r<e.length;++r)e[r]=s.next().value;e.sort((a,f)=>a-f);let l=e.length;return t&&++l,{colors:e,usesTransparency:t,indexCount:l}}}u.DisposeToAnything=0,u.DisposeNothing=1,u.DisposeToBackgroundColor=2,u.DisposeToPrevious=3,y.GifFrame=u},{"./bitmapimage":65,"./gif":66}],69:[function(M,H,y){(function(E){const m=M("fs"),u=M("image-q"),c=M("./bitmapimage"),{GifFrame:o}=M("./gifframe"),{GifError:n}=M("./gif"),{GifCodec:r}=M("./gifcodec"),t=[".jpg",".jpeg",".png",".bmp"],e=new r;y.cloneFrames=function(f){let i=[];return f.forEach(h=>{i.push(new o(h))}),i},y.getColorInfo=function(f,i){let h=!1;const d=[];for(let w=0;w<f.length;++w){let A=f[w].getPalette();if(A.usesTransparency&&(h=!0),A.indexCount>256)throw new n(`Frame ${w} uses more than 256 color indexes`);d.push(A)}if(i===0)return{usesTransparency:h,palettes:d};const p=new Set;d.forEach(w=>{w.colors.forEach(A=>{p.add(A)})});let _=p.size;if(h&&++_,i&&_>i)return{usesTransparency:h,palettes:d};const g=new Array(p.size),b=p.values();for(let w=0;w<g.length;++w)g[w]=b.next().value;return g.sort((w,A)=>w-A),{colors:g,indexCount:_,usesTransparency:h,palettes:d}},y.copyAsJimp=function(f,i){return y.shareAsJimp(f,new c(i))},y.getMaxDimensions=function(f){let i=0,h=0;return f.forEach(d=>{const p=d.xOffset+d.bitmap.width;p>i&&(i=p);const _=d.yOffset+d.bitmap.height;_>h&&(h=_)}),{maxWidth:i,maxHeight:h}},y.quantizeDekker=function(f,i,h){i=i||256,s(f,"NeuQuantFloat",i,0,h)},y.quantizeSorokin=function(f,i,h,d){i=i||256,h=h||"min-pop";let p;switch(h){case"min-pop":p=2;break;case"top-pop":p=1;break;default:throw new Error(`Invalid quantizeSorokin histogram '${h}'`)}s(f,"RGBQuant",i,p,d)},y.quantizeWu=function(f,i,h,d){if(i=i||256,h=h||5,h<1||h>8)throw new Error("Invalid quantization quality");s(f,"WuQuant",i,h,d)},y.read=function(f,i){return i=i||e,E.isBuffer(f)?i.decodeGif(f):l(f).then(h=>i.decodeGif(h))},y.shareAsJimp=function(f,i){const h=new f(i.bitmap.width,i.bitmap.height,0);return h.bitmap.data=i.bitmap.data,h},y.write=function(f,i,h,d){d=d||e;const p=f.match(/\.[a-zA-Z]+$/);if(p!==null&&t.includes(p[0].toLowerCase()))throw new Error(`GIF '${f}' has an unexpected suffix`);return d.encodeGif(i,h).then(_=>a(f,_.buffer).then(()=>_))};function s(f,i,h,d,p){const _=Array.isArray(f)?f:[f],g=["FloydSteinberg","FalseFloydSteinberg","Stucki","Atkinson","Jarvis","Burkes","Sierra","TwoSierra","SierraLite"];if(p){if(g.indexOf(p.ditherAlgorithm)<0)throw new Error(`Invalid ditherAlgorithm '${p.ditherAlgorithm}'`);p.serpentine===void 0&&(p.serpentine=!0),p.minimumColorDistanceToDither===void 0&&(p.minimumColorDistanceToDither=0),p.calculateErrorLikeGIMP===void 0&&(p.calculateErrorLikeGIMP=!1)}const b=new u.distance.Euclidean,w=new u.palette[i](b,h,d);let A;p?A=new u.image.ErrorDiffusionArray(b,u.image.ErrorDiffusionArrayKernel[p.ditherAlgorithm],p.serpentine,p.minimumColorDistanceToDither,p.calculateErrorLikeGIMP):A=new u.image.NearestColor(b);const R=[];_.forEach(T=>{const z=T.bitmap.data,F=new ArrayBuffer(z.length),D=new Uint32Array(F);for(let k=0,G=0;k<z.length;k+=4,++G)D[G]=z.readUInt32LE(k,!0);const O=u.utils.PointContainer.fromUint32Array(D,T.bitmap.width,T.bitmap.height);w.sample(O),R.push(O)});const B=w.quantize();for(let T=0;T<_.length;++T){const z=_[T].bitmap.data,D=A.quantize(R[T],B).toUint32Array();for(let O=0,k=0;O<z.length;O+=4,++k)z.writeUInt32LE(D[k],O)}}function l(f){return new Promise((i,h)=>{m.readFile(f,(d,p)=>d?h(d):i(p))})}function a(f,i){return new Promise((h,d)=>{m.writeFile(f,i,p=>p?d(p):h())})}}).call(this,{isBuffer:M("../../is-buffer/index.js")})},{"../../is-buffer/index.js":76,"./bitmapimage":65,"./gif":66,"./gifcodec":67,"./gifframe":68,fs:47,"image-q":74}],70:[function(M,H,y){const E=M("./bitmapimage"),{Gif:m,GifError:u}=M("./gif"),{GifCodec:c}=M("./gifcodec"),{GifFrame:o}=M("./gifframe"),n=M("./gifutil");H.exports={BitmapImage:E,Gif:m,GifCodec:c,GifFrame:o,GifUtil:n,GifError:u}},{"./bitmapimage":65,"./gif":66,"./gifcodec":67,"./gifframe":68,"./gifutil":69}],71:[function(M,H,y){(function(E){var m;typeof Ee<"u"?m=Ee:typeof E<"u"?m=E:typeof self<"u"?m=self:m={},H.exports=m}).call(this,typeof Ue<"u"?Ue:typeof self<"u"?self:typeof Ee<"u"?Ee:{})},{}],72:[function(M,H,y){var E=M("http"),m=M("url"),u=H.exports;for(var c in E)E.hasOwnProperty(c)&&(u[c]=E[c]);u.request=function(n,r){return n=o(n),E.request.call(this,n,r)},u.get=function(n,r){return n=o(n),E.get.call(this,n,r)};function o(n){if(typeof n=="string"&&(n=m.parse(n)),n.protocol||(n.protocol="https:"),n.protocol!=="https:")throw new Error('Protocol "'+n.protocol+'" not supported. Expected "https:"');return n}},{http:156,url:180}],73:[function(M,H,y){y.read=function(E,m,u,c,o){var n,r,t=o*8-c-1,e=(1<<t)-1,s=e>>1,l=-7,a=u?o-1:0,f=u?-1:1,i=E[m+a];for(a+=f,n=i&(1<<-l)-1,i>>=-l,l+=t;l>0;n=n*256+E[m+a],a+=f,l-=8);for(r=n&(1<<-l)-1,n>>=-l,l+=c;l>0;r=r*256+E[m+a],a+=f,l-=8);if(n===0)n=1-s;else{if(n===e)return r?NaN:(i?-1:1)*(1/0);r=r+Math.pow(2,c),n=n-s}return(i?-1:1)*r*Math.pow(2,n-c)},y.write=function(E,m,u,c,o,n){var r,t,e,s=n*8-o-1,l=(1<<s)-1,a=l>>1,f=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,i=c?0:n-1,h=c?1:-1,d=m<0||m===0&&1/m<0?1:0;for(m=Math.abs(m),isNaN(m)||m===1/0?(t=isNaN(m)?1:0,r=l):(r=Math.floor(Math.log(m)/Math.LN2),m*(e=Math.pow(2,-r))<1&&(r--,e*=2),r+a>=1?m+=f/e:m+=f*Math.pow(2,1-a),m*e>=2&&(r++,e/=2),r+a>=l?(t=0,r=l):r+a>=1?(t=(m*e-1)*Math.pow(2,o),r=r+a):(t=m*Math.pow(2,a-1)*Math.pow(2,o),r=0));o>=8;E[u+i]=t&255,i+=h,t/=256,o-=8);for(r=r<<o|t,s+=o;s>0;E[u+i]=r&255,i+=h,r/=256,s-=8);E[u+i-h]|=d*128}},{}],74:[function(M,H,y){(function(m,u){typeof y=="object"&&typeof H=="object"?H.exports=u():typeof y=="object"?y.iq=u():m.iq=u()})(this,function(){return function(E){var m={};function u(c){if(m[c])return m[c].exports;var o=m[c]={exports:{},id:c,loaded:!1};return E[c].call(o.exports,o,o.exports,u),o.loaded=!0,o.exports}return u.m=E,u.c=m,u.p="",u(0)}([function(E,m,u){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * iq.ts - Image Quantization Library
 */var c=u(1);m.constants=c;var o=u(3);m.conversion=o;var n=u(12);m.distance=n;var r=u(20);m.palette=r;var t=u(30);m.image=t;var e=u(35);m.quality=e;var s=u(37);m.utils=s},function(E,m,u){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * constants.ts - part of Image Quantization Library
 */var c=u(2);m.bt709=c},function(E,m){var u;(function(n){n[n.RED=.2126]="RED",n[n.GREEN=.7152]="GREEN",n[n.BLUE=.0722]="BLUE",n[n.WHITE=1]="WHITE"})(u||(u={})),m.Y=u;var c;(function(n){n[n.RED=.64]="RED",n[n.GREEN=.3]="GREEN",n[n.BLUE=.15]="BLUE",n[n.WHITE=.3127]="WHITE"})(c||(c={})),m.x=c;var o;(function(n){n[n.RED=.33]="RED",n[n.GREEN=.6]="GREEN",n[n.BLUE=.06]="BLUE",n[n.WHITE=.329]="WHITE"})(o||(o={})),m.y=o},function(E,m,u){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * iq.ts - Image Quantization Library
 */var c=u(4);m.rgb2xyz=c.rgb2xyz;var o=u(5);m.rgb2hsl=o.rgb2hsl;var n=u(7);m.rgb2lab=n.rgb2lab;var r=u(9);m.lab2xyz=r.lab2xyz;var t=u(10);m.lab2rgb=t.lab2rgb;var e=u(8);m.xyz2lab=e.xyz2lab;var s=u(11);m.xyz2rgb=s.xyz2rgb},function(E,m){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgb2xyz.ts - part of Image Quantization Library
 */function u(o){return o>.04045?Math.pow((o+.055)/1.055,2.4):o/12.92}function c(o,n,r){return o=u(o/255),n=u(n/255),r=u(r/255),{x:o*.4124+n*.3576+r*.1805,y:o*.2126+n*.7152+r*.0722,z:o*.0193+n*.1192+r*.9505}}m.rgb2xyz=c},function(E,m,u){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgb2hsl.ts - part of Image Quantization Library
 */var c=u(6);function o(n,r,t){var e=c.min3(n,r,t),s=c.max3(n,r,t),l=s-e,a=(e+s)/510,f=0;a>0&&a<1&&(f=l/(a<.5?s+e:510-s-e));var i=0;return l>0&&(s===n?i=(r-t)/l:s===r?i=2+(t-n)/l:i=4+(n-r)/l,i*=60,i<0&&(i+=360)),{h:i,s:f,l:a}}m.rgb2hsl=o},function(E,m){function u(s){return s*(Math.PI/180)}m.degrees2radians=u;function c(s,l,a){var f=s;return f<l&&(f=l),f<a&&(f=a),f}m.max3=c;function o(s,l,a){var f=s;return f>l&&(f=l),f>a&&(f=a),f}m.min3=o;function n(s,l,a){return s>a&&(s=a),s<l&&(s=l),s|0}m.intInRange=n;function r(s){return s=Math.round(s),s>255?s=255:s<0&&(s=0),s}m.inRange0to255Rounded=r;function t(s){return s>255?s=255:s<0&&(s=0),s}m.inRange0to255=t;function e(s,l){var a=typeof s[0],f;if(a==="number"||a==="string"){for(var i=Object.create(null),h=0,d=s.length;h<d;h++){var p=s[h];i[p]||i[p]===0||(i[p]=h)}f=s.sort(function(g,b){return l(g,b)||i[g]-i[b]})}else{var _=s.slice(0);f=s.sort(function(g,b){return l(g,b)||_.indexOf(g)-_.indexOf(b)})}return f}m.stableSort=e},function(E,m,u){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgb2lab.ts - part of Image Quantization Library
 */var c=u(4),o=u(8);function n(r,t,e){var s=c.rgb2xyz(r,t,e);return o.xyz2lab(s.x,s.y,s.z)}m.rgb2lab=n},function(E,m){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * xyz2lab.ts - part of Image Quantization Library
 */var u=.95047,c=1,o=1.08883;function n(t){return t>.008856?Math.pow(t,1/3):7.787*t+16/116}function r(t,e,s){if(t=n(t/u),e=n(e/c),s=n(s/o),116*e-16<0)throw new Error("xxx");return{L:Math.max(0,116*e-16),a:500*(t-e),b:200*(e-s)}}m.xyz2lab=r},function(E,m){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * lab2xyz.ts - part of Image Quantization Library
 */var u=.95047,c=1,o=1.08883;function n(t){return t>.206893034?Math.pow(t,3):(t-16/116)/7.787}function r(t,e,s){var l=(t+16)/116,a=e/500+l,f=l-s/200;return{x:u*n(a),y:c*n(l),z:o*n(f)}}m.lab2xyz=r},function(E,m,u){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * lab2rgb.ts - part of Image Quantization Library
 */var c=u(9),o=u(11);function n(r,t,e){var s=c.lab2xyz(r,t,e);return o.xyz2rgb(s.x,s.y,s.z)}m.lab2rgb=n},function(E,m,u){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * xyz2rgb.ts - part of Image Quantization Library
 */var c=u(6);function o(r){return r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r}function n(r,t,e){var s=o(r*3.2406+t*-1.5372+e*-.4986),l=o(r*-.9689+t*1.8758+e*.0415),a=o(r*.0557+t*-.204+e*1.057);return{r:c.inRange0to255Rounded(s*255),g:c.inRange0to255Rounded(l*255),b:c.inRange0to255Rounded(a*255)}}m.xyz2rgb=n},function(E,m,u){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * iq.ts - Image Quantization Library
 */var c=u(13);m.AbstractDistanceCalculator=c.AbstractDistanceCalculator;var o=u(14);m.CIE94Textiles=o.CIE94Textiles,m.CIE94GraphicArts=o.CIE94GraphicArts;var n=u(15);m.CIEDE2000=n.CIEDE2000;var r=u(16);m.CMETRIC=r.CMETRIC;var t=u(17);m.AbstractEuclidean=t.AbstractEuclidean,m.Euclidean=t.Euclidean,m.EuclideanRgbQuantWOAlpha=t.EuclideanRgbQuantWOAlpha,m.EuclideanRgbQuantWithAlpha=t.EuclideanRgbQuantWithAlpha;var e=u(18);m.AbstractManhattan=e.AbstractManhattan,m.Manhattan=e.Manhattan,m.ManhattanSRGB=e.ManhattanSRGB,m.ManhattanNommyde=e.ManhattanNommyde;var s=u(19);m.PNGQUANT=s.PNGQUANT},function(E,m){var u=function(){function c(){this._setDefaults(),this.setWhitePoint(255,255,255,255)}return c.prototype.setWhitePoint=function(o,n,r,t){this._whitePoint={r:o>0?255/o:0,g:n>0?255/n:0,b:r>0?255/r:0,a:t>0?255/t:0},this._maxDistance=this.calculateRaw(o,n,r,t,0,0,0,0)},c.prototype.calculateNormalized=function(o,n){return this.calculateRaw(o.r,o.g,o.b,o.a,n.r,n.g,n.b,n.a)/this._maxDistance},c.prototype._setDefaults=function(){},c}();m.AbstractDistanceCalculator=u},function(E,m,u){var c=this&&this.__extends||function(l,a){for(var f in a)a.hasOwnProperty(f)&&(l[f]=a[f]);function i(){this.constructor=l}l.prototype=a===null?Object.create(a):(i.prototype=a.prototype,new i)};/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * cie94.ts - part of Image Quantization Library
 */var o=u(13),n=u(7),r=u(6),t=function(l){c(a,l);function a(){l.apply(this,arguments)}return a.prototype.calculateRaw=function(f,i,h,d,p,_,g,b){var w=n.rgb2lab(r.inRange0to255(f*this._whitePoint.r),r.inRange0to255(i*this._whitePoint.g),r.inRange0to255(h*this._whitePoint.b)),A=n.rgb2lab(r.inRange0to255(p*this._whitePoint.r),r.inRange0to255(_*this._whitePoint.g),r.inRange0to255(g*this._whitePoint.b)),R=w.L-A.L,B=w.a-A.a,T=w.b-A.b,z=Math.sqrt(w.a*w.a+w.b*w.b),F=Math.sqrt(A.a*A.a+A.b*A.b),D=z-F,O=B*B+T*T-D*D;O=O<0?0:Math.sqrt(O);var k=(b-d)*this._whitePoint.a*this._kA;return Math.sqrt(Math.pow(R/this._Kl,2)+Math.pow(D/(1+this._K1*z),2)+Math.pow(O/(1+this._K2*z),2)+Math.pow(k,2))},a}(o.AbstractDistanceCalculator);m.AbstractCIE94=t;var e=function(l){c(a,l);function a(){l.apply(this,arguments)}return a.prototype._setDefaults=function(){this._Kl=2,this._K1=.048,this._K2=.014,this._kA=.25*50/255},a}(t);m.CIE94Textiles=e;var s=function(l){c(a,l);function a(){l.apply(this,arguments)}return a.prototype._setDefaults=function(){this._Kl=1,this._K1=.045,this._K2=.015,this._kA=.25*100/255},a}(t);m.CIE94GraphicArts=s},function(E,m,u){var c=this&&this.__extends||function(e,s){for(var l in s)s.hasOwnProperty(l)&&(e[l]=s[l]);function a(){this.constructor=e}e.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)};/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * ciede2000.ts - part of Image Quantization Library
 */var o=u(13),n=u(7),r=u(6),t=function(e){c(s,e);function s(){e.apply(this,arguments)}return s.prototype.calculateRaw=function(l,a,f,i,h,d,p,_){var g=n.rgb2lab(r.inRange0to255(l*this._whitePoint.r),r.inRange0to255(a*this._whitePoint.g),r.inRange0to255(f*this._whitePoint.b)),b=n.rgb2lab(r.inRange0to255(h*this._whitePoint.r),r.inRange0to255(d*this._whitePoint.g),r.inRange0to255(p*this._whitePoint.b)),w=(_-i)*this._whitePoint.a*s._kA,A=this.calculateRawInLab(g,b);return Math.sqrt(A+w*w)},s.prototype.calculateRawInLab=function(l,a){var f=l.L,i=l.a,h=l.b,d=a.L,p=a.a,_=a.b,g=Math.sqrt(i*i+h*h),b=Math.sqrt(p*p+_*_),w=Math.pow((g+b)/2,7),A=.5*(1-Math.sqrt(w/(w+s._pow25to7))),R=(1+A)*i,B=(1+A)*p,T=Math.sqrt(R*R+h*h),z=Math.sqrt(B*B+_*_),F=T*z,D=s._calculatehp(h,R),O=s._calculatehp(_,B),k=Math.abs(D-O),G=d-f,J=z-T,$=s._calculate_dHp(F,k,O,D),ee=s._calculate_ahp(F,k,D,O),j=s._calculateT(ee),Y=(T+z)/2,W=Math.pow((f+d)/2-50,2),Q=1+.015*W/Math.sqrt(20+W),re=1+.045*Y,ue=1+.015*j*Y,le=s._calculateRT(ee,Y),he=G/Q,ge=J/re,ie=$/ue;return Math.pow(he,2)+Math.pow(ge,2)+Math.pow(ie,2)+le*ge*ie},s._calculatehp=function(l,a){var f=Math.atan2(l,a);return f>=0?f:f+s._deg360InRad},s._calculateRT=function(l,a){var f=Math.pow(a,7),i=2*Math.sqrt(f/(f+s._pow25to7)),h=s._deg30InRad*Math.exp(-Math.pow((l-s._deg275InRad)/s._deg25InRad,2));return-Math.sin(2*h)*i},s._calculateT=function(l){return 1-.17*Math.cos(l-s._deg30InRad)+.24*Math.cos(l*2)+.32*Math.cos(l*3+s._deg6InRad)-.2*Math.cos(l*4-s._deg63InRad)},s._calculate_ahp=function(l,a,f,i){var h=f+i;return l==0?h:a<=s._deg180InRad?h/2:h<s._deg360InRad?(h+s._deg360InRad)/2:(h-s._deg360InRad)/2},s._calculate_dHp=function(l,a,f,i){var h;return l==0?h=0:a<=s._deg180InRad?h=f-i:f<=i?h=f-i+s._deg360InRad:h=f-i-s._deg360InRad,2*Math.sqrt(l)*Math.sin(h/2)},s._kA=.25*100/255,s._pow25to7=Math.pow(25,7),s._deg360InRad=r.degrees2radians(360),s._deg180InRad=r.degrees2radians(180),s._deg30InRad=r.degrees2radians(30),s._deg6InRad=r.degrees2radians(6),s._deg63InRad=r.degrees2radians(63),s._deg275InRad=r.degrees2radians(275),s._deg25InRad=r.degrees2radians(25),s}(o.AbstractDistanceCalculator);m.CIEDE2000=t},function(E,m,u){var c=this&&this.__extends||function(r,t){for(var e in t)t.hasOwnProperty(e)&&(r[e]=t[e]);function s(){this.constructor=r}r.prototype=t===null?Object.create(t):(s.prototype=t.prototype,new s)};/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * cmetric.ts - part of Image Quantization Library
 */var o=u(13),n=function(r){c(t,r);function t(){r.apply(this,arguments)}return t.prototype.calculateRaw=function(e,s,l,a,f,i,h,d){var p=(e+f)/2*this._whitePoint.r,_=(e-f)*this._whitePoint.r,g=(s-i)*this._whitePoint.g,b=(l-h)*this._whitePoint.b,w=((512+p)*_*_>>8)+4*g*g+((767-p)*b*b>>8),A=(d-a)*this._whitePoint.a;return Math.sqrt(w+A*A)},t}(o.AbstractDistanceCalculator);m.CMETRIC=n},function(E,m,u){var c=this&&this.__extends||function(l,a){for(var f in a)a.hasOwnProperty(f)&&(l[f]=a[f]);function i(){this.constructor=l}l.prototype=a===null?Object.create(a):(i.prototype=a.prototype,new i)};/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * euclidean.ts - part of Image Quantization Library
 */var o=u(13),n=u(2),r=function(l){c(a,l);function a(){l.apply(this,arguments)}return a.prototype.calculateRaw=function(f,i,h,d,p,_,g,b){var w=p-f,A=_-i,R=g-h,B=b-d;return Math.sqrt(this._kR*w*w+this._kG*A*A+this._kB*R*R+this._kA*B*B)},a}(o.AbstractDistanceCalculator);m.AbstractEuclidean=r;var t=function(l){c(a,l);function a(){l.apply(this,arguments)}return a.prototype._setDefaults=function(){this._kR=1,this._kG=1,this._kB=1,this._kA=1},a}(r);m.Euclidean=t;var e=function(l){c(a,l);function a(){l.apply(this,arguments)}return a.prototype._setDefaults=function(){this._kR=n.Y.RED,this._kG=n.Y.GREEN,this._kB=n.Y.BLUE,this._kA=1},a}(r);m.EuclideanRgbQuantWithAlpha=e;var s=function(l){c(a,l);function a(){l.apply(this,arguments)}return a.prototype._setDefaults=function(){this._kR=n.Y.RED,this._kG=n.Y.GREEN,this._kB=n.Y.BLUE,this._kA=0},a}(r);m.EuclideanRgbQuantWOAlpha=s},function(E,m,u){var c=this&&this.__extends||function(l,a){for(var f in a)a.hasOwnProperty(f)&&(l[f]=a[f]);function i(){this.constructor=l}l.prototype=a===null?Object.create(a):(i.prototype=a.prototype,new i)};/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * manhattanNeuQuant.ts - part of Image Quantization Library
 */var o=u(13),n=u(2),r=function(l){c(a,l);function a(){l.apply(this,arguments)}return a.prototype.calculateRaw=function(f,i,h,d,p,_,g,b){var w=p-f,A=_-i,R=g-h,B=b-d;return w<0&&(w=0-w),A<0&&(A=0-A),R<0&&(R=0-R),B<0&&(B=0-B),this._kR*w+this._kG*A+this._kB*R+this._kA*B},a}(o.AbstractDistanceCalculator);m.AbstractManhattan=r;var t=function(l){c(a,l);function a(){l.apply(this,arguments)}return a.prototype._setDefaults=function(){this._kR=1,this._kG=1,this._kB=1,this._kA=1},a}(r);m.Manhattan=t;var e=function(l){c(a,l);function a(){l.apply(this,arguments)}return a.prototype._setDefaults=function(){this._kR=.4984,this._kG=.8625,this._kB=.2979,this._kA=1},a}(r);m.ManhattanNommyde=e;var s=function(l){c(a,l);function a(){l.apply(this,arguments)}return a.prototype._setDefaults=function(){this._kR=n.Y.RED,this._kG=n.Y.GREEN,this._kB=n.Y.BLUE,this._kA=1},a}(r);m.ManhattanSRGB=s},function(E,m,u){var c=this&&this.__extends||function(r,t){for(var e in t)t.hasOwnProperty(e)&&(r[e]=t[e]);function s(){this.constructor=r}r.prototype=t===null?Object.create(t):(s.prototype=t.prototype,new s)};/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * pngQuant.ts - part of Image Quantization Library
 */var o=u(13),n=function(r){c(t,r);function t(){r.apply(this,arguments)}return t.prototype.calculateRaw=function(e,s,l,a,f,i,h,d){var p=(d-a)*this._whitePoint.a;return this._colordifference_ch(e*this._whitePoint.r,f*this._whitePoint.r,p)+this._colordifference_ch(s*this._whitePoint.g,i*this._whitePoint.g,p)+this._colordifference_ch(l*this._whitePoint.b,h*this._whitePoint.b,p)},t.prototype._colordifference_ch=function(e,s,l){var a=e-s,f=a+l;return a*a+f*f},t}(o.AbstractDistanceCalculator);m.PNGQUANT=n},function(E,m,u){var c=u(21);m.NeuQuant=c.NeuQuant;var o=u(25);m.NeuQuantFloat=o.NeuQuantFloat;var n=u(26);m.RGBQuant=n.RGBQuant;var r=u(27);m.ColorHistogram=r.ColorHistogram;var t=u(29);m.WuQuant=t.WuQuant,m.WuColorCube=t.WuColorCube},function(E,m,u){/**
 * @preserve TypeScript port:
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * neuquant.ts - part of Image Quantization Library
 */var c=u(22),o=u(24),n=3,r=function(){function e(s){this.r=this.g=this.b=this.a=s}return e.prototype.toPoint=function(){return o.Point.createByRGBA(this.r>>n,this.g>>n,this.b>>n,this.a>>n)},e.prototype.subtract=function(s,l,a,f){this.r-=s|0,this.g-=l|0,this.b-=a|0,this.a-=f|0},e}(),t=function(){function e(s,l){l===void 0&&(l=256),this._distance=s,this._pointArray=[],this._sampleFactor=1,this._networkSize=l,this._distance.setWhitePoint(255<<n,255<<n,255<<n,255<<n)}return e.prototype.sample=function(s){this._pointArray=this._pointArray.concat(s.getPointArray())},e.prototype.quantize=function(){return this._init(),this._learn(),this._buildPalette()},e.prototype._init=function(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(var s=0;s<this._networkSize;s++)this._network[s]=new r((s<<n+8)/this._networkSize|0),this._freq[s]=e._initialBias/this._networkSize|0,this._bias[s]=0},e.prototype._learn=function(){var s=this._sampleFactor,l=this._pointArray.length;l<e._minpicturebytes&&(s=1);var a=30+(s-1)/3|0,f=l/s|0,i=f/e._nCycles|0,h=e._initAlpha,d=(this._networkSize>>3)*e._radiusBias,p=d>>e._radiusBiasShift;p<=1&&(p=0);for(var _=0;_<p;_++)this._radPower[_]=h*((p*p-_*_)*e._radBias/(p*p))>>>0;var g;l<e._minpicturebytes?g=1:l%e._prime1!=0?g=e._prime1:l%e._prime2!=0?g=e._prime2:l%e._prime3!=0?g=e._prime3:g=e._prime4;for(var _=0,b=0;_<f;){var w=this._pointArray[b],A=w.b<<n,R=w.g<<n,B=w.r<<n,T=w.a<<n,z=this._contest(A,R,B,T);if(this._alterSingle(h,z,A,R,B,T),p!==0&&this._alterNeighbour(p,z,A,R,B,T),b+=g,b>=l&&(b-=l),_++,i===0&&(i=1),_%i===0){h-=h/a|0,d-=d/e._radiusDecrease|0,p=d>>e._radiusBiasShift,p<=1&&(p=0);for(var F=0;F<p;F++)this._radPower[F]=h*((p*p-F*F)*e._radBias/(p*p))>>>0}}},e.prototype._buildPalette=function(){var s=new c.Palette;return this._network.forEach(function(l){s.add(l.toPoint())}),s.sort(),s},e.prototype._alterNeighbour=function(s,l,a,f,i,h){var d=l-s;d<-1&&(d=-1);var p=l+s;p>this._networkSize&&(p=this._networkSize);for(var _=l+1,g=l-1,b=1;_<p||g>d;){var w=this._radPower[b++]/e._alphaRadBias;if(_<p){var A=this._network[_++];A.subtract(w*(A.r-i),w*(A.g-f),w*(A.b-a),w*(A.a-h))}if(g>d){var A=this._network[g--];A.subtract(w*(A.r-i),w*(A.g-f),w*(A.b-a),w*(A.a-h))}}},e.prototype._alterSingle=function(s,l,a,f,i,h){s/=e._initAlpha;var d=this._network[l];d.subtract(s*(d.r-i),s*(d.g-f),s*(d.b-a),s*(d.a-h))},e.prototype._contest=function(s,l,a,f){for(var i=1020<<n,h=2147483647,d=h,p=-1,_=p,g=0;g<this._networkSize;g++){var b=this._network[g],w=this._distance.calculateNormalized(b,{r:a,g:l,b:s,a:f})*i|0;w<h&&(h=w,p=g);var A=w-(this._bias[g]>>e._initialBiasShift-n);A<d&&(d=A,_=g);var R=this._freq[g]>>e._betaShift;this._freq[g]-=R,this._bias[g]+=R<<e._gammaShift}return this._freq[p]+=e._beta,this._bias[p]-=e._betaGamma,_},e._prime1=499,e._prime2=491,e._prime3=487,e._prime4=503,e._minpicturebytes=e._prime4,e._nCycles=100,e._initialBiasShift=16,e._initialBias=1<<e._initialBiasShift,e._gammaShift=10,e._betaShift=10,e._beta=e._initialBias>>e._betaShift,e._betaGamma=e._initialBias<<e._gammaShift-e._betaShift,e._radiusBiasShift=6,e._radiusBias=1<<e._radiusBiasShift,e._radiusDecrease=30,e._alphaBiasShift=10,e._initAlpha=1<<e._alphaBiasShift,e._radBiasShift=8,e._radBias=1<<e._radBiasShift,e._alphaRadBiasShift=e._alphaBiasShift+e._radBiasShift,e._alphaRadBias=1<<e._alphaRadBiasShift,e}();m.NeuQuant=t},function(E,m,u){var c=u(23),o=u(5),n=10;function r(e,s){for(var l=360,a=l/s,f=a/2,i=1,h=a-f;i<s;i++,h+=a)if(e>=h&&e<h+a)return i;return 0}m.hueGroup=r;var t=function(){function e(){this._pointArray=[],this._i32idx={},this._pointContainer=new c.PointContainer,this._pointContainer.setHeight(1),this._pointArray=this._pointContainer.getPointArray()}return e.prototype.add=function(s){this._pointArray.push(s),this._pointContainer.setWidth(this._pointArray.length)},e.prototype.has=function(s){for(var l=this._pointArray.length-1;l>=0;l--)if(s.uint32===this._pointArray[l].uint32)return!0;return!1},e.prototype.getNearestColor=function(s,l){return this._pointArray[this.getNearestIndex(s,l)|0]},e.prototype.getPointContainer=function(){return this._pointContainer},e.prototype._nearestPointFromCache=function(s){return typeof this._i32idx[s]=="number"?this._i32idx[s]:-1},e.prototype.getNearestIndex=function(s,l){var a=this._nearestPointFromCache(""+l.uint32);if(a>=0)return a;var f=Number.MAX_VALUE;a=0;for(var i=0,h=this._pointArray.length;i<h;i++){var d=this._pointArray[i],p=s.calculateRaw(l.r,l.g,l.b,l.a,d.r,d.g,d.b,d.a);p<f&&(f=p,a=i)}return this._i32idx[l.uint32]=a,a},e.prototype.sort=function(){this._i32idx={},this._pointArray.sort(function(s,l){var a=o.rgb2hsl(s.r,s.g,s.b),f=o.rgb2hsl(l.r,l.g,l.b),i=s.r===s.g&&s.g===s.b?0:1+r(a.h,n),h=l.r===l.g&&l.g===l.b?0:1+r(f.h,n),d=h-i;if(d)return-d;var p=s.getLuminosity(!0),_=l.getLuminosity(!0);if(_-p!==0)return _-p;var g=(f.s*100|0)-(a.s*100|0);return g?-g:0})},e}();m.Palette=t},function(E,m,u){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * pointContainer.ts - part of Image Quantization Library
 */var c=u(24),o=function(){function n(){this._width=0,this._height=0,this._pointArray=[]}return n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n.prototype.setWidth=function(r){this._width=r},n.prototype.setHeight=function(r){this._height=r},n.prototype.getPointArray=function(){return this._pointArray},n.prototype.clone=function(){var r=new n;r._width=this._width,r._height=this._height;for(var t=0,e=this._pointArray.length;t<e;t++)r._pointArray[t]=c.Point.createByUint32(this._pointArray[t].uint32|0);return r},n.prototype.toUint32Array=function(){for(var r=this._pointArray.length,t=new Uint32Array(r),e=0;e<r;e++)t[e]=this._pointArray[e].uint32;return t},n.prototype.toUint8Array=function(){return new Uint8Array(this.toUint32Array().buffer)},n.fromHTMLImageElement=function(r){var t=r.naturalWidth,e=r.naturalHeight,s=document.createElement("canvas");s.width=t,s.height=e;var l=s.getContext("2d");return l.drawImage(r,0,0,t,e,0,0,t,e),n.fromHTMLCanvasElement(s)},n.fromHTMLCanvasElement=function(r){var t=r.width,e=r.height,s=r.getContext("2d"),l=s.getImageData(0,0,t,e);return n.fromImageData(l)},n.fromNodeCanvas=function(r){return n.fromHTMLCanvasElement(r)},n.fromImageData=function(r){var t=r.width,e=r.height;return n.fromCanvasPixelArray(r.data,t,e)},n.fromArray=function(r,t,e){var s=new Uint8Array(r);return n.fromUint8Array(s,t,e)},n.fromCanvasPixelArray=function(r,t,e){return n.fromArray(r,t,e)},n.fromUint8Array=function(r,t,e){return n.fromUint32Array(new Uint32Array(r.buffer),t,e)},n.fromUint32Array=function(r,t,e){var s=new n;s._width=t,s._height=e;for(var l=0,a=r.length;l<a;l++)s._pointArray[l]=c.Point.createByUint32(r[l]|0);return s},n}();m.PointContainer=o},function(E,m,u){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * point.ts - part of Image Quantization Library
 */var c=u(2),o=function(){function n(){this.uint32=-1>>>0,this.r=this.g=this.b=this.a=0,this.rgba=new Array(4),this.rgba[0]=0,this.rgba[1]=0,this.rgba[2]=0,this.rgba[3]=0}return n.createByQuadruplet=function(r){var t=new n;return t.r=r[0]|0,t.g=r[1]|0,t.b=r[2]|0,t.a=r[3]|0,t._loadUINT32(),t._loadQuadruplet(),t},n.createByRGBA=function(r,t,e,s){var l=new n;return l.r=r|0,l.g=t|0,l.b=e|0,l.a=s|0,l._loadUINT32(),l._loadQuadruplet(),l},n.createByUint32=function(r){var t=new n;return t.uint32=r>>>0,t._loadRGBA(),t._loadQuadruplet(),t},n.prototype.from=function(r){this.r=r.r,this.g=r.g,this.b=r.b,this.a=r.a,this.uint32=r.uint32,this.rgba[0]=r.r,this.rgba[1]=r.g,this.rgba[2]=r.b,this.rgba[3]=r.a},n.prototype.getLuminosity=function(r){var t=this.r,e=this.g,s=this.b;return r&&(t=Math.min(255,255-this.a+this.a*t/255),e=Math.min(255,255-this.a+this.a*e/255),s=Math.min(255,255-this.a+this.a*s/255)),t*c.Y.RED+e*c.Y.GREEN+s*c.Y.BLUE},n.prototype._loadUINT32=function(){this.uint32=(this.a<<24|this.b<<16|this.g<<8|this.r)>>>0},n.prototype._loadRGBA=function(){this.r=this.uint32&255,this.g=this.uint32>>>8&255,this.b=this.uint32>>>16&255,this.a=this.uint32>>>24&255},n.prototype._loadQuadruplet=function(){this.rgba[0]=this.r,this.rgba[1]=this.g,this.rgba[2]=this.b,this.rgba[3]=this.a},n}();m.Point=o},function(E,m,u){/**
 * @preserve TypeScript port:
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * neuquant.ts - part of Image Quantization Library
 */var c=u(22),o=u(24),n=3,r=function(){function e(s){this.r=this.g=this.b=this.a=s}return e.prototype.toPoint=function(){return o.Point.createByRGBA(this.r>>n,this.g>>n,this.b>>n,this.a>>n)},e.prototype.subtract=function(s,l,a,f){this.r-=s,this.g-=l,this.b-=a,this.a-=f},e}(),t=function(){function e(s,l){l===void 0&&(l=256),this._distance=s,this._pointArray=[],this._sampleFactor=1,this._networkSize=l,this._distance.setWhitePoint(255<<n,255<<n,255<<n,255<<n)}return e.prototype.sample=function(s){this._pointArray=this._pointArray.concat(s.getPointArray())},e.prototype.quantize=function(){return this._init(),this._learn(),this._buildPalette()},e.prototype._init=function(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(var s=0;s<this._networkSize;s++)this._network[s]=new r((s<<n+8)/this._networkSize),this._freq[s]=e._initialBias/this._networkSize,this._bias[s]=0},e.prototype._learn=function(){var s=this._sampleFactor,l=this._pointArray.length;l<e._minpicturebytes&&(s=1);var a=30+(s-1)/3,f=l/s,i=f/e._nCycles|0,h=e._initAlpha,d=(this._networkSize>>3)*e._radiusBias,p=d>>e._radiusBiasShift;p<=1&&(p=0);for(var _=0;_<p;_++)this._radPower[_]=h*((p*p-_*_)*e._radBias/(p*p));var g;l<e._minpicturebytes?g=1:l%e._prime1!=0?g=e._prime1:l%e._prime2!=0?g=e._prime2:l%e._prime3!=0?g=e._prime3:g=e._prime4;for(var _=0,b=0;_<f;){var w=this._pointArray[b],A=w.b<<n,R=w.g<<n,B=w.r<<n,T=w.a<<n,z=this._contest(A,R,B,T);if(this._alterSingle(h,z,A,R,B,T),p!=0&&this._alterNeighbour(p,z,A,R,B,T),b+=g,b>=l&&(b-=l),_++,i==0&&(i=1),_%i==0){h-=h/a,d-=d/e._radiusDecrease,p=d>>e._radiusBiasShift,p<=1&&(p=0);for(var F=0;F<p;F++)this._radPower[F]=h*((p*p-F*F)*e._radBias/(p*p))}}},e.prototype._buildPalette=function(){var s=new c.Palette;return this._network.forEach(function(l){s.add(l.toPoint())}),s.sort(),s},e.prototype._alterNeighbour=function(s,l,a,f,i,h){var d=l-s;d<-1&&(d=-1);var p=l+s;p>this._networkSize&&(p=this._networkSize);for(var _=l+1,g=l-1,b=1;_<p||g>d;){var w=this._radPower[b++]/e._alphaRadBias;if(_<p){var A=this._network[_++];A.subtract(w*(A.r-i),w*(A.g-f),w*(A.b-a),w*(A.a-h))}if(g>d){var A=this._network[g--];A.subtract(w*(A.r-i),w*(A.g-f),w*(A.b-a),w*(A.a-h))}}},e.prototype._alterSingle=function(s,l,a,f,i,h){s/=e._initAlpha;var d=this._network[l];d.subtract(s*(d.r-i),s*(d.g-f),s*(d.b-a),s*(d.a-h))},e.prototype._contest=function(s,l,a,f){for(var i=1020<<n,h=2147483647,d=h,p=-1,_=p,g=0;g<this._networkSize;g++){var b=this._network[g],w=this._distance.calculateNormalized(b,{r:a,g:l,b:s,a:f})*i;w<h&&(h=w,p=g);var A=w-(this._bias[g]>>e._initialBiasShift-n);A<d&&(d=A,_=g);var R=this._freq[g]>>e._betaShift;this._freq[g]-=R,this._bias[g]+=R<<e._gammaShift}return this._freq[p]+=e._beta,this._bias[p]-=e._betaGamma,_},e._prime1=499,e._prime2=491,e._prime3=487,e._prime4=503,e._minpicturebytes=e._prime4,e._nCycles=100,e._initialBiasShift=16,e._initialBias=1<<e._initialBiasShift,e._gammaShift=10,e._betaShift=10,e._beta=e._initialBias>>e._betaShift,e._betaGamma=e._initialBias<<e._gammaShift-e._betaShift,e._radiusBiasShift=6,e._radiusBias=1<<e._radiusBiasShift,e._radiusDecrease=30,e._alphaBiasShift=10,e._initAlpha=1<<e._alphaBiasShift,e._radBiasShift=8,e._radBias=1<<e._radBiasShift,e._alphaRadBiasShift=e._alphaBiasShift+e._radBiasShift,e._alphaRadBias=1<<e._alphaRadBiasShift,e}();m.NeuQuantFloat=t},function(E,m,u){/**
 * @preserve TypeScript port:
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgbquant.ts - part of Image Quantization Library
 */var c=u(22),o=u(24),n=u(27),r=u(6),t=function(){function s(l,a,f){this.index=l,this.color=a,this.distance=f}return s}(),e=function(){function s(l,a,f){a===void 0&&(a=256),f===void 0&&(f=2),this._distance=l,this._colors=a,this._histogram=new n.ColorHistogram(f,a),this._initialDistance=.01,this._distanceIncrement=.005}return s.prototype.sample=function(l){this._histogram.sample(l)},s.prototype.quantize=function(){var l=this._histogram.getImportanceSortedColorsIDXI32();if(l.length===0)throw new Error("No colors in image");var a=this._buildPalette(l);return a.sort(),a},s.prototype._buildPalette=function(l){for(var a=new c.Palette,f=a.getPointContainer().getPointArray(),i=new Array(l.length),h=0;h<l.length;h++)f.push(o.Point.createByUint32(l[h])),i[h]=1;for(var d=f.length,p=[],_=d,g=this._initialDistance;_>this._colors;){p.length=0;for(var h=0;h<d;h++)if(i[h]!==0){for(var b=f[h],w=h+1;w<d;w++)if(i[w]!==0){var A=f[w],R=this._distance.calculateNormalized(b,A);R<g&&(p.push(new t(w,A,R)),i[w]=0,_--)}}g+=_>this._colors*3?this._initialDistance:this._distanceIncrement}if(_<this._colors){r.stableSort(p,function(D,O){return O.distance-D.distance});for(var B=0;_<this._colors&&B<p.length;){var T=p[B];i[T.index]=1,_++,B++}}for(var z=f.length,F=z-1;F>=0;F--)i[F]===0&&(F!==z-1&&(f[F]=f[z-1]),--z);return f.length=z,a},s}();m.RGBQuant=e},function(E,m,u){/**
 * @preserve TypeScript port:
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * colorHistogram.ts - part of Image Quantization Library
 */var c=u(28),o=u(6),n=function(){function r(t,e){this._method=t,this._minHueCols=e<<2,this._initColors=e<<2,this._hueStats=new c.HueStatistics(r._hueGroups,this._minHueCols),this._histogram=Object.create(null)}return r.prototype.sample=function(t){switch(this._method){case 1:this._colorStats1D(t);break;case 2:this._colorStats2D(t);break}},r.prototype.getImportanceSortedColorsIDXI32=function(){var t=this,e=o.stableSort(Object.keys(this._histogram),function(d,p){return t._histogram[p]-t._histogram[d]});if(e.length===0)return[];var s;switch(this._method){case 1:var l=Math.min(e.length,this._initColors),a=e[l-1],f=this._histogram[a];s=e.slice(0,l);for(var i=l,h=e.length;i<h&&this._histogram[e[i]]==f;)s.push(e[i++]);this._hueStats.injectIntoArray(s);break;case 2:s=e;break;default:throw new Error("Incorrect method")}return s.map(function(d){return+d})},r.prototype._colorStats1D=function(t){for(var e=this._histogram,s=t.getPointArray(),l=s.length,a=0;a<l;a++){var f=s[a].uint32;this._hueStats.check(f),f in e?e[f]++:e[f]=1}},r.prototype._colorStats2D=function(t){var e=this,s=t.getWidth(),l=t.getHeight(),a=t.getPointArray(),f=r._boxSize[0],i=r._boxSize[1],h=f*i,d=this._makeBoxes(s,l,f,i),p=this._histogram;d.forEach(function(_){var g=Math.round(_.w*_.h/h)*r._boxPixels;g<2&&(g=2);var b={};e._iterateBox(_,s,function(w){var A=a[w].uint32;e._hueStats.check(A),A in p?p[A]++:A in b?++b[A]>=g&&(p[A]=b[A]):b[A]=1})}),this._hueStats.injectIntoDictionary(p)},r.prototype._iterateBox=function(t,e,s){var l=t,a=l.y*e+l.x,f=(l.y+l.h-1)*e+(l.x+l.w-1),i=e-l.w+1,h=0,d=a;do s.call(this,d),d+=++h%l.w==0?i:1;while(d<=f)},r.prototype._makeBoxes=function(t,e,s,l){for(var a=t%s,f=e%l,i=t-a,h=e-f,d=[],p=0;p<e;p+=l)for(var _=0;_<t;_+=s)d.push({x:_,y:p,w:_==i?a:s,h:p==h?f:l});return d},r._boxSize=[64,64],r._boxPixels=2,r._hueGroups=10,r}();m.ColorHistogram=n},function(E,m,u){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * hueStatistics.ts - part of Image Quantization Library
 */var c=u(5),o=u(22),n=function(){function t(){this.num=0,this.cols=[]}return t}(),r=function(){function t(e,s){this._numGroups=e,this._minCols=s,this._stats=[];for(var l=0;l<=e;l++)this._stats[l]=new n;this._groupsFull=0}return t.prototype.check=function(e){this._groupsFull==this._numGroups+1&&(this.check=function(){});var s=e&255,l=e>>>8&255,a=e>>>16&255,f=s==l&&l==a?0:1+o.hueGroup(c.rgb2hsl(s,l,a).h,this._numGroups),i=this._stats[f],h=this._minCols;i.num++,!(i.num>h)&&(i.num==h&&this._groupsFull++,i.num<=h&&this._stats[f].cols.push(e))},t.prototype.injectIntoDictionary=function(e){for(var s=0;s<=this._numGroups;s++)this._stats[s].num<=this._minCols&&this._stats[s].cols.forEach(function(l){e[l]?e[l]++:e[l]=1})},t.prototype.injectIntoArray=function(e){for(var s=0;s<=this._numGroups;s++)this._stats[s].num<=this._minCols&&this._stats[s].cols.forEach(function(l){e.indexOf(l)==-1&&e.push(l)})},t}();m.HueStatistics=r},function(E,m,u){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * wuQuant.ts - part of Image Quantization Library
 */var c=u(22),o=u(24);function n(f){for(var i=[],h=0;h<f;h++)i[h]=0;return i}function r(f,i,h,d){for(var p=new Array(f),_=0;_<f;_++){p[_]=new Array(i);for(var g=0;g<i;g++){p[_][g]=new Array(h);for(var b=0;b<h;b++){p[_][g][b]=new Array(d);for(var w=0;w<d;w++)p[_][g][b][w]=0}}}return p}function t(f,i,h){for(var d=new Array(f),p=0;p<f;p++){d[p]=new Array(i);for(var _=0;_<i;_++){d[p][_]=new Array(h);for(var g=0;g<h;g++)d[p][_][g]=0}}return d}function e(f,i,h,d,p){for(var _=0;_<i;_++){f[_]=[];for(var g=0;g<h;g++){f[_][g]=[];for(var b=0;b<d;b++)f[_][g][b]=p}}}function s(f,i,h){for(var d=0;d<i;d++)f[d]=h}var l=function(){function f(){}return f}();m.WuColorCube=l;var a=function(){function f(i,h,d){h===void 0&&(h=256),d===void 0&&(d=5),this._distance=i,this._setQuality(d),this._initialize(h)}return f.prototype.sample=function(i){for(var h=i.getPointArray(),d=0,p=h.length;d<p;d++)this._addColor(h[d]);this._pixels=this._pixels.concat(h)},f.prototype.quantize=function(){this._preparePalette();for(var i=new c.Palette,h=0;h<this._colors;h++)if(this._sums[h]>0){var d=this._sums[h],p=this._reds[h]/d,_=this._greens[h]/d,g=this._blues[h]/d,b=this._alphas[h]/d,w=o.Point.createByRGBA(p|0,_|0,g|0,b|0);i.add(w)}return i.sort(),i},f.prototype._preparePalette=function(){this._calculateMoments();for(var i=0,h=n(this._colors),d=1;d<this._colors;++d){this._cut(this._cubes[i],this._cubes[d])?(h[i]=this._cubes[i].volume>1?this._calculateVariance(this._cubes[i]):0,h[d]=this._cubes[d].volume>1?this._calculateVariance(this._cubes[d]):0):(h[i]=0,d--),i=0;for(var p=h[0],_=1;_<=d;++_)h[_]>p&&(p=h[_],i=_);if(p<=0){this._colors=d+1;break}}for(var g=[],b=[],w=[],A=[],R=0;R<this._colors;++R){var B=f._volume(this._cubes[R],this._weights);B>0?(g[R]=f._volume(this._cubes[R],this._momentsRed)/B|0,b[R]=f._volume(this._cubes[R],this._momentsGreen)/B|0,w[R]=f._volume(this._cubes[R],this._momentsBlue)/B|0,A[R]=f._volume(this._cubes[R],this._momentsAlpha)/B|0):(g[R]=0,b[R]=0,w[R]=0,A[R]=0)}this._reds=n(this._colors+1),this._greens=n(this._colors+1),this._blues=n(this._colors+1),this._alphas=n(this._colors+1),this._sums=n(this._colors+1);for(var _=0,T=this._pixels.length;_<T;_++){for(var z=this._pixels[_],F=-1,D=F,O=Number.MAX_VALUE,k=0;k<this._colors;k++){var G=g[k],J=b[k],$=w[k],ee=A[k],j=this._distance.calculateRaw(G,J,$,ee,z.r,z.g,z.b,z.a);j<O&&(O=j,D=k)}this._reds[D]+=z.r,this._greens[D]+=z.g,this._blues[D]+=z.b,this._alphas[D]+=z.a,this._sums[D]++}},f.prototype._addColor=function(i){var h=8-this._significantBitsPerChannel,d=(i.r>>h)+1,p=(i.g>>h)+1,_=(i.b>>h)+1,g=(i.a>>h)+1;this._weights[g][d][p][_]++,this._momentsRed[g][d][p][_]+=i.r,this._momentsGreen[g][d][p][_]+=i.g,this._momentsBlue[g][d][p][_]+=i.b,this._momentsAlpha[g][d][p][_]+=i.a,this._moments[g][d][p][_]+=this._table[i.r]+this._table[i.g]+this._table[i.b]+this._table[i.a]},f.prototype._calculateMoments=function(){for(var i=[],h=[],d=[],p=[],_=[],g=[],b=t(this._sideSize,this._sideSize,this._sideSize),w=t(this._sideSize,this._sideSize,this._sideSize),A=t(this._sideSize,this._sideSize,this._sideSize),R=t(this._sideSize,this._sideSize,this._sideSize),B=t(this._sideSize,this._sideSize,this._sideSize),T=t(this._sideSize,this._sideSize,this._sideSize),z=1;z<=this._alphaMaxSideIndex;++z){e(b,this._sideSize,this._sideSize,this._sideSize,0),e(w,this._sideSize,this._sideSize,this._sideSize,0),e(A,this._sideSize,this._sideSize,this._sideSize,0),e(R,this._sideSize,this._sideSize,this._sideSize,0),e(B,this._sideSize,this._sideSize,this._sideSize,0),e(T,this._sideSize,this._sideSize,this._sideSize,0);for(var F=1;F<=this._maxSideIndex;++F){s(i,this._sideSize,0),s(h,this._sideSize,0),s(d,this._sideSize,0),s(p,this._sideSize,0),s(_,this._sideSize,0),s(g,this._sideSize,0);for(var D=1;D<=this._maxSideIndex;++D)for(var O=0,k=0,G=0,J=0,$=0,ee=0,j=1;j<=this._maxSideIndex;++j)O+=this._weights[z][F][D][j],k+=this._momentsRed[z][F][D][j],G+=this._momentsGreen[z][F][D][j],J+=this._momentsBlue[z][F][D][j],$+=this._momentsAlpha[z][F][D][j],ee+=this._moments[z][F][D][j],i[j]+=O,h[j]+=k,d[j]+=G,p[j]+=J,_[j]+=$,g[j]+=ee,b[F][D][j]=b[F-1][D][j]+i[j],w[F][D][j]=w[F-1][D][j]+h[j],A[F][D][j]=A[F-1][D][j]+d[j],R[F][D][j]=R[F-1][D][j]+p[j],B[F][D][j]=B[F-1][D][j]+_[j],T[F][D][j]=T[F-1][D][j]+g[j],this._weights[z][F][D][j]=this._weights[z-1][F][D][j]+b[F][D][j],this._momentsRed[z][F][D][j]=this._momentsRed[z-1][F][D][j]+w[F][D][j],this._momentsGreen[z][F][D][j]=this._momentsGreen[z-1][F][D][j]+A[F][D][j],this._momentsBlue[z][F][D][j]=this._momentsBlue[z-1][F][D][j]+R[F][D][j],this._momentsAlpha[z][F][D][j]=this._momentsAlpha[z-1][F][D][j]+B[F][D][j],this._moments[z][F][D][j]=this._moments[z-1][F][D][j]+T[F][D][j]}}},f._volumeFloat=function(i,h){return h[i.alphaMaximum][i.redMaximum][i.greenMaximum][i.blueMaximum]-h[i.alphaMaximum][i.redMaximum][i.greenMinimum][i.blueMaximum]-h[i.alphaMaximum][i.redMinimum][i.greenMaximum][i.blueMaximum]+h[i.alphaMaximum][i.redMinimum][i.greenMinimum][i.blueMaximum]-h[i.alphaMinimum][i.redMaximum][i.greenMaximum][i.blueMaximum]+h[i.alphaMinimum][i.redMaximum][i.greenMinimum][i.blueMaximum]+h[i.alphaMinimum][i.redMinimum][i.greenMaximum][i.blueMaximum]-h[i.alphaMinimum][i.redMinimum][i.greenMinimum][i.blueMaximum]-(h[i.alphaMaximum][i.redMaximum][i.greenMaximum][i.blueMinimum]-h[i.alphaMinimum][i.redMaximum][i.greenMaximum][i.blueMinimum]-h[i.alphaMaximum][i.redMaximum][i.greenMinimum][i.blueMinimum]+h[i.alphaMinimum][i.redMaximum][i.greenMinimum][i.blueMinimum]-h[i.alphaMaximum][i.redMinimum][i.greenMaximum][i.blueMinimum]+h[i.alphaMinimum][i.redMinimum][i.greenMaximum][i.blueMinimum]+h[i.alphaMaximum][i.redMinimum][i.greenMinimum][i.blueMinimum]-h[i.alphaMinimum][i.redMinimum][i.greenMinimum][i.blueMinimum])},f._volume=function(i,h){return f._volumeFloat(i,h)|0},f._top=function(i,h,d,p){var _;switch(h){case f.alpha:_=p[d][i.redMaximum][i.greenMaximum][i.blueMaximum]-p[d][i.redMaximum][i.greenMinimum][i.blueMaximum]-p[d][i.redMinimum][i.greenMaximum][i.blueMaximum]+p[d][i.redMinimum][i.greenMinimum][i.blueMaximum]-(p[d][i.redMaximum][i.greenMaximum][i.blueMinimum]-p[d][i.redMaximum][i.greenMinimum][i.blueMinimum]-p[d][i.redMinimum][i.greenMaximum][i.blueMinimum]+p[d][i.redMinimum][i.greenMinimum][i.blueMinimum]);break;case f.red:_=p[i.alphaMaximum][d][i.greenMaximum][i.blueMaximum]-p[i.alphaMaximum][d][i.greenMinimum][i.blueMaximum]-p[i.alphaMinimum][d][i.greenMaximum][i.blueMaximum]+p[i.alphaMinimum][d][i.greenMinimum][i.blueMaximum]-(p[i.alphaMaximum][d][i.greenMaximum][i.blueMinimum]-p[i.alphaMaximum][d][i.greenMinimum][i.blueMinimum]-p[i.alphaMinimum][d][i.greenMaximum][i.blueMinimum]+p[i.alphaMinimum][d][i.greenMinimum][i.blueMinimum]);break;case f.green:_=p[i.alphaMaximum][i.redMaximum][d][i.blueMaximum]-p[i.alphaMaximum][i.redMinimum][d][i.blueMaximum]-p[i.alphaMinimum][i.redMaximum][d][i.blueMaximum]+p[i.alphaMinimum][i.redMinimum][d][i.blueMaximum]-(p[i.alphaMaximum][i.redMaximum][d][i.blueMinimum]-p[i.alphaMaximum][i.redMinimum][d][i.blueMinimum]-p[i.alphaMinimum][i.redMaximum][d][i.blueMinimum]+p[i.alphaMinimum][i.redMinimum][d][i.blueMinimum]);break;case f.blue:_=p[i.alphaMaximum][i.redMaximum][i.greenMaximum][d]-p[i.alphaMaximum][i.redMaximum][i.greenMinimum][d]-p[i.alphaMaximum][i.redMinimum][i.greenMaximum][d]+p[i.alphaMaximum][i.redMinimum][i.greenMinimum][d]-(p[i.alphaMinimum][i.redMaximum][i.greenMaximum][d]-p[i.alphaMinimum][i.redMaximum][i.greenMinimum][d]-p[i.alphaMinimum][i.redMinimum][i.greenMaximum][d]+p[i.alphaMinimum][i.redMinimum][i.greenMinimum][d]);break;default:throw new Error("impossible")}return _|0},f._bottom=function(i,h,d){switch(h){case f.alpha:return-d[i.alphaMinimum][i.redMaximum][i.greenMaximum][i.blueMaximum]+d[i.alphaMinimum][i.redMaximum][i.greenMinimum][i.blueMaximum]+d[i.alphaMinimum][i.redMinimum][i.greenMaximum][i.blueMaximum]-d[i.alphaMinimum][i.redMinimum][i.greenMinimum][i.blueMaximum]-(-d[i.alphaMinimum][i.redMaximum][i.greenMaximum][i.blueMinimum]+d[i.alphaMinimum][i.redMaximum][i.greenMinimum][i.blueMinimum]+d[i.alphaMinimum][i.redMinimum][i.greenMaximum][i.blueMinimum]-d[i.alphaMinimum][i.redMinimum][i.greenMinimum][i.blueMinimum]);case f.red:return-d[i.alphaMaximum][i.redMinimum][i.greenMaximum][i.blueMaximum]+d[i.alphaMaximum][i.redMinimum][i.greenMinimum][i.blueMaximum]+d[i.alphaMinimum][i.redMinimum][i.greenMaximum][i.blueMaximum]-d[i.alphaMinimum][i.redMinimum][i.greenMinimum][i.blueMaximum]-(-d[i.alphaMaximum][i.redMinimum][i.greenMaximum][i.blueMinimum]+d[i.alphaMaximum][i.redMinimum][i.greenMinimum][i.blueMinimum]+d[i.alphaMinimum][i.redMinimum][i.greenMaximum][i.blueMinimum]-d[i.alphaMinimum][i.redMinimum][i.greenMinimum][i.blueMinimum]);case f.green:return-d[i.alphaMaximum][i.redMaximum][i.greenMinimum][i.blueMaximum]+d[i.alphaMaximum][i.redMinimum][i.greenMinimum][i.blueMaximum]+d[i.alphaMinimum][i.redMaximum][i.greenMinimum][i.blueMaximum]-d[i.alphaMinimum][i.redMinimum][i.greenMinimum][i.blueMaximum]-(-d[i.alphaMaximum][i.redMaximum][i.greenMinimum][i.blueMinimum]+d[i.alphaMaximum][i.redMinimum][i.greenMinimum][i.blueMinimum]+d[i.alphaMinimum][i.redMaximum][i.greenMinimum][i.blueMinimum]-d[i.alphaMinimum][i.redMinimum][i.greenMinimum][i.blueMinimum]);case f.blue:return-d[i.alphaMaximum][i.redMaximum][i.greenMaximum][i.blueMinimum]+d[i.alphaMaximum][i.redMaximum][i.greenMinimum][i.blueMinimum]+d[i.alphaMaximum][i.redMinimum][i.greenMaximum][i.blueMinimum]-d[i.alphaMaximum][i.redMinimum][i.greenMinimum][i.blueMinimum]-(-d[i.alphaMinimum][i.redMaximum][i.greenMaximum][i.blueMinimum]+d[i.alphaMinimum][i.redMaximum][i.greenMinimum][i.blueMinimum]+d[i.alphaMinimum][i.redMinimum][i.greenMaximum][i.blueMinimum]-d[i.alphaMinimum][i.redMinimum][i.greenMinimum][i.blueMinimum]);default:return 0}},f.prototype._calculateVariance=function(i){var h=f._volume(i,this._momentsRed),d=f._volume(i,this._momentsGreen),p=f._volume(i,this._momentsBlue),_=f._volume(i,this._momentsAlpha),g=f._volumeFloat(i,this._moments),b=f._volume(i,this._weights),w=h*h+d*d+p*p+_*_;return g-w/b},f.prototype._maximize=function(i,h,d,p,_,g,b,w,A){for(var R=f._bottom(i,h,this._momentsRed)|0,B=f._bottom(i,h,this._momentsGreen)|0,T=f._bottom(i,h,this._momentsBlue)|0,z=f._bottom(i,h,this._momentsAlpha)|0,F=f._bottom(i,h,this._weights)|0,D=0,O=-1,k=d;k<p;++k){var G=R+f._top(i,h,k,this._momentsRed),J=B+f._top(i,h,k,this._momentsGreen),$=T+f._top(i,h,k,this._momentsBlue),ee=z+f._top(i,h,k,this._momentsAlpha),j=F+f._top(i,h,k,this._weights);if(j!=0){var Y=G*G+J*J+$*$+ee*ee,W=Y/j;G=_-G,J=g-J,$=b-$,ee=w-ee,j=A-j,j!=0&&(Y=G*G+J*J+$*$+ee*ee,W+=Y/j,W>D&&(D=W,O=k))}}return{max:D,position:O}},f.prototype._cut=function(i,h){var d,p=f._volume(i,this._momentsRed),_=f._volume(i,this._momentsGreen),g=f._volume(i,this._momentsBlue),b=f._volume(i,this._momentsAlpha),w=f._volume(i,this._weights),A=this._maximize(i,f.red,i.redMinimum+1,i.redMaximum,p,_,g,b,w),R=this._maximize(i,f.green,i.greenMinimum+1,i.greenMaximum,p,_,g,b,w),B=this._maximize(i,f.blue,i.blueMinimum+1,i.blueMaximum,p,_,g,b,w),T=this._maximize(i,f.alpha,i.alphaMinimum+1,i.alphaMaximum,p,_,g,b,w);if(T.max>=A.max&&T.max>=R.max&&T.max>=B.max){if(d=f.alpha,T.position<0)return!1}else A.max>=T.max&&A.max>=R.max&&A.max>=B.max?d=f.red:R.max>=T.max&&R.max>=A.max&&R.max>=B.max?d=f.green:d=f.blue;switch(h.redMaximum=i.redMaximum,h.greenMaximum=i.greenMaximum,h.blueMaximum=i.blueMaximum,h.alphaMaximum=i.alphaMaximum,d){case f.red:h.redMinimum=i.redMaximum=A.position,h.greenMinimum=i.greenMinimum,h.blueMinimum=i.blueMinimum,h.alphaMinimum=i.alphaMinimum;break;case f.green:h.greenMinimum=i.greenMaximum=R.position,h.redMinimum=i.redMinimum,h.blueMinimum=i.blueMinimum,h.alphaMinimum=i.alphaMinimum;break;case f.blue:h.blueMinimum=i.blueMaximum=B.position,h.redMinimum=i.redMinimum,h.greenMinimum=i.greenMinimum,h.alphaMinimum=i.alphaMinimum;break;case f.alpha:h.alphaMinimum=i.alphaMaximum=T.position,h.blueMinimum=i.blueMinimum,h.redMinimum=i.redMinimum,h.greenMinimum=i.greenMinimum;break}return i.volume=(i.redMaximum-i.redMinimum)*(i.greenMaximum-i.greenMinimum)*(i.blueMaximum-i.blueMinimum)*(i.alphaMaximum-i.alphaMinimum),h.volume=(h.redMaximum-h.redMinimum)*(h.greenMaximum-h.greenMinimum)*(h.blueMaximum-h.blueMinimum)*(h.alphaMaximum-h.alphaMinimum),!0},f.prototype._initialize=function(i){this._colors=i,this._cubes=[];for(var h=0;h<i;h++)this._cubes[h]=new l;this._cubes[0].redMinimum=0,this._cubes[0].greenMinimum=0,this._cubes[0].blueMinimum=0,this._cubes[0].alphaMinimum=0,this._cubes[0].redMaximum=this._maxSideIndex,this._cubes[0].greenMaximum=this._maxSideIndex,this._cubes[0].blueMaximum=this._maxSideIndex,this._cubes[0].alphaMaximum=this._alphaMaxSideIndex,this._weights=r(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsRed=r(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsGreen=r(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsBlue=r(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsAlpha=r(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._moments=r(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._table=[];for(var d=0;d<256;++d)this._table[d]=d*d;this._pixels=[]},f.prototype._setQuality=function(i){i===void 0&&(i=5),this._significantBitsPerChannel=i,this._maxSideIndex=1<<this._significantBitsPerChannel,this._alphaMaxSideIndex=this._maxSideIndex,this._sideSize=this._maxSideIndex+1,this._alphaSideSize=this._alphaMaxSideIndex+1},f.alpha=3,f.red=2,f.green=1,f.blue=0,f}();m.WuQuant=a},function(E,m,u){var c=u(31);m.NearestColor=c.NearestColor;var o=u(32);m.ErrorDiffusionArray=o.ErrorDiffusionArray,m.ErrorDiffusionArrayKernel=o.ErrorDiffusionArrayKernel;var n=u(33);m.ErrorDiffusionRiemersma=n.ErrorDiffusionRiemersma},function(E,m){var u=function(){function c(o){this._distance=o}return c.prototype.quantize=function(o,n){for(var r=o.getPointArray(),t=o.getWidth(),e=o.getHeight(),s=0;s<e;s++)for(var l=0,a=s*t;l<t;l++,a++){var f=r[a];f.from(n.getNearestColor(this._distance,f))}return o},c}();m.NearestColor=u},function(E,m,u){var c=u(24),o=u(6);(function(t){t[t.FloydSteinberg=0]="FloydSteinberg",t[t.FalseFloydSteinberg=1]="FalseFloydSteinberg",t[t.Stucki=2]="Stucki",t[t.Atkinson=3]="Atkinson",t[t.Jarvis=4]="Jarvis",t[t.Burkes=5]="Burkes",t[t.Sierra=6]="Sierra",t[t.TwoSierra=7]="TwoSierra",t[t.SierraLite=8]="SierraLite"})(m.ErrorDiffusionArrayKernel||(m.ErrorDiffusionArrayKernel={}));var n=m.ErrorDiffusionArrayKernel,r=function(){function t(e,s,l,a,f){l===void 0&&(l=!0),a===void 0&&(a=0),f===void 0&&(f=!1),this._setKernel(s),this._distance=e,this._minColorDistance=a,this._serpentine=l,this._calculateErrorLikeGIMP=f}return t.prototype.quantize=function(e,s){for(var l=e.getPointArray(),a=new c.Point,f=e.getWidth(),i=e.getHeight(),h=[],d=1,p=1,_=0;_<this._kernel.length;_++){var g=this._kernel[_][2]+1;p<g&&(p=g)}for(var _=0;_<p;_++)this._fillErrorLine(h[_]=[],f);for(var b=0;b<i;b++){this._serpentine&&(d=d*-1);var w=b*f,A=d==1?0:f-1,R=d==1?f:-1;this._fillErrorLine(h[0],f),h.push(h.shift());for(var B=h[0],T=A,z=w+A;T!==R;T+=d,z+=d){var F=l[z],D=B[T];a.from(F);var O=c.Point.createByRGBA(o.inRange0to255Rounded(F.r+D[0]),o.inRange0to255Rounded(F.g+D[1]),o.inRange0to255Rounded(F.b+D[2]),o.inRange0to255Rounded(F.a+D[3])),k=s.getNearestColor(this._distance,O);if(F.from(k),this._minColorDistance){var G=this._distance.calculateNormalized(F,k);if(G<this._minColorDistance)continue}var J=void 0,$=void 0,ee=void 0,j=void 0;this._calculateErrorLikeGIMP?(J=O.r-k.r,$=O.g-k.g,ee=O.b-k.b,j=O.a-k.a):(J=a.r-k.r,$=a.g-k.g,ee=a.b-k.b,j=a.a-k.a);for(var Y=d==1?0:this._kernel.length-1,W=d==1?this._kernel.length:-1,_=Y;_!==W;_+=d){var Q=this._kernel[_][1]*d,re=this._kernel[_][2];if(Q+T>=0&&Q+T<f&&re+b>=0&&re+b<i){var ue=this._kernel[_][0],le=h[re][Q+T];le[0]=le[0]+J*ue,le[1]=le[1]+$*ue,le[2]=le[2]+ee*ue,le[3]=le[3]+j*ue}}}}return e},t.prototype._fillErrorLine=function(e,s){e.length>s&&(e.length=s);for(var l=e.length,a=0;a<l;a++){var f=e[a];f[0]=f[1]=f[2]=f[3]=0}for(var a=l;a<s;a++)e[a]=[0,0,0,0]},t.prototype._setKernel=function(e){switch(e){case n.FloydSteinberg:this._kernel=[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]];break;case n.FalseFloydSteinberg:this._kernel=[[3/8,1,0],[3/8,0,1],[2/8,1,1]];break;case n.Stucki:this._kernel=[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]];break;case n.Atkinson:this._kernel=[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]];break;case n.Jarvis:this._kernel=[[7/48,1,0],[5/48,2,0],[3/48,-2,1],[5/48,-1,1],[7/48,0,1],[5/48,1,1],[3/48,2,1],[1/48,-2,2],[3/48,-1,2],[5/48,0,2],[3/48,1,2],[1/48,2,2]];break;case n.Burkes:this._kernel=[[8/32,1,0],[4/32,2,0],[2/32,-2,1],[4/32,-1,1],[8/32,0,1],[4/32,1,1],[2/32,2,1]];break;case n.Sierra:this._kernel=[[5/32,1,0],[3/32,2,0],[2/32,-2,1],[4/32,-1,1],[5/32,0,1],[4/32,1,1],[2/32,2,1],[2/32,-1,2],[3/32,0,2],[2/32,1,2]];break;case n.TwoSierra:this._kernel=[[4/16,1,0],[3/16,2,0],[1/16,-2,1],[2/16,-1,1],[3/16,0,1],[2/16,1,1],[1/16,2,1]];break;case n.SierraLite:this._kernel=[[2/4,1,0],[1/4,-1,1],[1/4,0,1]];break;default:throw new Error("ErrorDiffusionArray: unknown kernel = "+e)}},t}();m.ErrorDiffusionArray=r},function(E,m,u){var c=u(34),o=u(24),n=u(6),r=function(){function t(e,s,l){s===void 0&&(s=16),l===void 0&&(l=1),this._distance=e,this._errorPropagation=l,this._errorQueueSize=s,this._max=this._errorQueueSize,this._createWeights()}return t.prototype.quantize=function(e,s){for(var l=this,a=new c.HilbertCurveBase,f=e.getPointArray(),i=e.getWidth(),h=e.getHeight(),d=[],p=0,_=0;_<this._errorQueueSize;_++)d[_]={r:0,g:0,b:0,a:0};return a.walk(i,h,function(g,b){for(var w=f[g+b*i],A=w.r,R=w.g,B=w.b,T=w.a,z=0;z<l._errorQueueSize;z++){var F=l._weights[z],D=d[(z+p)%l._errorQueueSize];A+=D.r*F,R+=D.g*F,B+=D.b*F,T+=D.a*F}var O=o.Point.createByRGBA(n.inRange0to255Rounded(A),n.inRange0to255Rounded(R),n.inRange0to255Rounded(B),n.inRange0to255Rounded(T)),k=s.getNearestColor(l._distance,O);p=(p+1)%l._errorQueueSize;var G=(p+l._errorQueueSize-1)%l._errorQueueSize;d[G].r=w.r-k.r,d[G].g=w.g-k.g,d[G].b=w.b-k.b,d[G].a=w.a-k.a,w.from(k)}),e},t.prototype._createWeights=function(){this._weights=[];for(var e=Math.exp(Math.log(this._max)/(this._errorQueueSize-1)),s=0,l=1;s<this._errorQueueSize;s++)this._weights[s]=(l+.5|0)/this._max*this._errorPropagation,l*=e},t}();m.ErrorDiffusionRiemersma=r},function(E,m){var u;(function(o){o[o.NONE=0]="NONE",o[o.UP=1]="UP",o[o.LEFT=2]="LEFT",o[o.RIGHT=3]="RIGHT",o[o.DOWN=4]="DOWN"})(u||(u={}));var c=function(){function o(){}return o.prototype.walk=function(n,r,t){this._x=0,this._y=0,this._d=0,this._width=n,this._height=r,this._callback=t;var e=Math.max(n,r);this._level=Math.log(e)/Math.log(2)+1|0,this._walkHilbert(u.UP),this._visit(u.NONE)},o.prototype._walkHilbert=function(n){if(!(this._level<1)){switch(this._level--,n){case u.LEFT:this._walkHilbert(u.UP),this._visit(u.RIGHT),this._walkHilbert(u.LEFT),this._visit(u.DOWN),this._walkHilbert(u.LEFT),this._visit(u.LEFT),this._walkHilbert(u.DOWN);break;case u.RIGHT:this._walkHilbert(u.DOWN),this._visit(u.LEFT),this._walkHilbert(u.RIGHT),this._visit(u.UP),this._walkHilbert(u.RIGHT),this._visit(u.RIGHT),this._walkHilbert(u.UP);break;case u.UP:this._walkHilbert(u.LEFT),this._visit(u.DOWN),this._walkHilbert(u.UP),this._visit(u.RIGHT),this._walkHilbert(u.UP),this._visit(u.UP),this._walkHilbert(u.RIGHT);break;case u.DOWN:this._walkHilbert(u.RIGHT),this._visit(u.UP),this._walkHilbert(u.DOWN),this._visit(u.LEFT),this._walkHilbert(u.DOWN),this._visit(u.DOWN),this._walkHilbert(u.LEFT);break}this._level++}},o.prototype._visit=function(n){switch(this._x>=0&&this._x<this._width&&this._y>=0&&this._y<this._height&&(this._callback(this._x,this._y,this._d),this._d++),n){case u.LEFT:this._x--;break;case u.RIGHT:this._x++;break;case u.UP:this._y--;break;case u.DOWN:this._y++;break}},o}();m.HilbertCurveBase=c},function(E,m,u){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * iq.ts - Image Quantization Library
 */var c=u(36);m.SSIM=c.SSIM},function(E,m,u){var c=u(2),o=.01,n=.03,r=function(){function t(){}return t.prototype.compare=function(e,s){if(e.getHeight()!==s.getHeight()||e.getWidth()!==s.getWidth())throw new Error("Images have different sizes!");var l=8,a=(1<<l)-1,f=Math.pow(o*a,2),i=Math.pow(n*a,2),h=0,d=0;return this._iterate(e,s,function(p,_,g,b){for(var w=0,A=0,R=0,B=0;B<p.length;B++)A+=Math.pow(p[B]-g,2),R+=Math.pow(_[B]-b,2),w+=(p[B]-g)*(_[B]-b);var T=p.length-1;A/=T,R/=T,w/=T;var z=(2*g*b+f)*(2*w+i),F=(Math.pow(g,2)+Math.pow(b,2)+f)*(A+R+i),D=z/F;d+=D,h++}),d/h},t.prototype._iterate=function(e,s,l){for(var a=8,f=e.getWidth(),i=e.getHeight(),h=0;h<i;h+=a)for(var d=0;d<f;d+=a){var p=Math.min(a,f-d),_=Math.min(a,i-h),g=this._calculateLumaValuesForWindow(e,d,h,p,_),b=this._calculateLumaValuesForWindow(s,d,h,p,_),w=this._calculateAverageLuma(g),A=this._calculateAverageLuma(b);l(g,b,w,A)}},t.prototype._calculateLumaValuesForWindow=function(e,s,l,a,f){for(var i=e.getPointArray(),h=[],d=0,p=l;p<l+f;p++)for(var _=p*e.getWidth(),g=s;g<s+a;g++){var b=i[_+g];h[d]=b.r*c.Y.RED+b.g*c.Y.GREEN+b.b*c.Y.BLUE,d++}return h},t.prototype._calculateAverageLuma=function(e){for(var s=0,l=0;l<e.length;l++)s+=e[l];return s/e.length},t}();m.SSIM=r},function(E,m,u){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * iq.ts - Image Quantization Library
 */var c=u(6);m.arithmetic=c;var o=u(28);m.HueStatistics=o.HueStatistics;var n=u(22);m.Palette=n.Palette;var r=u(24);m.Point=r.Point;var t=u(23);m.PointContainer=t.PointContainer}])})},{}],75:[function(M,H,y){typeof Object.create=="function"?H.exports=function(m,u){u&&(m.super_=u,m.prototype=Object.create(u.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}))}:H.exports=function(m,u){if(u){m.super_=u;var c=function(){};c.prototype=u.prototype,m.prototype=new c,m.prototype.constructor=m}}},{}],76:[function(M,H,y){/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */H.exports=function(u){return u!=null&&(E(u)||m(u)||!!u._isBuffer)};function E(u){return!!u.constructor&&typeof u.constructor.isBuffer=="function"&&u.constructor.isBuffer(u)}function m(u){return typeof u.readFloatLE=="function"&&typeof u.slice=="function"&&E(u.slice(0,0))}},{}],77:[function(M,H,y){var E=Function.prototype.toString,m=/^\s*class\b/,u=function(s){try{var l=E.call(s);return m.test(l)}catch{return!1}},c=function(s){try{return u(s)?!1:(E.call(s),!0)}catch{return!1}},o=Object.prototype.toString,n="[object Function]",r="[object GeneratorFunction]",t=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol";H.exports=function(s){if(!s||typeof s!="function"&&typeof s!="object")return!1;if(typeof s=="function"&&!s.prototype)return!0;if(t)return c(s);if(u(s))return!1;var l=o.call(s);return l===n||l===r}},{}],78:[function(M,H,y){H.exports=m;var E=Object.prototype.toString;function m(u){var c=E.call(u);return c==="[object Function]"||typeof u=="function"&&c!=="[object RegExp]"||typeof Ee<"u"&&(u===Ee.setTimeout||u===Ee.alert||u===Ee.confirm||u===Ee.prompt)}},{}],79:[function(M,H,y){var E={}.toString;H.exports=Array.isArray||function(m){return E.call(m)=="[object Array]"}},{}],80:[function(M,H,y){var E=M("./lib/encoder"),m=M("./lib/decoder");H.exports={encode:E,decode:m}},{"./lib/decoder":81,"./lib/encoder":82}],81:[function(M,H,y){(function(E){var m=function(){var o=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),n=4017,r=799,t=3406,e=2276,s=1567,l=3784,a=5793,f=2896;function i(){}function h(A,R){for(var B=0,T=[],z,F,D=16;D>0&&!A[D-1];)D--;T.push({children:[],index:0});var O=T[0],k;for(z=0;z<D;z++){for(F=0;F<A[z];F++){for(O=T.pop(),O.children[O.index]=R[B];O.index>0;){if(T.length===0)throw new Error("Could not recreate Huffman Table");O=T.pop()}for(O.index++,T.push(O);T.length<=z;)T.push(k={children:[],index:0}),O.children[O.index]=k.children,O=k;B++}z+1<D&&(T.push(k={children:[],index:0}),O.children[O.index]=k.children,O=k)}return T[0].children}function d(A,R,B,T,z,F,D,O,k,G){B.precision,B.samplesPerLine,B.scanLines;var J=B.mcusPerLine,$=B.progressive;B.maxH,B.maxV;var ee=R,j=0,Y=0;function W(){if(Y>0)return Y--,j>>Y&1;if(j=A[R++],j==255){var Pe=A[R++];if(Pe)throw new Error("unexpected marker: "+(j<<8|Pe).toString(16))}return Y=7,j>>>7}function Q(Pe){for(var Oe=Pe,Ae;(Ae=W())!==null;){if(Oe=Oe[Ae],typeof Oe=="number")return Oe;if(typeof Oe!="object")throw new Error("invalid huffman sequence")}return null}function re(Pe){for(var Oe=0;Pe>0;){var Ae=W();if(Ae===null)return;Oe=Oe<<1|Ae,Pe--}return Oe}function ue(Pe){var Oe=re(Pe);return Oe>=1<<Pe-1?Oe:Oe+(-1<<Pe)+1}function le(Pe,Oe){var Ae=Q(Pe.huffmanTableDC),xe=Ae===0?0:ue(Ae);Oe[0]=Pe.pred+=xe;for(var Ie=1;Ie<64;){var N=Q(Pe.huffmanTableAC),de=N&15,pe=N>>4;if(de===0){if(pe<15)break;Ie+=16;continue}Ie+=pe;var Se=o[Ie];Oe[Se]=ue(de),Ie++}}function he(Pe,Oe){var Ae=Q(Pe.huffmanTableDC),xe=Ae===0?0:ue(Ae)<<k;Oe[0]=Pe.pred+=xe}function ge(Pe,Oe){Oe[0]|=W()<<k}var ie=0;function ae(Pe,Oe){if(ie>0){ie--;return}for(var Ae=F,xe=D;Ae<=xe;){var Ie=Q(Pe.huffmanTableAC),N=Ie&15,de=Ie>>4;if(N===0){if(de<15){ie=re(de)+(1<<de)-1;break}Ae+=16;continue}Ae+=de;var pe=o[Ae];Oe[pe]=ue(N)*(1<<k),Ae++}}var V=0,q;function te(Pe,Oe){for(var Ae=F,xe=D,Ie=0;Ae<=xe;){var N=o[Ae],de=Oe[N]<0?-1:1;switch(V){case 0:var pe=Q(Pe.huffmanTableAC),Se=pe&15,Ie=pe>>4;if(Se===0)Ie<15?(ie=re(Ie)+(1<<Ie),V=4):(Ie=16,V=1);else{if(Se!==1)throw new Error("invalid ACn encoding");q=ue(Se),V=Ie?2:3}continue;case 1:case 2:Oe[N]?Oe[N]+=(W()<<k)*de:(Ie--,Ie===0&&(V=V==2?3:0));break;case 3:Oe[N]?Oe[N]+=(W()<<k)*de:(Oe[N]=q<<k,V=0);break;case 4:Oe[N]&&(Oe[N]+=(W()<<k)*de);break}Ae++}V===4&&(ie--,ie===0&&(V=0))}function U(Pe,Oe,Ae,xe,Ie){var N=Ae/J|0,de=Ae%J,pe=N*Pe.v+xe,Se=de*Pe.h+Ie;Pe.blocks[pe]===void 0&&G.tolerantDecoding||Oe(Pe,Pe.blocks[pe][Se])}function L(Pe,Oe,Ae){var xe=Ae/Pe.blocksPerLine|0,Ie=Ae%Pe.blocksPerLine;Pe.blocks[xe]===void 0&&G.tolerantDecoding||Oe(Pe,Pe.blocks[xe][Ie])}var P=T.length,Z,x,C,S,X,oe;$?F===0?oe=O===0?he:ge:oe=O===0?ae:te:oe=le;var _e=0,ye,Te;P==1?Te=T[0].blocksPerLine*T[0].blocksPerColumn:Te=J*B.mcusPerColumn,z||(z=Te);for(var ke,Le;_e<Te;){for(x=0;x<P;x++)T[x].pred=0;if(ie=0,P==1)for(Z=T[0],X=0;X<z;X++)L(Z,oe,_e),_e++;else for(X=0;X<z;X++){for(x=0;x<P;x++)for(Z=T[x],ke=Z.h,Le=Z.v,C=0;C<Le;C++)for(S=0;S<ke;S++)U(Z,oe,_e,C,S);if(_e++,_e===Te)break}if(_e===Te)do{if(A[R]===255&&A[R+1]!==0)break;R+=1}while(R<A.length-2);if(Y=0,ye=A[R]<<8|A[R+1],ye<65280)throw new Error("marker was not found");if(ye>=65488&&ye<=65495)R+=2;else break}return R-ee}function p(A,R){var B=[],T=R.blocksPerLine,z=R.blocksPerColumn,F=T<<3,D=new Int32Array(64),O=new Uint8Array(64);function k(re,ue,le){var he=R.quantizationTable,ge,ie,ae,V,q,te,U,L,P,Z=le,x;for(x=0;x<64;x++)Z[x]=re[x]*he[x];for(x=0;x<8;++x){var C=8*x;if(Z[1+C]==0&&Z[2+C]==0&&Z[3+C]==0&&Z[4+C]==0&&Z[5+C]==0&&Z[6+C]==0&&Z[7+C]==0){P=a*Z[0+C]+512>>10,Z[0+C]=P,Z[1+C]=P,Z[2+C]=P,Z[3+C]=P,Z[4+C]=P,Z[5+C]=P,Z[6+C]=P,Z[7+C]=P;continue}ge=a*Z[0+C]+128>>8,ie=a*Z[4+C]+128>>8,ae=Z[2+C],V=Z[6+C],q=f*(Z[1+C]-Z[7+C])+128>>8,L=f*(Z[1+C]+Z[7+C])+128>>8,te=Z[3+C]<<4,U=Z[5+C]<<4,P=ge-ie+1>>1,ge=ge+ie+1>>1,ie=P,P=ae*l+V*s+128>>8,ae=ae*s-V*l+128>>8,V=P,P=q-U+1>>1,q=q+U+1>>1,U=P,P=L+te+1>>1,te=L-te+1>>1,L=P,P=ge-V+1>>1,ge=ge+V+1>>1,V=P,P=ie-ae+1>>1,ie=ie+ae+1>>1,ae=P,P=q*e+L*t+2048>>12,q=q*t-L*e+2048>>12,L=P,P=te*r+U*n+2048>>12,te=te*n-U*r+2048>>12,U=P,Z[0+C]=ge+L,Z[7+C]=ge-L,Z[1+C]=ie+U,Z[6+C]=ie-U,Z[2+C]=ae+te,Z[5+C]=ae-te,Z[3+C]=V+q,Z[4+C]=V-q}for(x=0;x<8;++x){var S=x;if(Z[8+S]==0&&Z[16+S]==0&&Z[24+S]==0&&Z[32+S]==0&&Z[40+S]==0&&Z[48+S]==0&&Z[56+S]==0){P=a*le[x+0]+8192>>14,Z[0+S]=P,Z[8+S]=P,Z[16+S]=P,Z[24+S]=P,Z[32+S]=P,Z[40+S]=P,Z[48+S]=P,Z[56+S]=P;continue}ge=a*Z[0+S]+2048>>12,ie=a*Z[32+S]+2048>>12,ae=Z[16+S],V=Z[48+S],q=f*(Z[8+S]-Z[56+S])+2048>>12,L=f*(Z[8+S]+Z[56+S])+2048>>12,te=Z[24+S],U=Z[40+S],P=ge-ie+1>>1,ge=ge+ie+1>>1,ie=P,P=ae*l+V*s+2048>>12,ae=ae*s-V*l+2048>>12,V=P,P=q-U+1>>1,q=q+U+1>>1,U=P,P=L+te+1>>1,te=L-te+1>>1,L=P,P=ge-V+1>>1,ge=ge+V+1>>1,V=P,P=ie-ae+1>>1,ie=ie+ae+1>>1,ae=P,P=q*e+L*t+2048>>12,q=q*t-L*e+2048>>12,L=P,P=te*r+U*n+2048>>12,te=te*n-U*r+2048>>12,U=P,Z[0+S]=ge+L,Z[56+S]=ge-L,Z[8+S]=ie+U,Z[48+S]=ie-U,Z[16+S]=ae+te,Z[40+S]=ae-te,Z[24+S]=V+q,Z[32+S]=V-q}for(x=0;x<64;++x){var X=128+(Z[x]+8>>4);ue[x]=X<0?0:X>255?255:X}}w(F*z*8);for(var G,J,$=0;$<z;$++){var ee=$<<3;for(G=0;G<8;G++)B.push(new Uint8Array(F));for(var j=0;j<T;j++){k(R.blocks[$][j],O,D);var Y=0,W=j<<3;for(J=0;J<8;J++){var Q=B[ee+J];for(G=0;G<8;G++)Q[W+G]=O[Y++]}}}return B}function _(A){return A<0?0:A>255?255:A}i.prototype={load:function(R){var B=new XMLHttpRequest;B.open("GET",R,!0),B.responseType="arraybuffer",B.onload=(function(){var T=new Uint8Array(B.response||B.mozResponseArrayBuffer);this.parse(T),this.onload&&this.onload()}).bind(this),B.send(null)},parse:function(R){var B=this.opts.maxResolutionInMP*1e3*1e3,T=0;R.length;function z(){var Ie=R[T]<<8|R[T+1];return T+=2,Ie}function F(){var Ie=z(),N=R.subarray(T,T+Ie-2);return T+=N.length,N}function D(Ie){var N=0,de=0,pe,Se;for(Se in Ie.components)Ie.components.hasOwnProperty(Se)&&(pe=Ie.components[Se],N<pe.h&&(N=pe.h),de<pe.v&&(de=pe.v));var ce=Math.ceil(Ie.samplesPerLine/8/N),be=Math.ceil(Ie.scanLines/8/de);for(Se in Ie.components)if(Ie.components.hasOwnProperty(Se)){pe=Ie.components[Se];var K=Math.ceil(Math.ceil(Ie.samplesPerLine/8)*pe.h/N),Me=Math.ceil(Math.ceil(Ie.scanLines/8)*pe.v/de),Ne=ce*pe.h,v=be*pe.v,fe=v*Ne,ve=[];w(fe*256);for(var I=0;I<v;I++){for(var ne=[],we=0;we<Ne;we++)ne.push(new Int32Array(64));ve.push(ne)}pe.blocksPerLine=K,pe.blocksPerColumn=Me,pe.blocks=ve}Ie.maxH=N,Ie.maxV=de,Ie.mcusPerLine=ce,Ie.mcusPerColumn=be}var O=null,k=null,G,J,$=[],ee=[],j=[],Y=[],W=z();if(W!=65496)throw new Error("SOI not found");for(W=z();W!=65497;){var Q,re;switch(W){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var ue=F();W===65504&&ue[0]===74&&ue[1]===70&&ue[2]===73&&ue[3]===70&&ue[4]===0&&(O={version:{major:ue[5],minor:ue[6]},densityUnits:ue[7],xDensity:ue[8]<<8|ue[9],yDensity:ue[10]<<8|ue[11],thumbWidth:ue[12],thumbHeight:ue[13],thumbData:ue.subarray(14,14+3*ue[12]*ue[13])}),W===65505&&ue[0]===69&&ue[1]===120&&ue[2]===105&&ue[3]===102&&ue[4]===0&&(this.exifBuffer=ue.subarray(5,ue.length)),W===65518&&ue[0]===65&&ue[1]===100&&ue[2]===111&&ue[3]===98&&ue[4]===101&&ue[5]===0&&(k={version:ue[6],flags0:ue[7]<<8|ue[8],flags1:ue[9]<<8|ue[10],transformCode:ue[11]});break;case 65499:for(var le=z(),he=le+T-2;T<he;){var ge=R[T++];w(256);var ie=new Int32Array(64);if(ge>>4)if(ge>>4===1)for(re=0;re<64;re++){var ae=o[re];ie[ae]=z()}else throw new Error("DQT: invalid table spec");else for(re=0;re<64;re++){var ae=o[re];ie[ae]=R[T++]}$[ge&15]=ie}break;case 65472:case 65473:case 65474:z(),G={},G.extended=W===65473,G.progressive=W===65474,G.precision=R[T++],G.scanLines=z(),G.samplesPerLine=z(),G.components={},G.componentsOrder=[];var V=G.scanLines*G.samplesPerLine;if(V>B){var q=Math.ceil((V-B)/1e6);throw new Error(`maxResolutionInMP limit exceeded by ${q}MP`)}var te=R[T++],U;for(Q=0;Q<te;Q++){U=R[T];var L=R[T+1]>>4,P=R[T+1]&15,Z=R[T+2];G.componentsOrder.push(U),G.components[U]={h:L,v:P,quantizationIdx:Z},T+=3}D(G),ee.push(G);break;case 65476:var x=z();for(Q=2;Q<x;){var C=R[T++],S=new Uint8Array(16),X=0;for(re=0;re<16;re++,T++)X+=S[re]=R[T];w(16+X);var oe=new Uint8Array(X);for(re=0;re<X;re++,T++)oe[re]=R[T];Q+=17+X,(C>>4?j:Y)[C&15]=h(S,oe)}break;case 65501:z(),J=z();break;case 65498:z();var _e=R[T++],ye=[],Te;for(Q=0;Q<_e;Q++){Te=G.components[R[T++]];var ke=R[T++];Te.huffmanTableDC=Y[ke>>4],Te.huffmanTableAC=j[ke&15],ye.push(Te)}var Le=R[T++],Pe=R[T++],Oe=R[T++],Ae=d(R,T,G,ye,J,Le,Pe,Oe>>4,Oe&15,this.opts);T+=Ae;break;case 65535:R[T]!==255&&T--;break;default:if(R[T-3]==255&&R[T-2]>=192&&R[T-2]<=254){T-=3;break}throw new Error("unknown JPEG marker "+W.toString(16))}W=z()}if(ee.length!=1)throw new Error("only single frame JPEGs supported");for(var Q=0;Q<ee.length;Q++){var xe=ee[Q].components;for(var re in xe)xe[re].quantizationTable=$[xe[re].quantizationIdx],delete xe[re].quantizationIdx}this.width=G.samplesPerLine,this.height=G.scanLines,this.jfif=O,this.adobe=k,this.components=[];for(var Q=0;Q<G.componentsOrder.length;Q++){var Te=G.components[G.componentsOrder[Q]];this.components.push({lines:p(G,Te),scaleX:Te.h/G.maxH,scaleY:Te.v/G.maxV})}},getData:function(R,B){var T=this.width/R,z=this.height/B,F,D,O,k,G,J,$,ee,j,Y,W=0,Q,re,ue,le,he,ge,ie,ae,V,q,te,U=R*B*this.components.length;w(U);var L=new Uint8Array(U);switch(this.components.length){case 1:for(F=this.components[0],Y=0;Y<B;Y++)for(G=F.lines[0|Y*F.scaleY*z],j=0;j<R;j++)Q=G[0|j*F.scaleX*T],L[W++]=Q;break;case 2:for(F=this.components[0],D=this.components[1],Y=0;Y<B;Y++)for(G=F.lines[0|Y*F.scaleY*z],J=D.lines[0|Y*D.scaleY*z],j=0;j<R;j++)Q=G[0|j*F.scaleX*T],L[W++]=Q,Q=J[0|j*D.scaleX*T],L[W++]=Q;break;case 3:for(te=!0,this.adobe&&this.adobe.transformCode?te=!0:typeof this.opts.colorTransform<"u"&&(te=!!this.opts.colorTransform),F=this.components[0],D=this.components[1],O=this.components[2],Y=0;Y<B;Y++)for(G=F.lines[0|Y*F.scaleY*z],J=D.lines[0|Y*D.scaleY*z],$=O.lines[0|Y*O.scaleY*z],j=0;j<R;j++)te?(Q=G[0|j*F.scaleX*T],re=J[0|j*D.scaleX*T],ue=$[0|j*O.scaleX*T],ae=_(Q+1.402*(ue-128)),V=_(Q-.3441363*(re-128)-.71413636*(ue-128)),q=_(Q+1.772*(re-128))):(ae=G[0|j*F.scaleX*T],V=J[0|j*D.scaleX*T],q=$[0|j*O.scaleX*T]),L[W++]=ae,L[W++]=V,L[W++]=q;break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");for(te=!1,this.adobe&&this.adobe.transformCode?te=!0:typeof this.opts.colorTransform<"u"&&(te=!!this.opts.colorTransform),F=this.components[0],D=this.components[1],O=this.components[2],k=this.components[3],Y=0;Y<B;Y++)for(G=F.lines[0|Y*F.scaleY*z],J=D.lines[0|Y*D.scaleY*z],$=O.lines[0|Y*O.scaleY*z],ee=k.lines[0|Y*k.scaleY*z],j=0;j<R;j++)te?(Q=G[0|j*F.scaleX*T],re=J[0|j*D.scaleX*T],ue=$[0|j*O.scaleX*T],le=ee[0|j*k.scaleX*T],he=255-_(Q+1.402*(ue-128)),ge=255-_(Q-.3441363*(re-128)-.71413636*(ue-128)),ie=255-_(Q+1.772*(re-128))):(he=G[0|j*F.scaleX*T],ge=J[0|j*D.scaleX*T],ie=$[0|j*O.scaleX*T],le=ee[0|j*k.scaleX*T]),L[W++]=255-he,L[W++]=255-ge,L[W++]=255-ie,L[W++]=255-le;break;default:throw new Error("Unsupported color mode")}return L},copyToImageData:function(R,B){var T=R.width,z=R.height,F=R.data,D=this.getData(T,z),O=0,k=0,G,J,$,ee,j,Y,W,Q,re;switch(this.components.length){case 1:for(J=0;J<z;J++)for(G=0;G<T;G++)$=D[O++],F[k++]=$,F[k++]=$,F[k++]=$,B&&(F[k++]=255);break;case 3:for(J=0;J<z;J++)for(G=0;G<T;G++)W=D[O++],Q=D[O++],re=D[O++],F[k++]=W,F[k++]=Q,F[k++]=re,B&&(F[k++]=255);break;case 4:for(J=0;J<z;J++)for(G=0;G<T;G++)j=D[O++],Y=D[O++],$=D[O++],ee=D[O++],W=255-_(j*(1-ee/255)+ee),Q=255-_(Y*(1-ee/255)+ee),re=255-_($*(1-ee/255)+ee),F[k++]=W,F[k++]=Q,F[k++]=re,B&&(F[k++]=255);break;default:throw new Error("Unsupported color mode")}}};var g=0,b=0;function w(A=0){var R=g+A;if(R>b){var B=Math.ceil((R-b)/1024/1024);throw new Error(`maxMemoryUsageInMB limit exceeded by at least ${B}MB`)}g=R}return i.resetMaxMemoryUsage=function(A){g=0,b=A},i.getBytesAllocated=function(){return g},i.requestMemoryAllocation=w,i}();typeof H<"u"?H.exports=u:typeof Ee<"u"&&(Ee["jpeg-js"]=Ee["jpeg-js"]||{},Ee["jpeg-js"].decode=u);function u(c,o={}){var n={colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512},r={...n,...o},t=new Uint8Array(c),e=new m;e.opts=r,m.resetMaxMemoryUsage(r.maxMemoryUsageInMB*1024*1024),e.parse(t);var s=r.formatAsRGBA?4:3,l=e.width*e.height*s;try{m.requestMemoryAllocation(l);var a={width:e.width,height:e.height,exifBuffer:e.exifBuffer,data:r.useTArray?new Uint8Array(l):new E(l)}}catch(f){throw f instanceof RangeError?new Error("Could not allocate enough memory for the image. Required: "+l):f}return e.copyToImageData(a,r.formatAsRGBA),a}}).call(this,M("buffer").Buffer)},{buffer:48}],82:[function(M,H,y){(function(E){function m(c){var o=Math.floor,n=new Array(64),r=new Array(64),t=new Array(64),e=new Array(64),s,l,a,f,i=new Array(65535),h=new Array(65535),d=new Array(64),p=new Array(64),_=[],g=0,b=7,w=new Array(64),A=new Array(64),R=new Array(64),B=new Array(256),T=new Array(2048),z,F=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],k=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],G=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],J=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],$=[0,1,2,3,4,5,6,7,8,9,10,11],ee=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],j=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Y(S){for(var X=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],oe=0;oe<64;oe++){var _e=o((X[oe]*S+50)/100);_e<1?_e=1:_e>255&&(_e=255),n[F[oe]]=_e}for(var ye=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Te=0;Te<64;Te++){var ke=o((ye[Te]*S+50)/100);ke<1?ke=1:ke>255&&(ke=255),r[F[Te]]=ke}for(var Le=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Pe=0,Oe=0;Oe<8;Oe++)for(var Ae=0;Ae<8;Ae++)t[Pe]=1/(n[F[Pe]]*Le[Oe]*Le[Ae]*8),e[Pe]=1/(r[F[Pe]]*Le[Oe]*Le[Ae]*8),Pe++}function W(S,X){for(var oe=0,_e=0,ye=new Array,Te=1;Te<=16;Te++){for(var ke=1;ke<=S[Te];ke++)ye[X[_e]]=[],ye[X[_e]][0]=oe,ye[X[_e]][1]=Te,_e++,oe++;oe*=2}return ye}function Q(){s=W(D,O),l=W(J,$),a=W(k,G),f=W(ee,j)}function re(){for(var S=1,X=2,oe=1;oe<=15;oe++){for(var _e=S;_e<X;_e++)h[32767+_e]=oe,i[32767+_e]=[],i[32767+_e][1]=oe,i[32767+_e][0]=_e;for(var ye=-(X-1);ye<=-S;ye++)h[32767+ye]=oe,i[32767+ye]=[],i[32767+ye][1]=oe,i[32767+ye][0]=X-1+ye;S<<=1,X<<=1}}function ue(){for(var S=0;S<256;S++)T[S]=19595*S,T[S+256>>0]=38470*S,T[S+512>>0]=7471*S+32768,T[S+768>>0]=-11059*S,T[S+1024>>0]=-21709*S,T[S+1280>>0]=32768*S+8421375,T[S+1536>>0]=-27439*S,T[S+1792>>0]=-5329*S}function le(S){for(var X=S[0],oe=S[1]-1;oe>=0;)X&1<<oe&&(g|=1<<b),oe--,b--,b<0&&(g==255?(he(255),he(0)):he(g),b=7,g=0)}function he(S){_.push(S)}function ge(S){he(S>>8&255),he(S&255)}function ie(S,X){var oe,_e,ye,Te,ke,Le,Pe,Oe,Ae=0,xe,Ie=8,N=64;for(xe=0;xe<Ie;++xe){oe=S[Ae],_e=S[Ae+1],ye=S[Ae+2],Te=S[Ae+3],ke=S[Ae+4],Le=S[Ae+5],Pe=S[Ae+6],Oe=S[Ae+7];var de=oe+Oe,pe=oe-Oe,Se=_e+Pe,ce=_e-Pe,be=ye+Le,K=ye-Le,Me=Te+ke,Ne=Te-ke,v=de+Me,fe=de-Me,ve=Se+be,I=Se-be;S[Ae]=v+ve,S[Ae+4]=v-ve;var ne=(I+fe)*.707106781;S[Ae+2]=fe+ne,S[Ae+6]=fe-ne,v=Ne+K,ve=K+ce,I=ce+pe;var we=(v-I)*.382683433,Ce=.5411961*v+we,Re=1.306562965*I+we,Be=ve*.707106781,ze=pe+Be,Ve=pe-Be;S[Ae+5]=Ve+Ce,S[Ae+3]=Ve-Ce,S[Ae+1]=ze+Re,S[Ae+7]=ze-Re,Ae+=8}for(Ae=0,xe=0;xe<Ie;++xe){oe=S[Ae],_e=S[Ae+8],ye=S[Ae+16],Te=S[Ae+24],ke=S[Ae+32],Le=S[Ae+40],Pe=S[Ae+48],Oe=S[Ae+56];var je=oe+Oe,Fe=oe-Oe,We=_e+Pe,Ze=_e-Pe,Ke=ye+Le,at=ye-Le,ot=Te+ke,Ye=Te-ke,Qe=je+ot,Xe=je-ot,qe=We+Ke,Je=We-Ke;S[Ae]=Qe+qe,S[Ae+32]=Qe-qe;var ct=(Je+Xe)*.707106781;S[Ae+16]=Xe+ct,S[Ae+48]=Xe-ct,Qe=Ye+at,qe=at+Ze,Je=Ze+Fe;var At=(Qe-Je)*.382683433,Rt=.5411961*Qe+At,Tt=1.306562965*Je+At,Ct=qe*.707106781,Ot=Fe+Ct,Pt=Fe-Ct;S[Ae+40]=Pt+Rt,S[Ae+24]=Pt-Rt,S[Ae+8]=Ot+Tt,S[Ae+56]=Ot-Tt,Ae++}var dt;for(xe=0;xe<N;++xe)dt=S[xe]*X[xe],d[xe]=dt>0?dt+.5|0:dt-.5|0;return d}function ae(){ge(65504),ge(16),he(74),he(70),he(73),he(70),he(0),he(1),he(1),he(0),ge(1),ge(1),he(0),he(0)}function V(S){if(S){ge(65505),S[0]===69&&S[1]===120&&S[2]===105&&S[3]===102?ge(S.length+2):(ge(S.length+5+2),he(69),he(120),he(105),he(102),he(0));for(var X=0;X<S.length;X++)he(S[X])}}function q(S,X){ge(65472),ge(17),he(8),ge(X),ge(S),he(3),he(1),he(17),he(0),he(2),he(17),he(1),he(3),he(17),he(1)}function te(){ge(65499),ge(132),he(0);for(var S=0;S<64;S++)he(n[S]);he(1);for(var X=0;X<64;X++)he(r[X])}function U(){ge(65476),ge(418),he(0);for(var S=0;S<16;S++)he(D[S+1]);for(var X=0;X<=11;X++)he(O[X]);he(16);for(var oe=0;oe<16;oe++)he(k[oe+1]);for(var _e=0;_e<=161;_e++)he(G[_e]);he(1);for(var ye=0;ye<16;ye++)he(J[ye+1]);for(var Te=0;Te<=11;Te++)he($[Te]);he(17);for(var ke=0;ke<16;ke++)he(ee[ke+1]);for(var Le=0;Le<=161;Le++)he(j[Le])}function L(){ge(65498),ge(12),he(3),he(1),he(0),he(2),he(17),he(3),he(17),he(0),he(63),he(0)}function P(S,X,oe,_e,ye){for(var Te=ye[0],ke=ye[240],Le,Pe=16,Oe=63,Ae=64,xe=ie(S,X),Ie=0;Ie<Ae;++Ie)p[F[Ie]]=xe[Ie];var N=p[0]-oe;oe=p[0],N==0?le(_e[0]):(Le=32767+N,le(_e[h[Le]]),le(i[Le]));for(var de=63;de>0&&p[de]==0;de--);if(de==0)return le(Te),oe;for(var pe=1,Se;pe<=de;){for(var ce=pe;p[pe]==0&&pe<=de;++pe);var be=pe-ce;if(be>=Pe){Se=be>>4;for(var K=1;K<=Se;++K)le(ke);be=be&15}Le=32767+p[pe],le(ye[(be<<4)+h[Le]]),le(i[Le]),pe++}return de!=Oe&&le(Te),oe}function Z(){for(var S=String.fromCharCode,X=0;X<256;X++)B[X]=S(X)}this.encode=function(S,X){new Date().getTime(),X&&x(X),_=new Array,g=0,b=7,ge(65496),ae(),V(S.exifBuffer),te(),q(S.width,S.height),U(),L();var oe=0,_e=0,ye=0;g=0,b=7,this.encode.displayName="_encode_";for(var Te=S.data,ke=S.width,Le=S.height,Pe=ke*4,Oe,Ae=0,xe,Ie,N,de,pe,Se,ce,be;Ae<Le;){for(Oe=0;Oe<Pe;){for(de=Pe*Ae+Oe,pe=de,Se=-1,ce=0,be=0;be<64;be++)ce=be>>3,Se=(be&7)*4,pe=de+ce*Pe+Se,Ae+ce>=Le&&(pe-=Pe*(Ae+1+ce-Le)),Oe+Se>=Pe&&(pe-=Oe+Se-Pe+4),xe=Te[pe++],Ie=Te[pe++],N=Te[pe++],w[be]=(T[xe]+T[Ie+256>>0]+T[N+512>>0]>>16)-128,A[be]=(T[xe+768>>0]+T[Ie+1024>>0]+T[N+1280>>0]>>16)-128,R[be]=(T[xe+1280>>0]+T[Ie+1536>>0]+T[N+1792>>0]>>16)-128;oe=P(w,t,oe,s,a),_e=P(A,e,_e,l,f),ye=P(R,e,ye,l,f),Oe+=32}Ae+=8}if(b>=0){var K=[];K[1]=b+1,K[0]=(1<<b+1)-1,le(K)}return ge(65497),typeof H>"u"?new Uint8Array(_):new E(_)};function x(S){if(S<=0&&(S=1),S>100&&(S=100),z!=S){var X=0;S<50?X=Math.floor(5e3/S):X=Math.floor(200-S*2),Y(X),z=S}}function C(){var S=new Date().getTime();c||(c=50),Z(),Q(),re(),ue(),x(c),new Date().getTime()-S}C()}typeof H<"u"?H.exports=u:typeof Ee<"u"&&(Ee["jpeg-js"]=Ee["jpeg-js"]||{},Ee["jpeg-js"].encode=u);function u(c,o){typeof o>"u"&&(o=50);var n=new m(o),r=n.encode(c,o);return{data:r,width:c.width,height:c.height}}}).call(this,M("buffer").Buffer)},{buffer:48}],83:[function(M,H,y){(function(E){var m=M("path"),u=M("fs"),c=parseInt("0777",8);H.exports=o.mkdirp=o.mkdirP=o;function o(n,r,t,e){typeof r=="function"?(t=r,r={}):(!r||typeof r!="object")&&(r={mode:r});var s=r.mode,l=r.fs||u;s===void 0&&(s=c&~E.umask()),e||(e=null);var a=t||function(){};n=m.resolve(n),l.mkdir(n,s,function(f){if(!f)return e=e||n,a(null,e);switch(f.code){case"ENOENT":o(m.dirname(n),r,function(i,h){i?a(i,h):o(n,r,a,h)});break;default:l.stat(n,function(i,h){i||!h.isDirectory()?a(f,e):a(null,e)});break}})}o.sync=function n(r,t,e){(!t||typeof t!="object")&&(t={mode:t});var s=t.mode,l=t.fs||u;s===void 0&&(s=c&~E.umask()),e||(e=null),r=m.resolve(r);try{l.mkdirSync(r,s),e=e||r}catch(f){switch(f.code){case"ENOENT":e=n(m.dirname(r),t,e),n(r,t,e);break;default:var a;try{a=l.statSync(r)}catch{throw f}if(!a.isDirectory())throw f;break}}return e}}).call(this,M("_process"))},{_process:133,fs:47,path:107}],84:[function(M,H,y){var E=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable;function c(n){if(n==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(n)}function o(){try{if(!Object.assign)return!1;var n=new String("abc");if(n[5]="de",Object.getOwnPropertyNames(n)[0]==="5")return!1;for(var r={},t=0;t<10;t++)r["_"+String.fromCharCode(t)]=t;var e=Object.getOwnPropertyNames(r).map(function(l){return r[l]});if(e.join("")!=="0123456789")return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach(function(l){s[l]=l}),Object.keys(Object.assign({},s)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}H.exports=o()?Object.assign:function(n,r){for(var t,e=c(n),s,l=1;l<arguments.length;l++){t=Object(arguments[l]);for(var a in t)m.call(t,a)&&(e[a]=t[a]);if(E){s=E(t);for(var f=0;f<s.length;f++)u.call(t,s[f])&&(e[s[f]]=t[s[f]])}}return e}},{}],85:[function(M,H,y){arguments[4][64][0].apply(y,arguments)},{dup:64}],86:[function(M,H,y){var E=M("./lib/utils/common").assign,m=M("./lib/deflate"),u=M("./lib/inflate"),c=M("./lib/zlib/constants"),o={};E(o,m,u,c),H.exports=o},{"./lib/deflate":87,"./lib/inflate":88,"./lib/utils/common":89,"./lib/zlib/constants":92}],87:[function(M,H,y){var E=M("./zlib/deflate"),m=M("./utils/common"),u=M("./utils/strings"),c=M("./zlib/messages"),o=M("./zlib/zstream"),n=Object.prototype.toString,r=0,t=4,e=0,s=1,l=2,a=-1,f=0,i=8;function h(g){if(!(this instanceof h))return new h(g);this.options=m.assign({level:a,method:i,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},g||{});var b=this.options;b.raw&&b.windowBits>0?b.windowBits=-b.windowBits:b.gzip&&b.windowBits>0&&b.windowBits<16&&(b.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var w=E.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(w!==e)throw new Error(c[w]);if(b.header&&E.deflateSetHeader(this.strm,b.header),b.dictionary){var A;if(typeof b.dictionary=="string"?A=u.string2buf(b.dictionary):n.call(b.dictionary)==="[object ArrayBuffer]"?A=new Uint8Array(b.dictionary):A=b.dictionary,w=E.deflateSetDictionary(this.strm,A),w!==e)throw new Error(c[w]);this._dict_set=!0}}h.prototype.push=function(g,b){var w=this.strm,A=this.options.chunkSize,R,B;if(this.ended)return!1;B=b===~~b?b:b===!0?t:r,typeof g=="string"?w.input=u.string2buf(g):n.call(g)==="[object ArrayBuffer]"?w.input=new Uint8Array(g):w.input=g,w.next_in=0,w.avail_in=w.input.length;do{if(w.avail_out===0&&(w.output=new m.Buf8(A),w.next_out=0,w.avail_out=A),R=E.deflate(w,B),R!==s&&R!==e)return this.onEnd(R),this.ended=!0,!1;(w.avail_out===0||w.avail_in===0&&(B===t||B===l))&&(this.options.to==="string"?this.onData(u.buf2binstring(m.shrinkBuf(w.output,w.next_out))):this.onData(m.shrinkBuf(w.output,w.next_out)))}while((w.avail_in>0||w.avail_out===0)&&R!==s);return B===t?(R=E.deflateEnd(this.strm),this.onEnd(R),this.ended=!0,R===e):(B===l&&(this.onEnd(e),w.avail_out=0),!0)},h.prototype.onData=function(g){this.chunks.push(g)},h.prototype.onEnd=function(g){g===e&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=m.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg};function d(g,b){var w=new h(b);if(w.push(g,!0),w.err)throw w.msg||c[w.err];return w.result}function p(g,b){return b=b||{},b.raw=!0,d(g,b)}function _(g,b){return b=b||{},b.gzip=!0,d(g,b)}y.Deflate=h,y.deflate=d,y.deflateRaw=p,y.gzip=_},{"./utils/common":89,"./utils/strings":90,"./zlib/deflate":94,"./zlib/messages":99,"./zlib/zstream":101}],88:[function(M,H,y){var E=M("./zlib/inflate"),m=M("./utils/common"),u=M("./utils/strings"),c=M("./zlib/constants"),o=M("./zlib/messages"),n=M("./zlib/zstream"),r=M("./zlib/gzheader"),t=Object.prototype.toString;function e(a){if(!(this instanceof e))return new e(a);this.options=m.assign({chunkSize:16384,windowBits:0,to:""},a||{});var f=this.options;f.raw&&f.windowBits>=0&&f.windowBits<16&&(f.windowBits=-f.windowBits,f.windowBits===0&&(f.windowBits=-15)),f.windowBits>=0&&f.windowBits<16&&!(a&&a.windowBits)&&(f.windowBits+=32),f.windowBits>15&&f.windowBits<48&&(f.windowBits&15||(f.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new n,this.strm.avail_out=0;var i=E.inflateInit2(this.strm,f.windowBits);if(i!==c.Z_OK)throw new Error(o[i]);this.header=new r,E.inflateGetHeader(this.strm,this.header)}e.prototype.push=function(a,f){var i=this.strm,h=this.options.chunkSize,d=this.options.dictionary,p,_,g,b,w,A,R=!1;if(this.ended)return!1;_=f===~~f?f:f===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof a=="string"?i.input=u.binstring2buf(a):t.call(a)==="[object ArrayBuffer]"?i.input=new Uint8Array(a):i.input=a,i.next_in=0,i.avail_in=i.input.length;do{if(i.avail_out===0&&(i.output=new m.Buf8(h),i.next_out=0,i.avail_out=h),p=E.inflate(i,c.Z_NO_FLUSH),p===c.Z_NEED_DICT&&d&&(typeof d=="string"?A=u.string2buf(d):t.call(d)==="[object ArrayBuffer]"?A=new Uint8Array(d):A=d,p=E.inflateSetDictionary(this.strm,A)),p===c.Z_BUF_ERROR&&R===!0&&(p=c.Z_OK,R=!1),p!==c.Z_STREAM_END&&p!==c.Z_OK)return this.onEnd(p),this.ended=!0,!1;i.next_out&&(i.avail_out===0||p===c.Z_STREAM_END||i.avail_in===0&&(_===c.Z_FINISH||_===c.Z_SYNC_FLUSH))&&(this.options.to==="string"?(g=u.utf8border(i.output,i.next_out),b=i.next_out-g,w=u.buf2string(i.output,g),i.next_out=b,i.avail_out=h-b,b&&m.arraySet(i.output,i.output,g,b,0),this.onData(w)):this.onData(m.shrinkBuf(i.output,i.next_out))),i.avail_in===0&&i.avail_out===0&&(R=!0)}while((i.avail_in>0||i.avail_out===0)&&p!==c.Z_STREAM_END);return p===c.Z_STREAM_END&&(_=c.Z_FINISH),_===c.Z_FINISH?(p=E.inflateEnd(this.strm),this.onEnd(p),this.ended=!0,p===c.Z_OK):(_===c.Z_SYNC_FLUSH&&(this.onEnd(c.Z_OK),i.avail_out=0),!0)},e.prototype.onData=function(a){this.chunks.push(a)},e.prototype.onEnd=function(a){a===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=m.flattenChunks(this.chunks)),this.chunks=[],this.err=a,this.msg=this.strm.msg};function s(a,f){var i=new e(f);if(i.push(a,!0),i.err)throw i.msg||o[i.err];return i.result}function l(a,f){return f=f||{},f.raw=!0,s(a,f)}y.Inflate=e,y.inflate=s,y.inflateRaw=l,y.ungzip=s},{"./utils/common":89,"./utils/strings":90,"./zlib/constants":92,"./zlib/gzheader":95,"./zlib/inflate":97,"./zlib/messages":99,"./zlib/zstream":101}],89:[function(M,H,y){arguments[4][36][0].apply(y,arguments)},{dup:36}],90:[function(M,H,y){var E=M("./common"),m=!0,u=!0;try{String.fromCharCode.apply(null,[0])}catch{m=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{u=!1}for(var c=new E.Buf8(256),o=0;o<256;o++)c[o]=o>=252?6:o>=248?5:o>=240?4:o>=224?3:o>=192?2:1;c[254]=c[254]=1,y.string2buf=function(r){var t,e,s,l,a,f=r.length,i=0;for(l=0;l<f;l++)e=r.charCodeAt(l),(e&64512)===55296&&l+1<f&&(s=r.charCodeAt(l+1),(s&64512)===56320&&(e=65536+(e-55296<<10)+(s-56320),l++)),i+=e<128?1:e<2048?2:e<65536?3:4;for(t=new E.Buf8(i),a=0,l=0;a<i;l++)e=r.charCodeAt(l),(e&64512)===55296&&l+1<f&&(s=r.charCodeAt(l+1),(s&64512)===56320&&(e=65536+(e-55296<<10)+(s-56320),l++)),e<128?t[a++]=e:e<2048?(t[a++]=192|e>>>6,t[a++]=128|e&63):e<65536?(t[a++]=224|e>>>12,t[a++]=128|e>>>6&63,t[a++]=128|e&63):(t[a++]=240|e>>>18,t[a++]=128|e>>>12&63,t[a++]=128|e>>>6&63,t[a++]=128|e&63);return t};function n(r,t){if(t<65537&&(r.subarray&&u||!r.subarray&&m))return String.fromCharCode.apply(null,E.shrinkBuf(r,t));for(var e="",s=0;s<t;s++)e+=String.fromCharCode(r[s]);return e}y.buf2binstring=function(r){return n(r,r.length)},y.binstring2buf=function(r){for(var t=new E.Buf8(r.length),e=0,s=t.length;e<s;e++)t[e]=r.charCodeAt(e);return t},y.buf2string=function(r,t){var e,s,l,a,f=t||r.length,i=new Array(f*2);for(s=0,e=0;e<f;){if(l=r[e++],l<128){i[s++]=l;continue}if(a=c[l],a>4){i[s++]=65533,e+=a-1;continue}for(l&=a===2?31:a===3?15:7;a>1&&e<f;)l=l<<6|r[e++]&63,a--;if(a>1){i[s++]=65533;continue}l<65536?i[s++]=l:(l-=65536,i[s++]=55296|l>>10&1023,i[s++]=56320|l&1023)}return n(i,s)},y.utf8border=function(r,t){var e;for(t=t||r.length,t>r.length&&(t=r.length),e=t-1;e>=0&&(r[e]&192)===128;)e--;return e<0||e===0?t:e+c[r[e]]>t?e:t}},{"./common":89}],91:[function(M,H,y){arguments[4][37][0].apply(y,arguments)},{dup:37}],92:[function(M,H,y){arguments[4][38][0].apply(y,arguments)},{dup:38}],93:[function(M,H,y){arguments[4][39][0].apply(y,arguments)},{dup:39}],94:[function(M,H,y){var E=M("../utils/common"),m=M("./trees"),u=M("./adler32"),c=M("./crc32"),o=M("./messages"),n=0,r=1,t=3,e=4,s=5,l=0,a=1,f=-2,i=-3,h=-5,d=-1,p=1,_=2,g=3,b=4,w=0,A=2,R=8,B=9,T=15,z=8,F=29,D=256,O=D+1+F,k=30,G=19,J=2*O+1,$=15,ee=3,j=258,Y=j+ee+1,W=32,Q=42,re=69,ue=73,le=91,he=103,ge=113,ie=666,ae=1,V=2,q=3,te=4,U=3;function L(v,fe){return v.msg=o[fe],fe}function P(v){return(v<<1)-(v>4?9:0)}function Z(v){for(var fe=v.length;--fe>=0;)v[fe]=0}function x(v){var fe=v.state,ve=fe.pending;ve>v.avail_out&&(ve=v.avail_out),ve!==0&&(E.arraySet(v.output,fe.pending_buf,fe.pending_out,ve,v.next_out),v.next_out+=ve,fe.pending_out+=ve,v.total_out+=ve,v.avail_out-=ve,fe.pending-=ve,fe.pending===0&&(fe.pending_out=0))}function C(v,fe){m._tr_flush_block(v,v.block_start>=0?v.block_start:-1,v.strstart-v.block_start,fe),v.block_start=v.strstart,x(v.strm)}function S(v,fe){v.pending_buf[v.pending++]=fe}function X(v,fe){v.pending_buf[v.pending++]=fe>>>8&255,v.pending_buf[v.pending++]=fe&255}function oe(v,fe,ve,I){var ne=v.avail_in;return ne>I&&(ne=I),ne===0?0:(v.avail_in-=ne,E.arraySet(fe,v.input,v.next_in,ne,ve),v.state.wrap===1?v.adler=u(v.adler,fe,ne,ve):v.state.wrap===2&&(v.adler=c(v.adler,fe,ne,ve)),v.next_in+=ne,v.total_in+=ne,ne)}function _e(v,fe){var ve=v.max_chain_length,I=v.strstart,ne,we,Ce=v.prev_length,Re=v.nice_match,Be=v.strstart>v.w_size-Y?v.strstart-(v.w_size-Y):0,ze=v.window,Ve=v.w_mask,je=v.prev,Fe=v.strstart+j,We=ze[I+Ce-1],Ze=ze[I+Ce];v.prev_length>=v.good_match&&(ve>>=2),Re>v.lookahead&&(Re=v.lookahead);do if(ne=fe,!(ze[ne+Ce]!==Ze||ze[ne+Ce-1]!==We||ze[ne]!==ze[I]||ze[++ne]!==ze[I+1])){I+=2,ne++;do;while(ze[++I]===ze[++ne]&&ze[++I]===ze[++ne]&&ze[++I]===ze[++ne]&&ze[++I]===ze[++ne]&&ze[++I]===ze[++ne]&&ze[++I]===ze[++ne]&&ze[++I]===ze[++ne]&&ze[++I]===ze[++ne]&&I<Fe);if(we=j-(Fe-I),I=Fe-j,we>Ce){if(v.match_start=fe,Ce=we,we>=Re)break;We=ze[I+Ce-1],Ze=ze[I+Ce]}}while((fe=je[fe&Ve])>Be&&--ve!==0);return Ce<=v.lookahead?Ce:v.lookahead}function ye(v){var fe=v.w_size,ve,I,ne,we,Ce;do{if(we=v.window_size-v.lookahead-v.strstart,v.strstart>=fe+(fe-Y)){E.arraySet(v.window,v.window,fe,fe,0),v.match_start-=fe,v.strstart-=fe,v.block_start-=fe,I=v.hash_size,ve=I;do ne=v.head[--ve],v.head[ve]=ne>=fe?ne-fe:0;while(--I);I=fe,ve=I;do ne=v.prev[--ve],v.prev[ve]=ne>=fe?ne-fe:0;while(--I);we+=fe}if(v.strm.avail_in===0)break;if(I=oe(v.strm,v.window,v.strstart+v.lookahead,we),v.lookahead+=I,v.lookahead+v.insert>=ee)for(Ce=v.strstart-v.insert,v.ins_h=v.window[Ce],v.ins_h=(v.ins_h<<v.hash_shift^v.window[Ce+1])&v.hash_mask;v.insert&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[Ce+ee-1])&v.hash_mask,v.prev[Ce&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=Ce,Ce++,v.insert--,!(v.lookahead+v.insert<ee)););}while(v.lookahead<Y&&v.strm.avail_in!==0)}function Te(v,fe){var ve=65535;for(ve>v.pending_buf_size-5&&(ve=v.pending_buf_size-5);;){if(v.lookahead<=1){if(ye(v),v.lookahead===0&&fe===n)return ae;if(v.lookahead===0)break}v.strstart+=v.lookahead,v.lookahead=0;var I=v.block_start+ve;if((v.strstart===0||v.strstart>=I)&&(v.lookahead=v.strstart-I,v.strstart=I,C(v,!1),v.strm.avail_out===0)||v.strstart-v.block_start>=v.w_size-Y&&(C(v,!1),v.strm.avail_out===0))return ae}return v.insert=0,fe===e?(C(v,!0),v.strm.avail_out===0?q:te):(v.strstart>v.block_start&&(C(v,!1),v.strm.avail_out===0),ae)}function ke(v,fe){for(var ve,I;;){if(v.lookahead<Y){if(ye(v),v.lookahead<Y&&fe===n)return ae;if(v.lookahead===0)break}if(ve=0,v.lookahead>=ee&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+ee-1])&v.hash_mask,ve=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart),ve!==0&&v.strstart-ve<=v.w_size-Y&&(v.match_length=_e(v,ve)),v.match_length>=ee)if(I=m._tr_tally(v,v.strstart-v.match_start,v.match_length-ee),v.lookahead-=v.match_length,v.match_length<=v.max_lazy_match&&v.lookahead>=ee){v.match_length--;do v.strstart++,v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+ee-1])&v.hash_mask,ve=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart;while(--v.match_length!==0);v.strstart++}else v.strstart+=v.match_length,v.match_length=0,v.ins_h=v.window[v.strstart],v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+1])&v.hash_mask;else I=m._tr_tally(v,0,v.window[v.strstart]),v.lookahead--,v.strstart++;if(I&&(C(v,!1),v.strm.avail_out===0))return ae}return v.insert=v.strstart<ee-1?v.strstart:ee-1,fe===e?(C(v,!0),v.strm.avail_out===0?q:te):v.last_lit&&(C(v,!1),v.strm.avail_out===0)?ae:V}function Le(v,fe){for(var ve,I,ne;;){if(v.lookahead<Y){if(ye(v),v.lookahead<Y&&fe===n)return ae;if(v.lookahead===0)break}if(ve=0,v.lookahead>=ee&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+ee-1])&v.hash_mask,ve=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart),v.prev_length=v.match_length,v.prev_match=v.match_start,v.match_length=ee-1,ve!==0&&v.prev_length<v.max_lazy_match&&v.strstart-ve<=v.w_size-Y&&(v.match_length=_e(v,ve),v.match_length<=5&&(v.strategy===p||v.match_length===ee&&v.strstart-v.match_start>4096)&&(v.match_length=ee-1)),v.prev_length>=ee&&v.match_length<=v.prev_length){ne=v.strstart+v.lookahead-ee,I=m._tr_tally(v,v.strstart-1-v.prev_match,v.prev_length-ee),v.lookahead-=v.prev_length-1,v.prev_length-=2;do++v.strstart<=ne&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+ee-1])&v.hash_mask,ve=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart);while(--v.prev_length!==0);if(v.match_available=0,v.match_length=ee-1,v.strstart++,I&&(C(v,!1),v.strm.avail_out===0))return ae}else if(v.match_available){if(I=m._tr_tally(v,0,v.window[v.strstart-1]),I&&C(v,!1),v.strstart++,v.lookahead--,v.strm.avail_out===0)return ae}else v.match_available=1,v.strstart++,v.lookahead--}return v.match_available&&(I=m._tr_tally(v,0,v.window[v.strstart-1]),v.match_available=0),v.insert=v.strstart<ee-1?v.strstart:ee-1,fe===e?(C(v,!0),v.strm.avail_out===0?q:te):v.last_lit&&(C(v,!1),v.strm.avail_out===0)?ae:V}function Pe(v,fe){for(var ve,I,ne,we,Ce=v.window;;){if(v.lookahead<=j){if(ye(v),v.lookahead<=j&&fe===n)return ae;if(v.lookahead===0)break}if(v.match_length=0,v.lookahead>=ee&&v.strstart>0&&(ne=v.strstart-1,I=Ce[ne],I===Ce[++ne]&&I===Ce[++ne]&&I===Ce[++ne])){we=v.strstart+j;do;while(I===Ce[++ne]&&I===Ce[++ne]&&I===Ce[++ne]&&I===Ce[++ne]&&I===Ce[++ne]&&I===Ce[++ne]&&I===Ce[++ne]&&I===Ce[++ne]&&ne<we);v.match_length=j-(we-ne),v.match_length>v.lookahead&&(v.match_length=v.lookahead)}if(v.match_length>=ee?(ve=m._tr_tally(v,1,v.match_length-ee),v.lookahead-=v.match_length,v.strstart+=v.match_length,v.match_length=0):(ve=m._tr_tally(v,0,v.window[v.strstart]),v.lookahead--,v.strstart++),ve&&(C(v,!1),v.strm.avail_out===0))return ae}return v.insert=0,fe===e?(C(v,!0),v.strm.avail_out===0?q:te):v.last_lit&&(C(v,!1),v.strm.avail_out===0)?ae:V}function Oe(v,fe){for(var ve;;){if(v.lookahead===0&&(ye(v),v.lookahead===0)){if(fe===n)return ae;break}if(v.match_length=0,ve=m._tr_tally(v,0,v.window[v.strstart]),v.lookahead--,v.strstart++,ve&&(C(v,!1),v.strm.avail_out===0))return ae}return v.insert=0,fe===e?(C(v,!0),v.strm.avail_out===0?q:te):v.last_lit&&(C(v,!1),v.strm.avail_out===0)?ae:V}function Ae(v,fe,ve,I,ne){this.good_length=v,this.max_lazy=fe,this.nice_length=ve,this.max_chain=I,this.func=ne}var xe;xe=[new Ae(0,0,0,0,Te),new Ae(4,4,8,4,ke),new Ae(4,5,16,8,ke),new Ae(4,6,32,32,ke),new Ae(4,4,16,16,Le),new Ae(8,16,32,32,Le),new Ae(8,16,128,128,Le),new Ae(8,32,128,256,Le),new Ae(32,128,258,1024,Le),new Ae(32,258,258,4096,Le)];function Ie(v){v.window_size=2*v.w_size,Z(v.head),v.max_lazy_match=xe[v.level].max_lazy,v.good_match=xe[v.level].good_length,v.nice_match=xe[v.level].nice_length,v.max_chain_length=xe[v.level].max_chain,v.strstart=0,v.block_start=0,v.lookahead=0,v.insert=0,v.match_length=v.prev_length=ee-1,v.match_available=0,v.ins_h=0}function N(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=R,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new E.Buf16(J*2),this.dyn_dtree=new E.Buf16((2*k+1)*2),this.bl_tree=new E.Buf16((2*G+1)*2),Z(this.dyn_ltree),Z(this.dyn_dtree),Z(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new E.Buf16($+1),this.heap=new E.Buf16(2*O+1),Z(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new E.Buf16(2*O+1),Z(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function de(v){var fe;return!v||!v.state?L(v,f):(v.total_in=v.total_out=0,v.data_type=A,fe=v.state,fe.pending=0,fe.pending_out=0,fe.wrap<0&&(fe.wrap=-fe.wrap),fe.status=fe.wrap?Q:ge,v.adler=fe.wrap===2?0:1,fe.last_flush=n,m._tr_init(fe),l)}function pe(v){var fe=de(v);return fe===l&&Ie(v.state),fe}function Se(v,fe){return!v||!v.state||v.state.wrap!==2?f:(v.state.gzhead=fe,l)}function ce(v,fe,ve,I,ne,we){if(!v)return f;var Ce=1;if(fe===d&&(fe=6),I<0?(Ce=0,I=-I):I>15&&(Ce=2,I-=16),ne<1||ne>B||ve!==R||I<8||I>15||fe<0||fe>9||we<0||we>b)return L(v,f);I===8&&(I=9);var Re=new N;return v.state=Re,Re.strm=v,Re.wrap=Ce,Re.gzhead=null,Re.w_bits=I,Re.w_size=1<<Re.w_bits,Re.w_mask=Re.w_size-1,Re.hash_bits=ne+7,Re.hash_size=1<<Re.hash_bits,Re.hash_mask=Re.hash_size-1,Re.hash_shift=~~((Re.hash_bits+ee-1)/ee),Re.window=new E.Buf8(Re.w_size*2),Re.head=new E.Buf16(Re.hash_size),Re.prev=new E.Buf16(Re.w_size),Re.lit_bufsize=1<<ne+6,Re.pending_buf_size=Re.lit_bufsize*4,Re.pending_buf=new E.Buf8(Re.pending_buf_size),Re.d_buf=1*Re.lit_bufsize,Re.l_buf=3*Re.lit_bufsize,Re.level=fe,Re.strategy=we,Re.method=ve,pe(v)}function be(v,fe){return ce(v,fe,R,T,z,w)}function K(v,fe){var ve,I,ne,we;if(!v||!v.state||fe>s||fe<0)return v?L(v,f):f;if(I=v.state,!v.output||!v.input&&v.avail_in!==0||I.status===ie&&fe!==e)return L(v,v.avail_out===0?h:f);if(I.strm=v,ve=I.last_flush,I.last_flush=fe,I.status===Q)if(I.wrap===2)v.adler=0,S(I,31),S(I,139),S(I,8),I.gzhead?(S(I,(I.gzhead.text?1:0)+(I.gzhead.hcrc?2:0)+(I.gzhead.extra?4:0)+(I.gzhead.name?8:0)+(I.gzhead.comment?16:0)),S(I,I.gzhead.time&255),S(I,I.gzhead.time>>8&255),S(I,I.gzhead.time>>16&255),S(I,I.gzhead.time>>24&255),S(I,I.level===9?2:I.strategy>=_||I.level<2?4:0),S(I,I.gzhead.os&255),I.gzhead.extra&&I.gzhead.extra.length&&(S(I,I.gzhead.extra.length&255),S(I,I.gzhead.extra.length>>8&255)),I.gzhead.hcrc&&(v.adler=c(v.adler,I.pending_buf,I.pending,0)),I.gzindex=0,I.status=re):(S(I,0),S(I,0),S(I,0),S(I,0),S(I,0),S(I,I.level===9?2:I.strategy>=_||I.level<2?4:0),S(I,U),I.status=ge);else{var Ce=R+(I.w_bits-8<<4)<<8,Re=-1;I.strategy>=_||I.level<2?Re=0:I.level<6?Re=1:I.level===6?Re=2:Re=3,Ce|=Re<<6,I.strstart!==0&&(Ce|=W),Ce+=31-Ce%31,I.status=ge,X(I,Ce),I.strstart!==0&&(X(I,v.adler>>>16),X(I,v.adler&65535)),v.adler=1}if(I.status===re)if(I.gzhead.extra){for(ne=I.pending;I.gzindex<(I.gzhead.extra.length&65535)&&!(I.pending===I.pending_buf_size&&(I.gzhead.hcrc&&I.pending>ne&&(v.adler=c(v.adler,I.pending_buf,I.pending-ne,ne)),x(v),ne=I.pending,I.pending===I.pending_buf_size));)S(I,I.gzhead.extra[I.gzindex]&255),I.gzindex++;I.gzhead.hcrc&&I.pending>ne&&(v.adler=c(v.adler,I.pending_buf,I.pending-ne,ne)),I.gzindex===I.gzhead.extra.length&&(I.gzindex=0,I.status=ue)}else I.status=ue;if(I.status===ue)if(I.gzhead.name){ne=I.pending;do{if(I.pending===I.pending_buf_size&&(I.gzhead.hcrc&&I.pending>ne&&(v.adler=c(v.adler,I.pending_buf,I.pending-ne,ne)),x(v),ne=I.pending,I.pending===I.pending_buf_size)){we=1;break}I.gzindex<I.gzhead.name.length?we=I.gzhead.name.charCodeAt(I.gzindex++)&255:we=0,S(I,we)}while(we!==0);I.gzhead.hcrc&&I.pending>ne&&(v.adler=c(v.adler,I.pending_buf,I.pending-ne,ne)),we===0&&(I.gzindex=0,I.status=le)}else I.status=le;if(I.status===le)if(I.gzhead.comment){ne=I.pending;do{if(I.pending===I.pending_buf_size&&(I.gzhead.hcrc&&I.pending>ne&&(v.adler=c(v.adler,I.pending_buf,I.pending-ne,ne)),x(v),ne=I.pending,I.pending===I.pending_buf_size)){we=1;break}I.gzindex<I.gzhead.comment.length?we=I.gzhead.comment.charCodeAt(I.gzindex++)&255:we=0,S(I,we)}while(we!==0);I.gzhead.hcrc&&I.pending>ne&&(v.adler=c(v.adler,I.pending_buf,I.pending-ne,ne)),we===0&&(I.status=he)}else I.status=he;if(I.status===he&&(I.gzhead.hcrc?(I.pending+2>I.pending_buf_size&&x(v),I.pending+2<=I.pending_buf_size&&(S(I,v.adler&255),S(I,v.adler>>8&255),v.adler=0,I.status=ge)):I.status=ge),I.pending!==0){if(x(v),v.avail_out===0)return I.last_flush=-1,l}else if(v.avail_in===0&&P(fe)<=P(ve)&&fe!==e)return L(v,h);if(I.status===ie&&v.avail_in!==0)return L(v,h);if(v.avail_in!==0||I.lookahead!==0||fe!==n&&I.status!==ie){var Be=I.strategy===_?Oe(I,fe):I.strategy===g?Pe(I,fe):xe[I.level].func(I,fe);if((Be===q||Be===te)&&(I.status=ie),Be===ae||Be===q)return v.avail_out===0&&(I.last_flush=-1),l;if(Be===V&&(fe===r?m._tr_align(I):fe!==s&&(m._tr_stored_block(I,0,0,!1),fe===t&&(Z(I.head),I.lookahead===0&&(I.strstart=0,I.block_start=0,I.insert=0))),x(v),v.avail_out===0))return I.last_flush=-1,l}return fe!==e?l:I.wrap<=0?a:(I.wrap===2?(S(I,v.adler&255),S(I,v.adler>>8&255),S(I,v.adler>>16&255),S(I,v.adler>>24&255),S(I,v.total_in&255),S(I,v.total_in>>8&255),S(I,v.total_in>>16&255),S(I,v.total_in>>24&255)):(X(I,v.adler>>>16),X(I,v.adler&65535)),x(v),I.wrap>0&&(I.wrap=-I.wrap),I.pending!==0?l:a)}function Me(v){var fe;return!v||!v.state?f:(fe=v.state.status,fe!==Q&&fe!==re&&fe!==ue&&fe!==le&&fe!==he&&fe!==ge&&fe!==ie?L(v,f):(v.state=null,fe===ge?L(v,i):l))}function Ne(v,fe){var ve=fe.length,I,ne,we,Ce,Re,Be,ze,Ve;if(!v||!v.state||(I=v.state,Ce=I.wrap,Ce===2||Ce===1&&I.status!==Q||I.lookahead))return f;for(Ce===1&&(v.adler=u(v.adler,fe,ve,0)),I.wrap=0,ve>=I.w_size&&(Ce===0&&(Z(I.head),I.strstart=0,I.block_start=0,I.insert=0),Ve=new E.Buf8(I.w_size),E.arraySet(Ve,fe,ve-I.w_size,I.w_size,0),fe=Ve,ve=I.w_size),Re=v.avail_in,Be=v.next_in,ze=v.input,v.avail_in=ve,v.next_in=0,v.input=fe,ye(I);I.lookahead>=ee;){ne=I.strstart,we=I.lookahead-(ee-1);do I.ins_h=(I.ins_h<<I.hash_shift^I.window[ne+ee-1])&I.hash_mask,I.prev[ne&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=ne,ne++;while(--we);I.strstart=ne,I.lookahead=ee-1,ye(I)}return I.strstart+=I.lookahead,I.block_start=I.strstart,I.insert=I.lookahead,I.lookahead=0,I.match_length=I.prev_length=ee-1,I.match_available=0,v.next_in=Be,v.input=ze,v.avail_in=Re,I.wrap=Ce,l}y.deflateInit=be,y.deflateInit2=ce,y.deflateReset=pe,y.deflateResetKeep=de,y.deflateSetHeader=Se,y.deflate=K,y.deflateEnd=Me,y.deflateSetDictionary=Ne,y.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":89,"./adler32":91,"./crc32":93,"./messages":99,"./trees":100}],95:[function(M,H,y){function E(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}H.exports=E},{}],96:[function(M,H,y){arguments[4][41][0].apply(y,arguments)},{dup:41}],97:[function(M,H,y){arguments[4][42][0].apply(y,arguments)},{"../utils/common":89,"./adler32":91,"./crc32":93,"./inffast":96,"./inftrees":98,dup:42}],98:[function(M,H,y){arguments[4][43][0].apply(y,arguments)},{"../utils/common":89,dup:43}],99:[function(M,H,y){arguments[4][44][0].apply(y,arguments)},{dup:44}],100:[function(M,H,y){var E=M("../utils/common"),m=4,u=0,c=1,o=2;function n(N){for(var de=N.length;--de>=0;)N[de]=0}var r=0,t=1,e=2,s=3,l=258,a=29,f=256,i=f+1+a,h=30,d=19,p=2*i+1,_=15,g=16,b=7,w=256,A=16,R=17,B=18,T=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],z=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],F=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],D=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],O=512,k=new Array((i+2)*2);n(k);var G=new Array(h*2);n(G);var J=new Array(O);n(J);var $=new Array(l-s+1);n($);var ee=new Array(a);n(ee);var j=new Array(h);n(j);function Y(N,de,pe,Se,ce){this.static_tree=N,this.extra_bits=de,this.extra_base=pe,this.elems=Se,this.max_length=ce,this.has_stree=N&&N.length}var W,Q,re;function ue(N,de){this.dyn_tree=N,this.max_code=0,this.stat_desc=de}function le(N){return N<256?J[N]:J[256+(N>>>7)]}function he(N,de){N.pending_buf[N.pending++]=de&255,N.pending_buf[N.pending++]=de>>>8&255}function ge(N,de,pe){N.bi_valid>g-pe?(N.bi_buf|=de<<N.bi_valid&65535,he(N,N.bi_buf),N.bi_buf=de>>g-N.bi_valid,N.bi_valid+=pe-g):(N.bi_buf|=de<<N.bi_valid&65535,N.bi_valid+=pe)}function ie(N,de,pe){ge(N,pe[de*2],pe[de*2+1])}function ae(N,de){var pe=0;do pe|=N&1,N>>>=1,pe<<=1;while(--de>0);return pe>>>1}function V(N){N.bi_valid===16?(he(N,N.bi_buf),N.bi_buf=0,N.bi_valid=0):N.bi_valid>=8&&(N.pending_buf[N.pending++]=N.bi_buf&255,N.bi_buf>>=8,N.bi_valid-=8)}function q(N,de){var pe=de.dyn_tree,Se=de.max_code,ce=de.stat_desc.static_tree,be=de.stat_desc.has_stree,K=de.stat_desc.extra_bits,Me=de.stat_desc.extra_base,Ne=de.stat_desc.max_length,v,fe,ve,I,ne,we,Ce=0;for(I=0;I<=_;I++)N.bl_count[I]=0;for(pe[N.heap[N.heap_max]*2+1]=0,v=N.heap_max+1;v<p;v++)fe=N.heap[v],I=pe[pe[fe*2+1]*2+1]+1,I>Ne&&(I=Ne,Ce++),pe[fe*2+1]=I,!(fe>Se)&&(N.bl_count[I]++,ne=0,fe>=Me&&(ne=K[fe-Me]),we=pe[fe*2],N.opt_len+=we*(I+ne),be&&(N.static_len+=we*(ce[fe*2+1]+ne)));if(Ce!==0){do{for(I=Ne-1;N.bl_count[I]===0;)I--;N.bl_count[I]--,N.bl_count[I+1]+=2,N.bl_count[Ne]--,Ce-=2}while(Ce>0);for(I=Ne;I!==0;I--)for(fe=N.bl_count[I];fe!==0;)ve=N.heap[--v],!(ve>Se)&&(pe[ve*2+1]!==I&&(N.opt_len+=(I-pe[ve*2+1])*pe[ve*2],pe[ve*2+1]=I),fe--)}}function te(N,de,pe){var Se=new Array(_+1),ce=0,be,K;for(be=1;be<=_;be++)Se[be]=ce=ce+pe[be-1]<<1;for(K=0;K<=de;K++){var Me=N[K*2+1];Me!==0&&(N[K*2]=ae(Se[Me]++,Me))}}function U(){var N,de,pe,Se,ce,be=new Array(_+1);for(pe=0,Se=0;Se<a-1;Se++)for(ee[Se]=pe,N=0;N<1<<T[Se];N++)$[pe++]=Se;for($[pe-1]=Se,ce=0,Se=0;Se<16;Se++)for(j[Se]=ce,N=0;N<1<<z[Se];N++)J[ce++]=Se;for(ce>>=7;Se<h;Se++)for(j[Se]=ce<<7,N=0;N<1<<z[Se]-7;N++)J[256+ce++]=Se;for(de=0;de<=_;de++)be[de]=0;for(N=0;N<=143;)k[N*2+1]=8,N++,be[8]++;for(;N<=255;)k[N*2+1]=9,N++,be[9]++;for(;N<=279;)k[N*2+1]=7,N++,be[7]++;for(;N<=287;)k[N*2+1]=8,N++,be[8]++;for(te(k,i+1,be),N=0;N<h;N++)G[N*2+1]=5,G[N*2]=ae(N,5);W=new Y(k,T,f+1,i,_),Q=new Y(G,z,0,h,_),re=new Y(new Array(0),F,0,d,b)}function L(N){var de;for(de=0;de<i;de++)N.dyn_ltree[de*2]=0;for(de=0;de<h;de++)N.dyn_dtree[de*2]=0;for(de=0;de<d;de++)N.bl_tree[de*2]=0;N.dyn_ltree[w*2]=1,N.opt_len=N.static_len=0,N.last_lit=N.matches=0}function P(N){N.bi_valid>8?he(N,N.bi_buf):N.bi_valid>0&&(N.pending_buf[N.pending++]=N.bi_buf),N.bi_buf=0,N.bi_valid=0}function Z(N,de,pe,Se){P(N),he(N,pe),he(N,~pe),E.arraySet(N.pending_buf,N.window,de,pe,N.pending),N.pending+=pe}function x(N,de,pe,Se){var ce=de*2,be=pe*2;return N[ce]<N[be]||N[ce]===N[be]&&Se[de]<=Se[pe]}function C(N,de,pe){for(var Se=N.heap[pe],ce=pe<<1;ce<=N.heap_len&&(ce<N.heap_len&&x(de,N.heap[ce+1],N.heap[ce],N.depth)&&ce++,!x(de,Se,N.heap[ce],N.depth));)N.heap[pe]=N.heap[ce],pe=ce,ce<<=1;N.heap[pe]=Se}function S(N,de,pe){var Se,ce,be=0,K,Me;if(N.last_lit!==0)do Se=N.pending_buf[N.d_buf+be*2]<<8|N.pending_buf[N.d_buf+be*2+1],ce=N.pending_buf[N.l_buf+be],be++,Se===0?ie(N,ce,de):(K=$[ce],ie(N,K+f+1,de),Me=T[K],Me!==0&&(ce-=ee[K],ge(N,ce,Me)),Se--,K=le(Se),ie(N,K,pe),Me=z[K],Me!==0&&(Se-=j[K],ge(N,Se,Me)));while(be<N.last_lit);ie(N,w,de)}function X(N,de){var pe=de.dyn_tree,Se=de.stat_desc.static_tree,ce=de.stat_desc.has_stree,be=de.stat_desc.elems,K,Me,Ne=-1,v;for(N.heap_len=0,N.heap_max=p,K=0;K<be;K++)pe[K*2]!==0?(N.heap[++N.heap_len]=Ne=K,N.depth[K]=0):pe[K*2+1]=0;for(;N.heap_len<2;)v=N.heap[++N.heap_len]=Ne<2?++Ne:0,pe[v*2]=1,N.depth[v]=0,N.opt_len--,ce&&(N.static_len-=Se[v*2+1]);for(de.max_code=Ne,K=N.heap_len>>1;K>=1;K--)C(N,pe,K);v=be;do K=N.heap[1],N.heap[1]=N.heap[N.heap_len--],C(N,pe,1),Me=N.heap[1],N.heap[--N.heap_max]=K,N.heap[--N.heap_max]=Me,pe[v*2]=pe[K*2]+pe[Me*2],N.depth[v]=(N.depth[K]>=N.depth[Me]?N.depth[K]:N.depth[Me])+1,pe[K*2+1]=pe[Me*2+1]=v,N.heap[1]=v++,C(N,pe,1);while(N.heap_len>=2);N.heap[--N.heap_max]=N.heap[1],q(N,de),te(pe,Ne,N.bl_count)}function oe(N,de,pe){var Se,ce=-1,be,K=de[0*2+1],Me=0,Ne=7,v=4;for(K===0&&(Ne=138,v=3),de[(pe+1)*2+1]=65535,Se=0;Se<=pe;Se++)be=K,K=de[(Se+1)*2+1],!(++Me<Ne&&be===K)&&(Me<v?N.bl_tree[be*2]+=Me:be!==0?(be!==ce&&N.bl_tree[be*2]++,N.bl_tree[A*2]++):Me<=10?N.bl_tree[R*2]++:N.bl_tree[B*2]++,Me=0,ce=be,K===0?(Ne=138,v=3):be===K?(Ne=6,v=3):(Ne=7,v=4))}function _e(N,de,pe){var Se,ce=-1,be,K=de[0*2+1],Me=0,Ne=7,v=4;for(K===0&&(Ne=138,v=3),Se=0;Se<=pe;Se++)if(be=K,K=de[(Se+1)*2+1],!(++Me<Ne&&be===K)){if(Me<v)do ie(N,be,N.bl_tree);while(--Me!==0);else be!==0?(be!==ce&&(ie(N,be,N.bl_tree),Me--),ie(N,A,N.bl_tree),ge(N,Me-3,2)):Me<=10?(ie(N,R,N.bl_tree),ge(N,Me-3,3)):(ie(N,B,N.bl_tree),ge(N,Me-11,7));Me=0,ce=be,K===0?(Ne=138,v=3):be===K?(Ne=6,v=3):(Ne=7,v=4)}}function ye(N){var de;for(oe(N,N.dyn_ltree,N.l_desc.max_code),oe(N,N.dyn_dtree,N.d_desc.max_code),X(N,N.bl_desc),de=d-1;de>=3&&N.bl_tree[D[de]*2+1]===0;de--);return N.opt_len+=3*(de+1)+5+5+4,de}function Te(N,de,pe,Se){var ce;for(ge(N,de-257,5),ge(N,pe-1,5),ge(N,Se-4,4),ce=0;ce<Se;ce++)ge(N,N.bl_tree[D[ce]*2+1],3);_e(N,N.dyn_ltree,de-1),_e(N,N.dyn_dtree,pe-1)}function ke(N){var de=4093624447,pe;for(pe=0;pe<=31;pe++,de>>>=1)if(de&1&&N.dyn_ltree[pe*2]!==0)return u;if(N.dyn_ltree[9*2]!==0||N.dyn_ltree[10*2]!==0||N.dyn_ltree[13*2]!==0)return c;for(pe=32;pe<f;pe++)if(N.dyn_ltree[pe*2]!==0)return c;return u}var Le=!1;function Pe(N){Le||(U(),Le=!0),N.l_desc=new ue(N.dyn_ltree,W),N.d_desc=new ue(N.dyn_dtree,Q),N.bl_desc=new ue(N.bl_tree,re),N.bi_buf=0,N.bi_valid=0,L(N)}function Oe(N,de,pe,Se){ge(N,(r<<1)+(Se?1:0),3),Z(N,de,pe)}function Ae(N){ge(N,t<<1,3),ie(N,w,k),V(N)}function xe(N,de,pe,Se){var ce,be,K=0;N.level>0?(N.strm.data_type===o&&(N.strm.data_type=ke(N)),X(N,N.l_desc),X(N,N.d_desc),K=ye(N),ce=N.opt_len+3+7>>>3,be=N.static_len+3+7>>>3,be<=ce&&(ce=be)):ce=be=pe+5,pe+4<=ce&&de!==-1?Oe(N,de,pe,Se):N.strategy===m||be===ce?(ge(N,(t<<1)+(Se?1:0),3),S(N,k,G)):(ge(N,(e<<1)+(Se?1:0),3),Te(N,N.l_desc.max_code+1,N.d_desc.max_code+1,K+1),S(N,N.dyn_ltree,N.dyn_dtree)),L(N),Se&&P(N)}function Ie(N,de,pe){return N.pending_buf[N.d_buf+N.last_lit*2]=de>>>8&255,N.pending_buf[N.d_buf+N.last_lit*2+1]=de&255,N.pending_buf[N.l_buf+N.last_lit]=pe&255,N.last_lit++,de===0?N.dyn_ltree[pe*2]++:(N.matches++,de--,N.dyn_ltree[($[pe]+f+1)*2]++,N.dyn_dtree[le(de)*2]++),N.last_lit===N.lit_bufsize-1}y._tr_init=Pe,y._tr_stored_block=Oe,y._tr_flush_block=xe,y._tr_tally=Ie,y._tr_align=Ae},{"../utils/common":89}],101:[function(M,H,y){arguments[4][46][0].apply(y,arguments)},{dup:46}],102:[function(M,H,y){H.exports=function(o){if(!o)throw new Error("no data provided");o=o.toString().trim();var n={pages:[],chars:[],kernings:[]},r=o.split(/\r\n?|\n/g);if(r.length===0)throw new Error("no data in BMFont file");for(var t=0;t<r.length;t++){var e=E(r[t],t);if(e)if(e.key==="page"){if(typeof e.data.id!="number")throw new Error("malformed file at line "+t+" -- needs page id=N");if(typeof e.data.file!="string")throw new Error("malformed file at line "+t+' -- needs page file="path"');n.pages[e.data.id]=e.data.file}else e.key==="chars"||e.key==="kernings"||(e.key==="char"?n.chars.push(e.data):e.key==="kerning"?n.kernings.push(e.data):n[e.key]=e.data)}return n};function E(c,o){if(c=c.replace(/\t+/g," ").trim(),!c)return null;var n=c.indexOf(" ");if(n===-1)throw new Error("no named row at line "+o);var r=c.substring(0,n);c=c.substring(n+1),c=c.replace(/letter=[\'\"]\S+[\'\"]/gi,""),c=c.split("="),c=c.map(function(a){return a.trim().match(/(".*?"|[^"\s]+)+(?=\s*|\s*$)/g)});for(var t=[],e=0;e<c.length;e++){var s=c[e];e===0?t.push({key:s[0],data:""}):e===c.length-1?t[t.length-1].data=m(s[0]):(t[t.length-1].data=m(s[0]),t.push({key:s[1],data:""}))}var l={key:r,data:{}};return t.forEach(function(a){l.data[a.key]=a.data}),l}function m(c){return!c||c.length===0?"":c.indexOf('"')===0||c.indexOf("'")===0?c.substring(1,c.length-1):c.indexOf(",")!==-1?u(c):parseInt(c,10)}function u(c){return c.split(",").map(function(o){return parseInt(o,10)})}},{}],103:[function(M,H,y){var E=[66,77,70];H.exports=function(l){if(l.length<6)throw new Error("invalid buffer length for BMFont");var a=E.every(function(p,_){return l.readUInt8(_)===p});if(!a)throw new Error("BMFont missing BMF byte header");var f=3,i=l.readUInt8(f++);if(i>3)throw new Error("Only supports BMFont Binary v3 (BMFont App v1.10)");for(var h={kernings:[],chars:[]},d=0;d<5;d++)f+=m(h,l,f);return h};function m(s,l,a){if(a>l.length-1)return 0;var f=l.readUInt8(a++),i=l.readInt32LE(a);switch(a+=4,f){case 1:s.info=u(l,a);break;case 2:s.common=c(l,a);break;case 3:s.pages=o(l,a,i);break;case 4:s.chars=n(l,a,i);break;case 5:s.kernings=r(l,a,i);break}return 5+i}function u(s,l){var a={};a.size=s.readInt16LE(l);var f=s.readUInt8(l+2);return a.smooth=f>>7&1,a.unicode=f>>6&1,a.italic=f>>5&1,a.bold=f>>4&1,f>>3&1&&(a.fixedHeight=1),a.charset=s.readUInt8(l+3)||"",a.stretchH=s.readUInt16LE(l+4),a.aa=s.readUInt8(l+6),a.padding=[s.readInt8(l+7),s.readInt8(l+8),s.readInt8(l+9),s.readInt8(l+10)],a.spacing=[s.readInt8(l+11),s.readInt8(l+12)],a.outline=s.readUInt8(l+13),a.face=e(s,l+14),a}function c(s,l){var a={};return a.lineHeight=s.readUInt16LE(l),a.base=s.readUInt16LE(l+2),a.scaleW=s.readUInt16LE(l+4),a.scaleH=s.readUInt16LE(l+6),a.pages=s.readUInt16LE(l+8),s.readUInt8(l+10),a.packed=0,a.alphaChnl=s.readUInt8(l+11),a.redChnl=s.readUInt8(l+12),a.greenChnl=s.readUInt8(l+13),a.blueChnl=s.readUInt8(l+14),a}function o(s,l,a){for(var f=[],i=t(s,l),h=i.length+1,d=a/h,p=0;p<d;p++)f[p]=s.slice(l,l+i.length).toString("utf8"),l+=h;return f}function n(s,l,a){for(var f=[],i=a/20,h=0;h<i;h++){var d={},p=h*20;d.id=s.readUInt32LE(l+0+p),d.x=s.readUInt16LE(l+4+p),d.y=s.readUInt16LE(l+6+p),d.width=s.readUInt16LE(l+8+p),d.height=s.readUInt16LE(l+10+p),d.xoffset=s.readInt16LE(l+12+p),d.yoffset=s.readInt16LE(l+14+p),d.xadvance=s.readInt16LE(l+16+p),d.page=s.readUInt8(l+18+p),d.chnl=s.readUInt8(l+19+p),f[h]=d}return f}function r(s,l,a){for(var f=[],i=a/10,h=0;h<i;h++){var d={},p=h*10;d.first=s.readUInt32LE(l+0+p),d.second=s.readUInt32LE(l+4+p),d.amount=s.readInt16LE(l+8+p),f[h]=d}return f}function t(s,l){for(var a=l;a<s.length&&s[a]!==0;a++);return s.slice(l,a)}function e(s,l){return t(s,l).toString("utf8")}},{}],104:[function(M,H,y){var E=M("./parse-attribs"),m=M("xml-parse-from-string"),u={scaleh:"scaleH",scalew:"scaleW",stretchh:"stretchH",lineheight:"lineHeight",alphachnl:"alphaChnl",redchnl:"redChnl",greenchnl:"greenChnl",bluechnl:"blueChnl"};H.exports=function(t){t=t.toString();var e=m(t),s={pages:[],chars:[],kernings:[]};["info","common"].forEach(function(p){var _=e.getElementsByTagName(p)[0];_&&(s[p]=E(c(_)))});var l=e.getElementsByTagName("pages")[0];if(!l)throw new Error("malformed file -- no <pages> element");for(var a=l.getElementsByTagName("page"),f=0;f<a.length;f++){var i=a[f],h=parseInt(i.getAttribute("id"),10),d=i.getAttribute("file");if(isNaN(h))throw new Error('malformed file -- page "id" attribute is NaN');if(!d)throw new Error('malformed file -- needs page "file" attribute');s.pages[parseInt(h,10)]=d}return["chars","kernings"].forEach(function(p){var _=e.getElementsByTagName(p)[0];if(_)for(var g=p.substring(0,p.length-1),b=_.getElementsByTagName(g),w=0;w<b.length;w++){var A=b[w];s[p].push(E(c(A)))}}),s};function c(r){var t=o(r);return t.reduce(function(e,s){var l=n(s.nodeName);return e[l]=s.nodeValue,e},{})}function o(r){for(var t=[],e=0;e<r.attributes.length;e++)t.push(r.attributes[e]);return t}function n(r){return u[r.toLowerCase()]||r}},{"./parse-attribs":105,"xml-parse-from-string":188}],105:[function(M,H,y){var E="chasrset";H.exports=function(c){E in c&&(c.charset=c[E],delete c[E]);for(var o in c)o==="face"||o==="charset"||(o==="padding"||o==="spacing"?c[o]=m(c[o]):c[o]=parseInt(c[o],10));return c};function m(u){return u.split(",").map(function(c){return parseInt(c,10)})}},{}],106:[function(M,H,y){var E=M("trim"),m=M("for-each"),u=function(c){return Object.prototype.toString.call(c)==="[object Array]"};H.exports=function(c){if(!c)return{};var o={};return m(E(c).split(`
`),function(n){var r=n.indexOf(":"),t=E(n.slice(0,r)).toLowerCase(),e=E(n.slice(r+1));typeof o[t]>"u"?o[t]=e:u(o[t])?o[t].push(e):o[t]=[o[t],e]}),o}},{"for-each":63,trim:179}],107:[function(M,H,y){(function(E){function m(n,r){for(var t=0,e=n.length-1;e>=0;e--){var s=n[e];s==="."?n.splice(e,1):s===".."?(n.splice(e,1),t++):t&&(n.splice(e,1),t--)}if(r)for(;t--;t)n.unshift("..");return n}y.resolve=function(){for(var n="",r=!1,t=arguments.length-1;t>=-1&&!r;t--){var e=t>=0?arguments[t]:E.cwd();if(typeof e!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!e)continue;n=e+"/"+n,r=e.charAt(0)==="/"}return n=m(c(n.split("/"),function(s){return!!s}),!r).join("/"),(r?"/":"")+n||"."},y.normalize=function(n){var r=y.isAbsolute(n),t=o(n,-1)==="/";return n=m(c(n.split("/"),function(e){return!!e}),!r).join("/"),!n&&!r&&(n="."),n&&t&&(n+="/"),(r?"/":"")+n},y.isAbsolute=function(n){return n.charAt(0)==="/"},y.join=function(){var n=Array.prototype.slice.call(arguments,0);return y.normalize(c(n,function(r,t){if(typeof r!="string")throw new TypeError("Arguments to path.join must be strings");return r}).join("/"))},y.relative=function(n,r){n=y.resolve(n).substr(1),r=y.resolve(r).substr(1);function t(h){for(var d=0;d<h.length&&h[d]==="";d++);for(var p=h.length-1;p>=0&&h[p]==="";p--);return d>p?[]:h.slice(d,p-d+1)}for(var e=t(n.split("/")),s=t(r.split("/")),l=Math.min(e.length,s.length),a=l,f=0;f<l;f++)if(e[f]!==s[f]){a=f;break}for(var i=[],f=a;f<e.length;f++)i.push("..");return i=i.concat(s.slice(a)),i.join("/")},y.sep="/",y.delimiter=":",y.dirname=function(n){if(typeof n!="string"&&(n=n+""),n.length===0)return".";for(var r=n.charCodeAt(0),t=r===47,e=-1,s=!0,l=n.length-1;l>=1;--l)if(r=n.charCodeAt(l),r===47){if(!s){e=l;break}}else s=!1;return e===-1?t?"/":".":t&&e===1?"/":n.slice(0,e)};function u(n){typeof n!="string"&&(n=n+"");var r=0,t=-1,e=!0,s;for(s=n.length-1;s>=0;--s)if(n.charCodeAt(s)===47){if(!e){r=s+1;break}}else t===-1&&(e=!1,t=s+1);return t===-1?"":n.slice(r,t)}y.basename=function(n,r){var t=u(n);return r&&t.substr(-1*r.length)===r&&(t=t.substr(0,t.length-r.length)),t},y.extname=function(n){typeof n!="string"&&(n=n+"");for(var r=-1,t=0,e=-1,s=!0,l=0,a=n.length-1;a>=0;--a){var f=n.charCodeAt(a);if(f===47){if(!s){t=a+1;break}continue}e===-1&&(s=!1,e=a+1),f===46?r===-1?r=a:l!==1&&(l=1):r!==-1&&(l=-1)}return r===-1||e===-1||l===0||l===1&&r===e-1&&r===t+1?"":n.slice(r,e)};function c(n,r){if(n.filter)return n.filter(r);for(var t=[],e=0;e<n.length;e++)r(n[e],e,n)&&t.push(n[e]);return t}var o="ab".substr(-1)==="b"?function(n,r,t){return n.substr(r,t)}:function(n,r,t){return r<0&&(r=n.length+r),n.substr(r,t)}}).call(this,M("_process"))},{_process:133}],108:[function(M,H,y){(function(E){var m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},u=M("http"),c=M("https"),o=M("url"),n=M("querystring"),r=M("zlib"),t=M("util"),e=function(l,a){if(typeof l!="string"&&!l.hasOwnProperty("url"))throw new Error("Missing url option from options for request method.");var f=(typeof l>"u"?"undefined":m(l))==="object"?o.parse(l.url):o.parse(l),i={hostname:f.hostname,port:f.port||(f.protocol.toLowerCase()==="http:"?80:443),path:f.path,method:"GET",headers:{},auth:f.auth||null,parse:"none",stream:!1};if((typeof l>"u"?"undefined":m(l))==="object"&&(i=Object.assign(i,l)),i.port=Number(i.port),i.hasOwnProperty("timeout")&&delete i.timeout,i.compressed===!0&&(i.headers["accept-encoding"]="gzip, deflate"),l.hasOwnProperty("form")){if(m(l.form)!=="object")throw new Error("phin 'form' option must be of type Object if present.");var h=n.stringify(l.form);i.headers["Content-Type"]="application/x-www-form-urlencoded",i.headers["Content-Length"]=E.byteLength(h),l.data=h}var d=void 0,p=function(w){var A=w;i.compressed===!0&&(w.headers["content-encoding"]==="gzip"?A=w.pipe(r.createGunzip()):w.headers["content-encoding"]==="deflate"&&(A=w.pipe(r.createInflate()))),i.stream===!0?(w.stream=A,a(null,w)):(w.body=new E([]),A.on("data",function(R){w.body=E.concat([w.body,R])}),A.on("end",function(){if(a){if(i.parse==="json")try{w.body=JSON.parse(w.body.toString())}catch{a("Invalid JSON received.",w);return}a(null,w)}}))};switch(f.protocol.toLowerCase()){case"http:":d=u.request(i,p);break;case"https:":d=c.request(i,p);break;default:a&&a(new Error("Invalid / unknown URL protocol. Expected HTTP or HTTPS."),null);return}if(typeof l.timeout=="number"&&d.setTimeout(l.timeout,function(){d.abort(),a(new Error("Timeout has been reached."),null),a=null}),d.on("error",function(b){a&&a(b,null)}),l.hasOwnProperty("data")){var _=l.data;if(!(l.data instanceof E)&&m(l.data)==="object"){var g=i.headers["content-type"]||i.headers["Content-Type"];if(g==="application/x-www-form-urlencoded")_=n.stringify(l.data);else try{_=JSON.stringify(l.data)}catch{a(new Error("Couldn't stringify object. (Likely due to a circular reference.)"),null)}}d.write(_)}d.end()};e.promisified=function(s,l){return new Promise(function(a,f){e(s,function(i,h){i?f(i):a(h)})})},t.promisify&&(e[t.promisify.custom]=e.promisified),H.exports=e}).call(this,M("buffer").Buffer)},{buffer:48,http:156,https:72,querystring:137,url:180,util:186,zlib:35}],109:[function(M,H,y){H.exports=E;function E(s,l,a,f,i,h){h||(h={});for(var d=h.threshold===void 0?.1:h.threshold,p=35215*d*d,_=0,g=0;g<i;g++)for(var b=0;b<f;b++){var w=(g*f+b)*4,A=u(s,l,w,w);if(A>p)!h.includeAA&&(m(s,b,g,f,i,l)||m(l,b,g,f,i,s))?a&&t(a,w,255,255,0):(a&&t(a,w,255,0,0),_++);else if(a){var R=r(e(s,w),.1);t(a,w,R,R,R)}}return _}function m(s,l,a,f,i,h){for(var d=Math.max(l-1,0),p=Math.max(a-1,0),_=Math.min(l+1,f-1),g=Math.min(a+1,i-1),b=(a*f+l)*4,w=0,A=0,R=0,B=0,T=0,z,F,D,O,k=d;k<=_;k++)for(var G=p;G<=g;G++)if(!(k===l&&G===a)){var J=u(s,s,b,(G*f+k)*4,!0);if(J===0?w++:J<0?R++:J>0&&A++,w>2)return!1;h&&(J<B&&(B=J,z=k,F=G),J>T&&(T=J,D=k,O=G))}return h?R===0||A===0?!1:!m(s,z,F,f,i)&&!m(h,z,F,f,i)||!m(s,D,O,f,i)&&!m(h,D,O,f,i):!0}function u(s,l,a,f,i){var h=s[a+3]/255,d=l[f+3]/255,p=r(s[a+0],h),_=r(s[a+1],h),g=r(s[a+2],h),b=r(l[f+0],d),w=r(l[f+1],d),A=r(l[f+2],d),R=c(p,_,g)-c(b,w,A);if(i)return R;var B=o(p,_,g)-o(b,w,A),T=n(p,_,g)-n(b,w,A);return .5053*R*R+.299*B*B+.1957*T*T}function c(s,l,a){return s*.29889531+l*.58662247+a*.11448223}function o(s,l,a){return s*.59597799-l*.2741761-a*.32180189}function n(s,l,a){return s*.21147017-l*.52261711+a*.31114694}function r(s,l){return 255+(s-255)*l}function t(s,l,a,f,i){s[l+0]=a,s[l+1]=f,s[l+2]=i,s[l+3]=255}function e(s,l){var a=s[l+3]/255,f=r(s[l+0],a),i=r(s[l+1],a),h=r(s[l+2],a);return c(f,i,h)}},{}],110:[function(M,H,y){(function(E){var m=M("./interlace"),u={1:{0:0,1:0,2:0,3:255},2:{0:0,1:0,2:0,3:1},3:{0:0,1:1,2:2,3:255},4:{0:0,1:1,2:2,3:3}};function c(r,t){var e=[],s=0;function l(){if(s===r.length)throw new Error("Ran out of data");var a=r[s];s++;var f,i,h,d,p,_,g,b;switch(t){default:throw new Error("unrecognised depth");case 16:g=r[s],s++,e.push((a<<8)+g);break;case 4:g=a&15,b=a>>4,e.push(b,g);break;case 2:p=a&3,_=a>>2&3,g=a>>4&3,b=a>>6&3,e.push(b,g,_,p);break;case 1:f=a&1,i=a>>1&1,h=a>>2&1,d=a>>3&1,p=a>>4&1,_=a>>5&1,g=a>>6&1,b=a>>7&1,e.push(b,g,_,p,d,h,i,f);break}}return{get:function(a){for(;e.length<a;)l();var f=e.slice(0,a);return e=e.slice(a),f},resetAfterLine:function(){e.length=0},end:function(){if(s!==r.length)throw new Error("extra data found")}}}function o(r,t,e,s,l,a){for(var f=r.width,i=r.height,h=r.index,d=0;d<i;d++)for(var p=0;p<f;p++){for(var _=e(p,d,h),g=0;g<4;g++){var b=u[s][g];if(b===255)t[_+g]=255;else{var w=b+a;if(w===l.length)throw new Error("Ran out of data");t[_+g]=l[w]}}a+=s}return a}function n(r,t,e,s,l,a){for(var f=r.width,i=r.height,h=r.index,d=0;d<i;d++){for(var p=0;p<f;p++)for(var _=l.get(s),g=e(p,d,h),b=0;b<4;b++){var w=u[s][b];t[g+b]=w!==255?_[w]:a}l.resetAfterLine()}}y.dataToBitMap=function(r,t){var e=t.width,s=t.height,l=t.depth,a=t.bpp,f=t.interlace;if(l!==8)var i=c(r,l);var h;l<=8?h=new E(e*s*4):h=new Uint16Array(e*s*4);var d=Math.pow(2,l)-1,p=0,_,g;if(f)_=m.getImagePasses(e,s),g=m.getInterlaceIterator(e,s);else{var b=0;g=function(){var A=b;return b+=4,A},_=[{width:e,height:s}]}for(var w=0;w<_.length;w++)l===8?p=o(_[w],h,g,a,r,p):n(_[w],h,g,a,i,d);if(l===8){if(p!==r.length)throw new Error("extra data found")}else i.end();return h}}).call(this,M("buffer").Buffer)},{"./interlace":120,buffer:48}],111:[function(M,H,y){(function(E){var m=M("./constants");H.exports=function(u,c,o,n){var r=[m.COLORTYPE_COLOR_ALPHA,m.COLORTYPE_ALPHA].indexOf(n.colorType)!==-1;if(n.colorType===n.inputColorType){var t=function(){var A=new ArrayBuffer(2);return new DataView(A).setInt16(0,256,!0),new Int16Array(A)[0]!==256}();if(n.bitDepth===8||n.bitDepth===16&&t)return u}var e=n.bitDepth!==16?u:new Uint16Array(u.buffer),s=255,l=m.COLORTYPE_TO_BPP_MAP[n.inputColorType];l==4&&!n.inputHasAlpha&&(l=3);var a=m.COLORTYPE_TO_BPP_MAP[n.colorType];n.bitDepth===16&&(s=65535,a*=2);var f=new E(c*o*a),i=0,h=0,d=n.bgColor||{};d.red===void 0&&(d.red=s),d.green===void 0&&(d.green=s),d.blue===void 0&&(d.blue=s);function p(A,R){var B,T,z,F=s;switch(n.inputColorType){case m.COLORTYPE_COLOR_ALPHA:F=A[R+3],B=A[R],T=A[R+1],z=A[R+2];break;case m.COLORTYPE_COLOR:B=A[R],T=A[R+1],z=A[R+2];break;case m.COLORTYPE_ALPHA:F=A[R+1],B=A[R],T=B,z=B;break;case m.COLORTYPE_GRAYSCALE:B=A[R],T=B,z=B;break;default:throw new Error("input color type:"+n.inputColorType+" is not supported at present")}return n.inputHasAlpha&&(r||(F/=s,B=Math.min(Math.max(Math.round((1-F)*d.red+F*B),0),s),T=Math.min(Math.max(Math.round((1-F)*d.green+F*T),0),s),z=Math.min(Math.max(Math.round((1-F)*d.blue+F*z),0),s))),{red:B,green:T,blue:z,alpha:F}}for(var _=0;_<o;_++)for(var g=0;g<c;g++){var b=p(e,i);switch(n.colorType){case m.COLORTYPE_COLOR_ALPHA:case m.COLORTYPE_COLOR:n.bitDepth===8?(f[h]=b.red,f[h+1]=b.green,f[h+2]=b.blue,r&&(f[h+3]=b.alpha)):(f.writeUInt16BE(b.red,h),f.writeUInt16BE(b.green,h+2),f.writeUInt16BE(b.blue,h+4),r&&f.writeUInt16BE(b.alpha,h+6));break;case m.COLORTYPE_ALPHA:case m.COLORTYPE_GRAYSCALE:var w=(b.red+b.green+b.blue)/3;n.bitDepth===8?(f[h]=w,r&&(f[h+1]=b.alpha)):(f.writeUInt16BE(w,h),r&&f.writeUInt16BE(b.alpha,h+2));break}i+=l,h+=a}return f}}).call(this,M("buffer").Buffer)},{"./constants":113,buffer:48}],112:[function(M,H,y){(function(E,m){var u=M("util"),c=M("stream"),o=H.exports=function(){c.call(this),this._buffers=[],this._buffered=0,this._reads=[],this._paused=!1,this._encoding="utf8",this.writable=!0};u.inherits(o,c),o.prototype.read=function(n,r){this._reads.push({length:Math.abs(n),allowLess:n<0,func:r}),E.nextTick((function(){this._process(),this._paused&&this._reads.length>0&&(this._paused=!1,this.emit("drain"))}).bind(this))},o.prototype.write=function(n,r){if(!this.writable)return this.emit("error",new Error("Stream not writable")),!1;var t;return m.isBuffer(n)?t=n:t=new m(n,r||this._encoding),this._buffers.push(t),this._buffered+=t.length,this._process(),this._reads&&this._reads.length===0&&(this._paused=!0),this.writable&&!this._paused},o.prototype.end=function(n,r){n&&this.write(n,r),this.writable=!1,this._buffers&&(this._buffers.length===0?this._end():(this._buffers.push(null),this._process()))},o.prototype.destroySoon=o.prototype.end,o.prototype._end=function(){this._reads.length>0&&this.emit("error",new Error("There are some read requests waiting on finished stream")),this.destroy()},o.prototype.destroy=function(){this._buffers&&(this.writable=!1,this._reads=null,this._buffers=null,this.emit("close"))},o.prototype._processReadAllowingLess=function(n){this._reads.shift();var r=this._buffers[0];r.length>n.length?(this._buffered-=n.length,this._buffers[0]=r.slice(n.length),n.func.call(this,r.slice(0,n.length))):(this._buffered-=r.length,this._buffers.shift(),n.func.call(this,r))},o.prototype._processRead=function(n){this._reads.shift();for(var r=0,t=0,e=new m(n.length);r<n.length;){var s=this._buffers[t++],l=Math.min(s.length,n.length-r);s.copy(e,r,0,l),r+=l,l!==s.length&&(this._buffers[--t]=s.slice(l))}t>0&&this._buffers.splice(0,t),this._buffered-=n.length,n.func.call(this,e)},o.prototype._process=function(){try{for(;this._buffered>0&&this._reads&&this._reads.length>0;){var n=this._reads[0];if(n.allowLess)this._processReadAllowingLess(n);else if(this._buffered>=n.length)this._processRead(n);else break}this._buffers&&this._buffers.length>0&&this._buffers[0]===null&&this._end()}catch(r){this.emit("error",r)}}}).call(this,M("_process"),M("buffer").Buffer)},{_process:133,buffer:48,stream:155,util:186}],113:[function(M,H,y){H.exports={PNG_SIGNATURE:[137,80,78,71,13,10,26,10],TYPE_IHDR:1229472850,TYPE_IEND:1229278788,TYPE_IDAT:1229209940,TYPE_PLTE:1347179589,TYPE_tRNS:1951551059,TYPE_gAMA:1732332865,COLORTYPE_GRAYSCALE:0,COLORTYPE_PALETTE:1,COLORTYPE_COLOR:2,COLORTYPE_ALPHA:4,COLORTYPE_PALETTE_COLOR:3,COLORTYPE_COLOR_ALPHA:6,COLORTYPE_TO_BPP_MAP:{0:1,2:3,3:1,4:2,6:4},GAMMA_DIVISION:1e5}},{}],114:[function(M,H,y){var E=[];(function(){for(var u=0;u<256;u++){for(var c=u,o=0;o<8;o++)c&1?c=3988292384^c>>>1:c=c>>>1;E[u]=c}})();var m=H.exports=function(){this._crc=-1};m.prototype.write=function(u){for(var c=0;c<u.length;c++)this._crc=E[(this._crc^u[c])&255]^this._crc>>>8;return!0},m.prototype.crc32=function(){return this._crc^-1},m.crc32=function(u){for(var c=-1,o=0;o<u.length;o++)c=E[(c^u[o])&255]^c>>>8;return c^-1}},{}],115:[function(M,H,y){(function(E){var m=M("./paeth-predictor");function u(h,d,p,_,g){for(var b=0;b<p;b++)_[g+b]=h[d+b]}function c(h,d,p){for(var _=0,g=d+p,b=d;b<g;b++)_+=Math.abs(h[b]);return _}function o(h,d,p,_,g,b){for(var w=0;w<p;w++){var A=w>=b?h[d+w-b]:0,R=h[d+w]-A;_[g+w]=R}}function n(h,d,p,_){for(var g=0,b=0;b<p;b++){var w=b>=_?h[d+b-_]:0,A=h[d+b]-w;g+=Math.abs(A)}return g}function r(h,d,p,_,g){for(var b=0;b<p;b++){var w=d>0?h[d+b-p]:0,A=h[d+b]-w;_[g+b]=A}}function t(h,d,p){for(var _=0,g=d+p,b=d;b<g;b++){var w=d>0?h[b-p]:0,A=h[b]-w;_+=Math.abs(A)}return _}function e(h,d,p,_,g,b){for(var w=0;w<p;w++){var A=w>=b?h[d+w-b]:0,R=d>0?h[d+w-p]:0,B=h[d+w]-(A+R>>1);_[g+w]=B}}function s(h,d,p,_){for(var g=0,b=0;b<p;b++){var w=b>=_?h[d+b-_]:0,A=d>0?h[d+b-p]:0,R=h[d+b]-(w+A>>1);g+=Math.abs(R)}return g}function l(h,d,p,_,g,b){for(var w=0;w<p;w++){var A=w>=b?h[d+w-b]:0,R=d>0?h[d+w-p]:0,B=d>0&&w>=b?h[d+w-(p+b)]:0,T=h[d+w]-m(A,R,B);_[g+w]=T}}function a(h,d,p,_){for(var g=0,b=0;b<p;b++){var w=b>=_?h[d+b-_]:0,A=d>0?h[d+b-p]:0,R=d>0&&b>=_?h[d+b-(p+_)]:0,B=h[d+b]-m(w,A,R);g+=Math.abs(B)}return g}var f={0:u,1:o,2:r,3:e,4:l},i={0:c,1:n,2:t,3:s,4:a};H.exports=function(h,d,p,_,g){var b;if(!("filterType"in _)||_.filterType===-1)b=[0,1,2,3,4];else if(typeof _.filterType=="number")b=[_.filterType];else throw new Error("unrecognised filter types");_.bitDepth===16&&(g*=2);for(var w=d*g,A=0,R=0,B=new E((w+1)*p),T=b[0],z=0;z<p;z++){if(b.length>1)for(var F=1/0,D=0;D<b.length;D++){var O=i[b[D]](h,R,w,g);O<F&&(T=b[D],F=O)}B[A]=T,A++,f[T](h,R,w,B,A,g),A+=w,R+=w}return B}}).call(this,M("buffer").Buffer)},{"./paeth-predictor":124,buffer:48}],116:[function(M,H,y){(function(E){var m=M("util"),u=M("./chunkstream"),c=M("./filter-parse"),o=H.exports=function(n){u.call(this);var r=[],t=this;this._filter=new c(n,{read:this.read.bind(this),write:function(e){r.push(e)},complete:function(){t.emit("complete",E.concat(r))}}),this._filter.start()};m.inherits(o,u)}).call(this,M("buffer").Buffer)},{"./chunkstream":112,"./filter-parse":118,buffer:48,util:186}],117:[function(M,H,y){(function(E){var m=M("./sync-reader"),u=M("./filter-parse");y.process=function(c,o){var n=[],r=new m(c),t=new u(o,{read:r.read.bind(r),write:function(e){n.push(e)},complete:function(){}});return t.start(),r.process(),E.concat(n)}}).call(this,M("buffer").Buffer)},{"./filter-parse":118,"./sync-reader":131,buffer:48}],118:[function(M,H,y){(function(E){var m=M("./interlace"),u=M("./paeth-predictor");function c(n,r,t){var e=n*r;return t!==8&&(e=Math.ceil(e/(8/t))),e}var o=H.exports=function(n,r){var t=n.width,e=n.height,s=n.interlace,l=n.bpp,a=n.depth;if(this.read=r.read,this.write=r.write,this.complete=r.complete,this._imageIndex=0,this._images=[],s)for(var f=m.getImagePasses(t,e),i=0;i<f.length;i++)this._images.push({byteWidth:c(f[i].width,l,a),height:f[i].height,lineIndex:0});else this._images.push({byteWidth:c(t,l,a),height:e,lineIndex:0});a===8?this._xComparison=l:a===16?this._xComparison=l*2:this._xComparison=1};o.prototype.start=function(){this.read(this._images[this._imageIndex].byteWidth+1,this._reverseFilterLine.bind(this))},o.prototype._unFilterType1=function(n,r,t){for(var e=this._xComparison,s=e-1,l=0;l<t;l++){var a=n[1+l],f=l>s?r[l-e]:0;r[l]=a+f}},o.prototype._unFilterType2=function(n,r,t){for(var e=this._lastLine,s=0;s<t;s++){var l=n[1+s],a=e?e[s]:0;r[s]=l+a}},o.prototype._unFilterType3=function(n,r,t){for(var e=this._xComparison,s=e-1,l=this._lastLine,a=0;a<t;a++){var f=n[1+a],i=l?l[a]:0,h=a>s?r[a-e]:0,d=Math.floor((h+i)/2);r[a]=f+d}},o.prototype._unFilterType4=function(n,r,t){for(var e=this._xComparison,s=e-1,l=this._lastLine,a=0;a<t;a++){var f=n[1+a],i=l?l[a]:0,h=a>s?r[a-e]:0,d=a>s&&l?l[a-e]:0,p=u(h,i,d);r[a]=f+p}},o.prototype._reverseFilterLine=function(n){var r=n[0],t,e=this._images[this._imageIndex],s=e.byteWidth;if(r===0)t=n.slice(1,s+1);else switch(t=new E(s),r){case 1:this._unFilterType1(n,t,s);break;case 2:this._unFilterType2(n,t,s);break;case 3:this._unFilterType3(n,t,s);break;case 4:this._unFilterType4(n,t,s);break;default:throw new Error("Unrecognised filter type - "+r)}this.write(t),e.lineIndex++,e.lineIndex>=e.height?(this._lastLine=null,this._imageIndex++,e=this._images[this._imageIndex]):this._lastLine=t,e?this.read(e.byteWidth+1,this._reverseFilterLine.bind(this)):(this._lastLine=null,this.complete())}}).call(this,M("buffer").Buffer)},{"./interlace":120,"./paeth-predictor":124,buffer:48}],119:[function(M,H,y){(function(E){function m(o,n,r,t,e){for(var s=0,l=0;l<t;l++)for(var a=0;a<r;a++){var f=e[o[s]];if(!f)throw new Error("index "+o[s]+" not in palette");for(var i=0;i<4;i++)n[s+i]=f[i];s+=4}}function u(o,n,r,t,e){for(var s=0,l=0;l<t;l++)for(var a=0;a<r;a++){var f=!1;if(e.length===1?e[0]===o[s]&&(f=!0):e[0]===o[s]&&e[1]===o[s+1]&&e[2]===o[s+2]&&(f=!0),f)for(var i=0;i<4;i++)n[s+i]=0;s+=4}}function c(o,n,r,t,e){for(var s=255,l=Math.pow(2,e)-1,a=0,f=0;f<t;f++)for(var i=0;i<r;i++){for(var h=0;h<4;h++)n[a+h]=Math.floor(o[a+h]*s/l+.5);a+=4}}H.exports=function(o,n){var r=n.depth,t=n.width,e=n.height,s=n.colorType,l=n.transColor,a=n.palette,f=o;return s===3?m(o,f,t,e,a):(l&&u(o,f,t,e,l),r!==8&&(r===16&&(f=new E(t*e*4)),c(o,f,t,e,r))),f}}).call(this,M("buffer").Buffer)},{buffer:48}],120:[function(M,H,y){var E=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}];y.getImagePasses=function(m,u){for(var c=[],o=m%8,n=u%8,r=(m-o)/8,t=(u-n)/8,e=0;e<E.length;e++){for(var s=E[e],l=r*s.x.length,a=t*s.y.length,f=0;f<s.x.length&&s.x[f]<o;f++)l++;for(f=0;f<s.y.length&&s.y[f]<n;f++)a++;l>0&&a>0&&c.push({width:l,height:a,index:e})}return c},y.getInterlaceIterator=function(m){return function(u,c,o){var n=u%E[o].x.length,r=(u-n)/E[o].x.length*8+E[o].x[n],t=c%E[o].y.length,e=(c-t)/E[o].y.length*8+E[o].y[t];return r*4+e*m*4}}},{}],121:[function(M,H,y){(function(E){var m=M("util"),u=M("stream"),c=M("./constants"),o=M("./packer"),n=H.exports=function(r){u.call(this);var t=r||{};this._packer=new o(t),this._deflate=this._packer.createDeflate(),this.readable=!0};m.inherits(n,u),n.prototype.pack=function(r,t,e,s){this.emit("data",new E(c.PNG_SIGNATURE)),this.emit("data",this._packer.packIHDR(t,e)),s&&this.emit("data",this._packer.packGAMA(s));var l=this._packer.filterData(r,t,e);this._deflate.on("error",this.emit.bind(this,"error")),this._deflate.on("data",(function(a){this.emit("data",this._packer.packIDAT(a))}).bind(this)),this._deflate.on("end",(function(){this.emit("data",this._packer.packIEND()),this.emit("end")}).bind(this)),this._deflate.end(l)}}).call(this,M("buffer").Buffer)},{"./constants":113,"./packer":123,buffer:48,stream:155,util:186}],122:[function(M,H,y){(function(E){var m=!0,u=M("zlib");u.deflateSync||(m=!1);var c=M("./constants"),o=M("./packer");H.exports=function(n,r){if(!m)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");var t=r||{},e=new o(t),s=[];s.push(new E(c.PNG_SIGNATURE)),s.push(e.packIHDR(n.width,n.height)),n.gamma&&s.push(e.packGAMA(n.gamma));var l=e.filterData(n.data,n.width,n.height),a=u.deflateSync(l,e.getDeflateOptions());if(l=null,!a||!a.length)throw new Error("bad png - invalid compressed data response");return s.push(e.packIDAT(a)),s.push(e.packIEND()),E.concat(s)}}).call(this,M("buffer").Buffer)},{"./constants":113,"./packer":123,buffer:48,zlib:35}],123:[function(M,H,y){(function(E){var m=M("./constants"),u=M("./crc"),c=M("./bitpacker"),o=M("./filter-pack"),n=M("zlib"),r=H.exports=function(t){if(this._options=t,t.deflateChunkSize=t.deflateChunkSize||32*1024,t.deflateLevel=t.deflateLevel!=null?t.deflateLevel:9,t.deflateStrategy=t.deflateStrategy!=null?t.deflateStrategy:3,t.inputHasAlpha=t.inputHasAlpha!=null?t.inputHasAlpha:!0,t.deflateFactory=t.deflateFactory||n.createDeflate,t.bitDepth=t.bitDepth||8,t.colorType=typeof t.colorType=="number"?t.colorType:m.COLORTYPE_COLOR_ALPHA,t.inputColorType=typeof t.inputColorType=="number"?t.inputColorType:m.COLORTYPE_COLOR_ALPHA,[m.COLORTYPE_GRAYSCALE,m.COLORTYPE_COLOR,m.COLORTYPE_COLOR_ALPHA,m.COLORTYPE_ALPHA].indexOf(t.colorType)===-1)throw new Error("option color type:"+t.colorType+" is not supported at present");if([m.COLORTYPE_GRAYSCALE,m.COLORTYPE_COLOR,m.COLORTYPE_COLOR_ALPHA,m.COLORTYPE_ALPHA].indexOf(t.inputColorType)===-1)throw new Error("option input color type:"+t.inputColorType+" is not supported at present");if(t.bitDepth!==8&&t.bitDepth!==16)throw new Error("option bit depth:"+t.bitDepth+" is not supported at present")};r.prototype.getDeflateOptions=function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}},r.prototype.createDeflate=function(){return this._options.deflateFactory(this.getDeflateOptions())},r.prototype.filterData=function(t,e,s){var l=c(t,e,s,this._options),a=m.COLORTYPE_TO_BPP_MAP[this._options.colorType],f=o(l,e,s,this._options,a);return f},r.prototype._packChunk=function(t,e){var s=e?e.length:0,l=new E(s+12);return l.writeUInt32BE(s,0),l.writeUInt32BE(t,4),e&&e.copy(l,8),l.writeInt32BE(u.crc32(l.slice(4,l.length-4)),l.length-4),l},r.prototype.packGAMA=function(t){var e=new E(4);return e.writeUInt32BE(Math.floor(t*m.GAMMA_DIVISION),0),this._packChunk(m.TYPE_gAMA,e)},r.prototype.packIHDR=function(t,e){var s=new E(13);return s.writeUInt32BE(t,0),s.writeUInt32BE(e,4),s[8]=this._options.bitDepth,s[9]=this._options.colorType,s[10]=0,s[11]=0,s[12]=0,this._packChunk(m.TYPE_IHDR,s)},r.prototype.packIDAT=function(t){return this._packChunk(m.TYPE_IDAT,t)},r.prototype.packIEND=function(){return this._packChunk(m.TYPE_IEND,null)}}).call(this,M("buffer").Buffer)},{"./bitpacker":111,"./constants":113,"./crc":114,"./filter-pack":115,buffer:48,zlib:35}],124:[function(M,H,y){H.exports=function(m,u,c){var o=m+u-c,n=Math.abs(o-m),r=Math.abs(o-u),t=Math.abs(o-c);return n<=r&&n<=t?m:r<=t?u:c}},{}],125:[function(M,H,y){var E=M("util"),m=M("zlib"),u=M("./chunkstream"),c=M("./filter-parse-async"),o=M("./parser"),n=M("./bitmapper"),r=M("./format-normaliser"),t=H.exports=function(e){u.call(this),this._parser=new o(e,{read:this.read.bind(this),error:this._handleError.bind(this),metadata:this._handleMetaData.bind(this),gamma:this.emit.bind(this,"gamma"),palette:this._handlePalette.bind(this),transColor:this._handleTransColor.bind(this),finished:this._finished.bind(this),inflateData:this._inflateData.bind(this)}),this._options=e,this.writable=!0,this._parser.start()};E.inherits(t,u),t.prototype._handleError=function(e){this.emit("error",e),this.writable=!1,this.destroy(),this._inflate&&this._inflate.destroy&&this._inflate.destroy(),this._filter&&(this._filter.destroy(),this._filter.on("error",function(){})),this.errord=!0},t.prototype._inflateData=function(e){if(!this._inflate)if(this._bitmapInfo.interlace)this._inflate=m.createInflate(),this._inflate.on("error",this.emit.bind(this,"error")),this._filter.on("complete",this._complete.bind(this)),this._inflate.pipe(this._filter);else{var s=(this._bitmapInfo.width*this._bitmapInfo.bpp*this._bitmapInfo.depth+7>>3)+1,l=s*this._bitmapInfo.height,a=Math.max(l,m.Z_MIN_CHUNK);this._inflate=m.createInflate({chunkSize:a});var f=l,i=this.emit.bind(this,"error");this._inflate.on("error",function(d){f&&i(d)}),this._filter.on("complete",this._complete.bind(this));var h=this._filter.write.bind(this._filter);this._inflate.on("data",function(d){f&&(d.length>f&&(d=d.slice(0,f)),f-=d.length,h(d))}),this._inflate.on("end",this._filter.end.bind(this._filter))}this._inflate.write(e)},t.prototype._handleMetaData=function(e){this.emit("metadata",e),this._bitmapInfo=Object.create(e),this._filter=new c(this._bitmapInfo)},t.prototype._handleTransColor=function(e){this._bitmapInfo.transColor=e},t.prototype._handlePalette=function(e){this._bitmapInfo.palette=e},t.prototype._finished=function(){this.errord||(this._inflate?this._inflate.end():this.emit("error","No Inflate block"),this.destroySoon())},t.prototype._complete=function(e){if(!this.errord){try{var s=n.dataToBitMap(e,this._bitmapInfo),l=r(s,this._bitmapInfo);s=null}catch(a){this._handleError(a);return}this.emit("parsed",l)}}},{"./bitmapper":110,"./chunkstream":112,"./filter-parse-async":116,"./format-normaliser":119,"./parser":127,util:186,zlib:35}],126:[function(M,H,y){(function(E){var m=!0,u=M("zlib"),c=M("./sync-inflate");u.deflateSync||(m=!1);var o=M("./sync-reader"),n=M("./filter-parse-sync"),r=M("./parser"),t=M("./bitmapper"),e=M("./format-normaliser");H.exports=function(s,l){if(!m)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");var a;function f(G){a=G}var i;function h(G){i=G}function d(G){i.transColor=G}function p(G){i.palette=G}var _;function g(G){_=G}var b=[];function w(G){b.push(G)}var A=new o(s),R=new r(l,{read:A.read.bind(A),error:f,metadata:h,gamma:g,palette:p,transColor:d,inflateData:w});if(R.start(),A.process(),a)throw a;var B=E.concat(b);b.length=0;var T;if(i.interlace)T=u.inflateSync(B);else{var z=(i.width*i.bpp*i.depth+7>>3)+1,F=z*i.height;T=c(B,{chunkSize:F,maxLength:F})}if(B=null,!T||!T.length)throw new Error("bad png - invalid inflate data response");var D=n.process(T,i);B=null;var O=t.dataToBitMap(D,i);D=null;var k=e(O,i);return i.data=k,i.gamma=_||0,i}}).call(this,M("buffer").Buffer)},{"./bitmapper":110,"./filter-parse-sync":117,"./format-normaliser":119,"./parser":127,"./sync-inflate":130,"./sync-reader":131,buffer:48,zlib:35}],127:[function(M,H,y){(function(E){var m=M("./constants"),u=M("./crc"),c=H.exports=function(o,n){this._options=o,o.checkCRC=o.checkCRC!==!1,this._hasIHDR=!1,this._hasIEND=!1,this._palette=[],this._colorType=0,this._chunks={},this._chunks[m.TYPE_IHDR]=this._handleIHDR.bind(this),this._chunks[m.TYPE_IEND]=this._handleIEND.bind(this),this._chunks[m.TYPE_IDAT]=this._handleIDAT.bind(this),this._chunks[m.TYPE_PLTE]=this._handlePLTE.bind(this),this._chunks[m.TYPE_tRNS]=this._handleTRNS.bind(this),this._chunks[m.TYPE_gAMA]=this._handleGAMA.bind(this),this.read=n.read,this.error=n.error,this.metadata=n.metadata,this.gamma=n.gamma,this.transColor=n.transColor,this.palette=n.palette,this.parsed=n.parsed,this.inflateData=n.inflateData,this.finished=n.finished};c.prototype.start=function(){this.read(m.PNG_SIGNATURE.length,this._parseSignature.bind(this))},c.prototype._parseSignature=function(o){for(var n=m.PNG_SIGNATURE,r=0;r<n.length;r++)if(o[r]!==n[r]){this.error(new Error("Invalid file signature"));return}this.read(8,this._parseChunkBegin.bind(this))},c.prototype._parseChunkBegin=function(o){for(var n=o.readUInt32BE(0),r=o.readUInt32BE(4),t="",e=4;e<8;e++)t+=String.fromCharCode(o[e]);var s=!!(o[4]&32);if(!this._hasIHDR&&r!==m.TYPE_IHDR){this.error(new Error("Expected IHDR on beggining"));return}if(this._crc=new u,this._crc.write(new E(t)),this._chunks[r])return this._chunks[r](n);if(!s){this.error(new Error("Unsupported critical chunk type "+t));return}this.read(n+4,this._skipChunk.bind(this))},c.prototype._skipChunk=function(){this.read(8,this._parseChunkBegin.bind(this))},c.prototype._handleChunkEnd=function(){this.read(4,this._parseChunkEnd.bind(this))},c.prototype._parseChunkEnd=function(o){var n=o.readInt32BE(0),r=this._crc.crc32();if(this._options.checkCRC&&r!==n){this.error(new Error("Crc error - "+n+" - "+r));return}this._hasIEND||this.read(8,this._parseChunkBegin.bind(this))},c.prototype._handleIHDR=function(o){this.read(o,this._parseIHDR.bind(this))},c.prototype._parseIHDR=function(o){this._crc.write(o);var n=o.readUInt32BE(0),r=o.readUInt32BE(4),t=o[8],e=o[9],s=o[10],l=o[11],a=o[12];if(t!==8&&t!==4&&t!==2&&t!==1&&t!==16){this.error(new Error("Unsupported bit depth "+t));return}if(!(e in m.COLORTYPE_TO_BPP_MAP)){this.error(new Error("Unsupported color type"));return}if(s!==0){this.error(new Error("Unsupported compression method"));return}if(l!==0){this.error(new Error("Unsupported filter method"));return}if(a!==0&&a!==1){this.error(new Error("Unsupported interlace method"));return}this._colorType=e;var f=m.COLORTYPE_TO_BPP_MAP[this._colorType];this._hasIHDR=!0,this.metadata({width:n,height:r,depth:t,interlace:!!a,palette:!!(e&m.COLORTYPE_PALETTE),color:!!(e&m.COLORTYPE_COLOR),alpha:!!(e&m.COLORTYPE_ALPHA),bpp:f,colorType:e}),this._handleChunkEnd()},c.prototype._handlePLTE=function(o){this.read(o,this._parsePLTE.bind(this))},c.prototype._parsePLTE=function(o){this._crc.write(o);for(var n=Math.floor(o.length/3),r=0;r<n;r++)this._palette.push([o[r*3],o[r*3+1],o[r*3+2],255]);this.palette(this._palette),this._handleChunkEnd()},c.prototype._handleTRNS=function(o){this.read(o,this._parseTRNS.bind(this))},c.prototype._parseTRNS=function(o){if(this._crc.write(o),this._colorType===m.COLORTYPE_PALETTE_COLOR){if(this._palette.length===0){this.error(new Error("Transparency chunk must be after palette"));return}if(o.length>this._palette.length){this.error(new Error("More transparent colors than palette size"));return}for(var n=0;n<o.length;n++)this._palette[n][3]=o[n];this.palette(this._palette)}this._colorType===m.COLORTYPE_GRAYSCALE&&this.transColor([o.readUInt16BE(0)]),this._colorType===m.COLORTYPE_COLOR&&this.transColor([o.readUInt16BE(0),o.readUInt16BE(2),o.readUInt16BE(4)]),this._handleChunkEnd()},c.prototype._handleGAMA=function(o){this.read(o,this._parseGAMA.bind(this))},c.prototype._parseGAMA=function(o){this._crc.write(o),this.gamma(o.readUInt32BE(0)/m.GAMMA_DIVISION),this._handleChunkEnd()},c.prototype._handleIDAT=function(o){this.read(-o,this._parseIDAT.bind(this,o))},c.prototype._parseIDAT=function(o,n){if(this._crc.write(n),this._colorType===m.COLORTYPE_PALETTE_COLOR&&this._palette.length===0)throw new Error("Expected palette not found");this.inflateData(n);var r=o-n.length;r>0?this._handleIDAT(r):this._handleChunkEnd()},c.prototype._handleIEND=function(o){this.read(o,this._parseIEND.bind(this))},c.prototype._parseIEND=function(o){this._crc.write(o),this._hasIEND=!0,this._handleChunkEnd(),this.finished&&this.finished()}}).call(this,M("buffer").Buffer)},{"./constants":113,"./crc":114,buffer:48}],128:[function(M,H,y){var E=M("./parser-sync"),m=M("./packer-sync");y.read=function(u,c){return E(u,c||{})},y.write=function(u,c){return m(u,c)}},{"./packer-sync":122,"./parser-sync":126}],129:[function(M,H,y){(function(E,m){var u=M("util"),c=M("stream"),o=M("./parser-async"),n=M("./packer-async"),r=M("./png-sync"),t=y.PNG=function(e){c.call(this),e=e||{},this.width=e.width|0,this.height=e.height|0,this.data=this.width>0&&this.height>0?new m(4*this.width*this.height):null,e.fill&&this.data&&this.data.fill(0),this.gamma=0,this.readable=this.writable=!0,this._parser=new o(e),this._parser.on("error",this.emit.bind(this,"error")),this._parser.on("close",this._handleClose.bind(this)),this._parser.on("metadata",this._metadata.bind(this)),this._parser.on("gamma",this._gamma.bind(this)),this._parser.on("parsed",(function(s){this.data=s,this.emit("parsed",s)}).bind(this)),this._packer=new n(e),this._packer.on("data",this.emit.bind(this,"data")),this._packer.on("end",this.emit.bind(this,"end")),this._parser.on("close",this._handleClose.bind(this)),this._packer.on("error",this.emit.bind(this,"error"))};u.inherits(t,c),t.sync=r,t.prototype.pack=function(){return!this.data||!this.data.length?(this.emit("error","No data provided"),this):(E.nextTick((function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}).bind(this)),this)},t.prototype.parse=function(e,s){if(s){var l,a;l=(function(f){this.removeListener("error",a),this.data=f,s(null,this)}).bind(this),a=(function(f){this.removeListener("parsed",l),s(f,null)}).bind(this),this.once("parsed",l),this.once("error",a)}return this.end(e),this},t.prototype.write=function(e){return this._parser.write(e),!0},t.prototype.end=function(e){this._parser.end(e)},t.prototype._metadata=function(e){this.width=e.width,this.height=e.height,this.emit("metadata",e)},t.prototype._gamma=function(e){this.gamma=e},t.prototype._handleClose=function(){!this._parser.writable&&!this._packer.readable&&this.emit("close")},t.bitblt=function(e,s,l,a,f,i,h,d){if(l|=0,a|=0,f|=0,i|=0,h|=0,d|=0,l>e.width||a>e.height||l+f>e.width||a+i>e.height)throw new Error("bitblt reading outside image");if(h>s.width||d>s.height||h+f>s.width||d+i>s.height)throw new Error("bitblt writing outside image");for(var p=0;p<i;p++)e.data.copy(s.data,(d+p)*s.width+h<<2,(a+p)*e.width+l<<2,(a+p)*e.width+l+f<<2)},t.prototype.bitblt=function(e,s,l,a,f,i,h){return t.bitblt(this,e,s,l,a,f,i,h),this},t.adjustGamma=function(e){if(e.gamma){for(var s=0;s<e.height;s++)for(var l=0;l<e.width;l++)for(var a=e.width*s+l<<2,f=0;f<3;f++){var i=e.data[a+f]/255;i=Math.pow(i,1/2.2/e.gamma),e.data[a+f]=Math.round(i*255)}e.gamma=0}},t.prototype.adjustGamma=function(){t.adjustGamma(this)}}).call(this,M("_process"),M("buffer").Buffer)},{"./packer-async":121,"./parser-async":125,"./png-sync":128,_process:133,buffer:48,stream:155,util:186}],130:[function(M,H,y){(function(E,m){var u=M("assert").ok,c=M("zlib"),o=M("util"),n=M("buffer").kMaxLength;function r(a){if(!(this instanceof r))return new r(a);a&&a.chunkSize<c.Z_MIN_CHUNK&&(a.chunkSize=c.Z_MIN_CHUNK),c.Inflate.call(this,a),this._offset=this._offset===void 0?this._outOffset:this._offset,this._buffer=this._buffer||this._outBuffer,a&&a.maxLength!=null&&(this._maxLength=a.maxLength)}function t(a){return new r(a)}function e(a,f){a._handle&&(a._handle.close(),a._handle=null)}r.prototype._processChunk=function(a,f,i){if(typeof i=="function")return c.Inflate._processChunk.call(this,a,f,i);var h=this,d=a&&a.length,p=this._chunkSize-this._offset,_=this._maxLength,g=0,b=[],w=0,A;this.on("error",function(z){A=z});function R(z,F){if(!h._hadError){var D=p-F;if(u(D>=0,"have should not go down"),D>0){var O=h._buffer.slice(h._offset,h._offset+D);if(h._offset+=D,O.length>_&&(O=O.slice(0,_)),b.push(O),w+=O.length,_-=O.length,_===0)return!1}return(F===0||h._offset>=h._chunkSize)&&(p=h._chunkSize,h._offset=0,h._buffer=m.allocUnsafe(h._chunkSize)),F===0?(g+=d-z,d=z,!0):!1}}u(this._handle,"zlib binding closed");do{var B=this._handle.writeSync(f,a,g,d,this._buffer,this._offset,p);B=B||this._writeState}while(!this._hadError&&R(B[0],B[1]));if(this._hadError)throw A;if(w>=n)throw e(this),new RangeError("Cannot create final Buffer. It would be larger than 0x"+n.toString(16)+" bytes");var T=m.concat(b,w);return e(this),T},o.inherits(r,c.Inflate);function s(a,f){if(typeof f=="string"&&(f=m.from(f)),!(f instanceof m))throw new TypeError("Not a string or buffer");var i=a._finishFlushFlag;return i==null&&(i=c.Z_FINISH),a._processChunk(f,i)}function l(a,f){return s(new r(f),a)}H.exports=y=l,y.Inflate=r,y.createInflate=t,y.inflateSync=l}).call(this,M("_process"),M("buffer").Buffer)},{_process:133,assert:25,buffer:48,util:186,zlib:35}],131:[function(M,H,y){var E=H.exports=function(m){this._buffer=m,this._reads=[]};E.prototype.read=function(m,u){this._reads.push({length:Math.abs(m),allowLess:m<0,func:u})},E.prototype.process=function(){for(;this._reads.length>0&&this._buffer.length;){var m=this._reads[0];if(this._buffer.length&&(this._buffer.length>=m.length||m.allowLess)){this._reads.shift();var u=this._buffer;this._buffer=u.slice(m.length),m.func.call(this,u.slice(0,m.length))}else break}if(this._reads.length>0)return new Error("There are some read requests waitng on finished stream");if(this._buffer.length>0)return new Error("unrecognised content at end of stream")}},{}],132:[function(M,H,y){(function(E){typeof E>"u"||!E.version||E.version.indexOf("v0.")===0||E.version.indexOf("v1.")===0&&E.version.indexOf("v1.8.")!==0?H.exports={nextTick:m}:H.exports=E;function m(u,c,o,n){if(typeof u!="function")throw new TypeError('"callback" argument must be a function');var r=arguments.length,t,e;switch(r){case 0:case 1:return E.nextTick(u);case 2:return E.nextTick(function(){u.call(null,c)});case 3:return E.nextTick(function(){u.call(null,c,o)});case 4:return E.nextTick(function(){u.call(null,c,o,n)});default:for(t=new Array(r-1),e=0;e<t.length;)t[e++]=arguments[e];return E.nextTick(function(){u.apply(null,t)})}}}).call(this,M("_process"))},{_process:133}],133:[function(M,H,y){var E=H.exports={},m,u;function c(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?m=setTimeout:m=c}catch{m=c}try{typeof clearTimeout=="function"?u=clearTimeout:u=o}catch{u=o}})();function n(d){if(m===setTimeout)return setTimeout(d,0);if((m===c||!m)&&setTimeout)return m=setTimeout,setTimeout(d,0);try{return m(d,0)}catch{try{return m.call(null,d,0)}catch{return m.call(this,d,0)}}}function r(d){if(u===clearTimeout)return clearTimeout(d);if((u===o||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(d);try{return u(d)}catch{try{return u.call(null,d)}catch{return u.call(this,d)}}}var t=[],e=!1,s,l=-1;function a(){!e||!s||(e=!1,s.length?t=s.concat(t):l=-1,t.length&&f())}function f(){if(!e){var d=n(a);e=!0;for(var p=t.length;p;){for(s=t,t=[];++l<p;)s&&s[l].run();l=-1,p=t.length}s=null,e=!1,r(d)}}E.nextTick=function(d){var p=new Array(arguments.length-1);if(arguments.length>1)for(var _=1;_<arguments.length;_++)p[_-1]=arguments[_];t.push(new i(d,p)),t.length===1&&!e&&n(f)};function i(d,p){this.fun=d,this.array=p}i.prototype.run=function(){this.fun.apply(null,this.array)},E.title="browser",E.browser=!0,E.env={},E.argv=[],E.version="",E.versions={};function h(){}E.on=h,E.addListener=h,E.once=h,E.off=h,E.removeListener=h,E.removeAllListeners=h,E.emit=h,E.prependListener=h,E.prependOnceListener=h,E.listeners=function(d){return[]},E.binding=function(d){throw new Error("process.binding is not supported")},E.cwd=function(){return"/"},E.chdir=function(d){throw new Error("process.chdir is not supported")},E.umask=function(){return 0}},{}],134:[function(M,H,y){(function(E){(function(m){var u=typeof y=="object"&&y&&!y.nodeType&&y,c=typeof H=="object"&&H&&!H.nodeType&&H,o=typeof E=="object"&&E;(o.global===o||o.window===o||o.self===o)&&(m=o);var n,r=2147483647,t=36,e=1,s=26,l=38,a=700,f=72,i=128,h="-",d=/^xn--/,p=/[^\x20-\x7E]/,_=/[\x2E\u3002\uFF0E\uFF61]/g,g={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},b=t-e,w=Math.floor,A=String.fromCharCode,R;function B(Y){throw new RangeError(g[Y])}function T(Y,W){for(var Q=Y.length,re=[];Q--;)re[Q]=W(Y[Q]);return re}function z(Y,W){var Q=Y.split("@"),re="";Q.length>1&&(re=Q[0]+"@",Y=Q[1]),Y=Y.replace(_,".");var ue=Y.split("."),le=T(ue,W).join(".");return re+le}function F(Y){for(var W=[],Q=0,re=Y.length,ue,le;Q<re;)ue=Y.charCodeAt(Q++),ue>=55296&&ue<=56319&&Q<re?(le=Y.charCodeAt(Q++),(le&64512)==56320?W.push(((ue&1023)<<10)+(le&1023)+65536):(W.push(ue),Q--)):W.push(ue);return W}function D(Y){return T(Y,function(W){var Q="";return W>65535&&(W-=65536,Q+=A(W>>>10&1023|55296),W=56320|W&1023),Q+=A(W),Q}).join("")}function O(Y){return Y-48<10?Y-22:Y-65<26?Y-65:Y-97<26?Y-97:t}function k(Y,W){return Y+22+75*(Y<26)-((W!=0)<<5)}function G(Y,W,Q){var re=0;for(Y=Q?w(Y/a):Y>>1,Y+=w(Y/W);Y>b*s>>1;re+=t)Y=w(Y/b);return w(re+(b+1)*Y/(Y+l))}function J(Y){var W=[],Q=Y.length,re,ue=0,le=i,he=f,ge,ie,ae,V,q,te,U,L,P;for(ge=Y.lastIndexOf(h),ge<0&&(ge=0),ie=0;ie<ge;++ie)Y.charCodeAt(ie)>=128&&B("not-basic"),W.push(Y.charCodeAt(ie));for(ae=ge>0?ge+1:0;ae<Q;){for(V=ue,q=1,te=t;ae>=Q&&B("invalid-input"),U=O(Y.charCodeAt(ae++)),(U>=t||U>w((r-ue)/q))&&B("overflow"),ue+=U*q,L=te<=he?e:te>=he+s?s:te-he,!(U<L);te+=t)P=t-L,q>w(r/P)&&B("overflow"),q*=P;re=W.length+1,he=G(ue-V,re,V==0),w(ue/re)>r-le&&B("overflow"),le+=w(ue/re),ue%=re,W.splice(ue++,0,le)}return D(W)}function $(Y){var W,Q,re,ue,le,he,ge,ie,ae,V,q,te=[],U,L,P,Z;for(Y=F(Y),U=Y.length,W=i,Q=0,le=f,he=0;he<U;++he)q=Y[he],q<128&&te.push(A(q));for(re=ue=te.length,ue&&te.push(h);re<U;){for(ge=r,he=0;he<U;++he)q=Y[he],q>=W&&q<ge&&(ge=q);for(L=re+1,ge-W>w((r-Q)/L)&&B("overflow"),Q+=(ge-W)*L,W=ge,he=0;he<U;++he)if(q=Y[he],q<W&&++Q>r&&B("overflow"),q==W){for(ie=Q,ae=t;V=ae<=le?e:ae>=le+s?s:ae-le,!(ie<V);ae+=t)Z=ie-V,P=t-V,te.push(A(k(V+Z%P,0))),ie=w(Z/P);te.push(A(k(ie,0))),le=G(Q,L,re==ue),Q=0,++re}++Q,++W}return te.join("")}function ee(Y){return z(Y,function(W){return d.test(W)?J(W.slice(4).toLowerCase()):W})}function j(Y){return z(Y,function(W){return p.test(W)?"xn--"+$(W):W})}if(n={version:"1.4.1",ucs2:{decode:F,encode:D},decode:J,encode:$,toASCII:j,toUnicode:ee},u&&c)if(H.exports==u)c.exports=n;else for(R in n)n.hasOwnProperty(R)&&(u[R]=n[R]);else m.punycode=n})(this)}).call(this,typeof Ue<"u"?Ue:typeof self<"u"?self:typeof Ee<"u"?Ee:{})},{}],135:[function(M,H,y){function E(u,c){return Object.prototype.hasOwnProperty.call(u,c)}H.exports=function(u,c,o,n){c=c||"&",o=o||"=";var r={};if(typeof u!="string"||u.length===0)return r;var t=/\+/g;u=u.split(c);var e=1e3;n&&typeof n.maxKeys=="number"&&(e=n.maxKeys);var s=u.length;e>0&&s>e&&(s=e);for(var l=0;l<s;++l){var a=u[l].replace(t,"%20"),f=a.indexOf(o),i,h,d,p;f>=0?(i=a.substr(0,f),h=a.substr(f+1)):(i=a,h=""),d=decodeURIComponent(i),p=decodeURIComponent(h),E(r,d)?m(r[d])?r[d].push(p):r[d]=[r[d],p]:r[d]=p}return r};var m=Array.isArray||function(u){return Object.prototype.toString.call(u)==="[object Array]"}},{}],136:[function(M,H,y){var E=function(o){switch(typeof o){case"string":return o;case"boolean":return o?"true":"false";case"number":return isFinite(o)?o:"";default:return""}};H.exports=function(o,n,r,t){return n=n||"&",r=r||"=",o===null&&(o=void 0),typeof o=="object"?u(c(o),function(e){var s=encodeURIComponent(E(e))+r;return m(o[e])?u(o[e],function(l){return s+encodeURIComponent(E(l))}).join(n):s+encodeURIComponent(E(o[e]))}).join(n):t?encodeURIComponent(E(t))+r+encodeURIComponent(E(o)):""};var m=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function u(o,n){if(o.map)return o.map(n);for(var r=[],t=0;t<o.length;t++)r.push(n(o[t],t));return r}var c=Object.keys||function(o){var n=[];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&n.push(r);return n}},{}],137:[function(M,H,y){y.decode=y.parse=M("./decode"),y.encode=y.stringify=M("./encode")},{"./decode":135,"./encode":136}],138:[function(M,H,y){H.exports=M("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":139}],139:[function(M,H,y){var E=M("process-nextick-args"),m=Object.keys||function(a){var f=[];for(var i in a)f.push(i);return f};H.exports=e;var u=M("core-util-is");u.inherits=M("inherits");var c=M("./_stream_readable"),o=M("./_stream_writable");u.inherits(e,c);for(var n=m(o.prototype),r=0;r<n.length;r++){var t=n[r];e.prototype[t]||(e.prototype[t]=o.prototype[t])}function e(a){if(!(this instanceof e))return new e(a);c.call(this,a),o.call(this,a),a&&a.readable===!1&&(this.readable=!1),a&&a.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,a&&a.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",s)}Object.defineProperty(e.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function s(){this.allowHalfOpen||this._writableState.ended||E.nextTick(l,this)}function l(a){a.end()}Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(a){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=a,this._writableState.destroyed=a)}}),e.prototype._destroy=function(a,f){this.push(null),this.end(),E.nextTick(f,a)}},{"./_stream_readable":141,"./_stream_writable":143,"core-util-is":51,inherits:75,"process-nextick-args":132}],140:[function(M,H,y){H.exports=u;var E=M("./_stream_transform"),m=M("core-util-is");m.inherits=M("inherits"),m.inherits(u,E);function u(c){if(!(this instanceof u))return new u(c);E.call(this,c)}u.prototype._transform=function(c,o,n){n(null,c)}},{"./_stream_transform":142,"core-util-is":51,inherits:75}],141:[function(M,H,y){(function(E,m){var u=M("process-nextick-args");H.exports=w;var c=M("isarray"),o;w.ReadableState=b,M("events").EventEmitter;var n=function(V,q){return V.listeners(q).length},r=M("./internal/streams/stream"),t=M("safe-buffer").Buffer,e=m.Uint8Array||function(){};function s(V){return t.from(V)}function l(V){return t.isBuffer(V)||V instanceof e}var a=M("core-util-is");a.inherits=M("inherits");var f=M("util"),i=void 0;f&&f.debuglog?i=f.debuglog("stream"):i=function(){};var h=M("./internal/streams/BufferList"),d=M("./internal/streams/destroy"),p;a.inherits(w,r);var _=["error","close","destroy","pause","resume"];function g(V,q,te){if(typeof V.prependListener=="function")return V.prependListener(q,te);!V._events||!V._events[q]?V.on(q,te):c(V._events[q])?V._events[q].unshift(te):V._events[q]=[te,V._events[q]]}function b(V,q){o=o||M("./_stream_duplex"),V=V||{};var te=q instanceof o;this.objectMode=!!V.objectMode,te&&(this.objectMode=this.objectMode||!!V.readableObjectMode);var U=V.highWaterMark,L=V.readableHighWaterMark,P=this.objectMode?16:16*1024;U||U===0?this.highWaterMark=U:te&&(L||L===0)?this.highWaterMark=L:this.highWaterMark=P,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=V.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,V.encoding&&(p||(p=M("string_decoder/").StringDecoder),this.decoder=new p(V.encoding),this.encoding=V.encoding)}function w(V){if(o=o||M("./_stream_duplex"),!(this instanceof w))return new w(V);this._readableState=new b(V,this),this.readable=!0,V&&(typeof V.read=="function"&&(this._read=V.read),typeof V.destroy=="function"&&(this._destroy=V.destroy)),r.call(this)}Object.defineProperty(w.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(V){this._readableState&&(this._readableState.destroyed=V)}}),w.prototype.destroy=d.destroy,w.prototype._undestroy=d.undestroy,w.prototype._destroy=function(V,q){this.push(null),q(V)},w.prototype.push=function(V,q){var te=this._readableState,U;return te.objectMode?U=!0:typeof V=="string"&&(q=q||te.defaultEncoding,q!==te.encoding&&(V=t.from(V,q),q=""),U=!0),A(this,V,q,!1,U)},w.prototype.unshift=function(V){return A(this,V,null,!0,!1)};function A(V,q,te,U,L){var P=V._readableState;if(q===null)P.reading=!1,O(V,P);else{var Z;L||(Z=B(P,q)),Z?V.emit("error",Z):P.objectMode||q&&q.length>0?(typeof q!="string"&&!P.objectMode&&Object.getPrototypeOf(q)!==t.prototype&&(q=s(q)),U?P.endEmitted?V.emit("error",new Error("stream.unshift() after end event")):R(V,P,q,!0):P.ended?V.emit("error",new Error("stream.push() after EOF")):(P.reading=!1,P.decoder&&!te?(q=P.decoder.write(q),P.objectMode||q.length!==0?R(V,P,q,!1):J(V,P)):R(V,P,q,!1))):U||(P.reading=!1)}return T(P)}function R(V,q,te,U){q.flowing&&q.length===0&&!q.sync?(V.emit("data",te),V.read(0)):(q.length+=q.objectMode?1:te.length,U?q.buffer.unshift(te):q.buffer.push(te),q.needReadable&&k(V)),J(V,q)}function B(V,q){var te;return!l(q)&&typeof q!="string"&&q!==void 0&&!V.objectMode&&(te=new TypeError("Invalid non-string/buffer chunk")),te}function T(V){return!V.ended&&(V.needReadable||V.length<V.highWaterMark||V.length===0)}w.prototype.isPaused=function(){return this._readableState.flowing===!1},w.prototype.setEncoding=function(V){return p||(p=M("string_decoder/").StringDecoder),this._readableState.decoder=new p(V),this._readableState.encoding=V,this};var z=8388608;function F(V){return V>=z?V=z:(V--,V|=V>>>1,V|=V>>>2,V|=V>>>4,V|=V>>>8,V|=V>>>16,V++),V}function D(V,q){return V<=0||q.length===0&&q.ended?0:q.objectMode?1:V!==V?q.flowing&&q.length?q.buffer.head.data.length:q.length:(V>q.highWaterMark&&(q.highWaterMark=F(V)),V<=q.length?V:q.ended?q.length:(q.needReadable=!0,0))}w.prototype.read=function(V){i("read",V),V=parseInt(V,10);var q=this._readableState,te=V;if(V!==0&&(q.emittedReadable=!1),V===0&&q.needReadable&&(q.length>=q.highWaterMark||q.ended))return i("read: emitReadable",q.length,q.ended),q.length===0&&q.ended?ge(this):k(this),null;if(V=D(V,q),V===0&&q.ended)return q.length===0&&ge(this),null;var U=q.needReadable;i("need readable",U),(q.length===0||q.length-V<q.highWaterMark)&&(U=!0,i("length less than watermark",U)),q.ended||q.reading?(U=!1,i("reading or ended",U)):U&&(i("do read"),q.reading=!0,q.sync=!0,q.length===0&&(q.needReadable=!0),this._read(q.highWaterMark),q.sync=!1,q.reading||(V=D(te,q)));var L;return V>0?L=re(V,q):L=null,L===null?(q.needReadable=!0,V=0):q.length-=V,q.length===0&&(q.ended||(q.needReadable=!0),te!==V&&q.ended&&ge(this)),L!==null&&this.emit("data",L),L};function O(V,q){if(!q.ended){if(q.decoder){var te=q.decoder.end();te&&te.length&&(q.buffer.push(te),q.length+=q.objectMode?1:te.length)}q.ended=!0,k(V)}}function k(V){var q=V._readableState;q.needReadable=!1,q.emittedReadable||(i("emitReadable",q.flowing),q.emittedReadable=!0,q.sync?u.nextTick(G,V):G(V))}function G(V){i("emit readable"),V.emit("readable"),Q(V)}function J(V,q){q.readingMore||(q.readingMore=!0,u.nextTick($,V,q))}function $(V,q){for(var te=q.length;!q.reading&&!q.flowing&&!q.ended&&q.length<q.highWaterMark&&(i("maybeReadMore read 0"),V.read(0),te!==q.length);)te=q.length;q.readingMore=!1}w.prototype._read=function(V){this.emit("error",new Error("_read() is not implemented"))},w.prototype.pipe=function(V,q){var te=this,U=this._readableState;switch(U.pipesCount){case 0:U.pipes=V;break;case 1:U.pipes=[U.pipes,V];break;default:U.pipes.push(V);break}U.pipesCount+=1,i("pipe count=%d opts=%j",U.pipesCount,q);var L=(!q||q.end!==!1)&&V!==E.stdout&&V!==E.stderr,P=L?x:Le;U.endEmitted?u.nextTick(P):te.once("end",P),V.on("unpipe",Z);function Z(Pe,Oe){i("onunpipe"),Pe===te&&Oe&&Oe.hasUnpiped===!1&&(Oe.hasUnpiped=!0,X())}function x(){i("onend"),V.end()}var C=ee(te);V.on("drain",C);var S=!1;function X(){i("cleanup"),V.removeListener("close",Te),V.removeListener("finish",ke),V.removeListener("drain",C),V.removeListener("error",ye),V.removeListener("unpipe",Z),te.removeListener("end",x),te.removeListener("end",Le),te.removeListener("data",_e),S=!0,U.awaitDrain&&(!V._writableState||V._writableState.needDrain)&&C()}var oe=!1;te.on("data",_e);function _e(Pe){i("ondata"),oe=!1;var Oe=V.write(Pe);Oe===!1&&!oe&&((U.pipesCount===1&&U.pipes===V||U.pipesCount>1&&ae(U.pipes,V)!==-1)&&!S&&(i("false write response, pause",te._readableState.awaitDrain),te._readableState.awaitDrain++,oe=!0),te.pause())}function ye(Pe){i("onerror",Pe),Le(),V.removeListener("error",ye),n(V,"error")===0&&V.emit("error",Pe)}g(V,"error",ye);function Te(){V.removeListener("finish",ke),Le()}V.once("close",Te);function ke(){i("onfinish"),V.removeListener("close",Te),Le()}V.once("finish",ke);function Le(){i("unpipe"),te.unpipe(V)}return V.emit("pipe",te),U.flowing||(i("pipe resume"),te.resume()),V};function ee(V){return function(){var q=V._readableState;i("pipeOnDrain",q.awaitDrain),q.awaitDrain&&q.awaitDrain--,q.awaitDrain===0&&n(V,"data")&&(q.flowing=!0,Q(V))}}w.prototype.unpipe=function(V){var q=this._readableState,te={hasUnpiped:!1};if(q.pipesCount===0)return this;if(q.pipesCount===1)return V&&V!==q.pipes?this:(V||(V=q.pipes),q.pipes=null,q.pipesCount=0,q.flowing=!1,V&&V.emit("unpipe",this,te),this);if(!V){var U=q.pipes,L=q.pipesCount;q.pipes=null,q.pipesCount=0,q.flowing=!1;for(var P=0;P<L;P++)U[P].emit("unpipe",this,te);return this}var Z=ae(q.pipes,V);return Z===-1?this:(q.pipes.splice(Z,1),q.pipesCount-=1,q.pipesCount===1&&(q.pipes=q.pipes[0]),V.emit("unpipe",this,te),this)},w.prototype.on=function(V,q){var te=r.prototype.on.call(this,V,q);if(V==="data")this._readableState.flowing!==!1&&this.resume();else if(V==="readable"){var U=this._readableState;!U.endEmitted&&!U.readableListening&&(U.readableListening=U.needReadable=!0,U.emittedReadable=!1,U.reading?U.length&&k(this):u.nextTick(j,this))}return te},w.prototype.addListener=w.prototype.on;function j(V){i("readable nexttick read 0"),V.read(0)}w.prototype.resume=function(){var V=this._readableState;return V.flowing||(i("resume"),V.flowing=!0,Y(this,V)),this};function Y(V,q){q.resumeScheduled||(q.resumeScheduled=!0,u.nextTick(W,V,q))}function W(V,q){q.reading||(i("resume read 0"),V.read(0)),q.resumeScheduled=!1,q.awaitDrain=0,V.emit("resume"),Q(V),q.flowing&&!q.reading&&V.read(0)}w.prototype.pause=function(){return i("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(i("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function Q(V){var q=V._readableState;for(i("flow",q.flowing);q.flowing&&V.read()!==null;);}w.prototype.wrap=function(V){var q=this,te=this._readableState,U=!1;V.on("end",function(){if(i("wrapped end"),te.decoder&&!te.ended){var Z=te.decoder.end();Z&&Z.length&&q.push(Z)}q.push(null)}),V.on("data",function(Z){if(i("wrapped data"),te.decoder&&(Z=te.decoder.write(Z)),!(te.objectMode&&Z==null)&&!(!te.objectMode&&(!Z||!Z.length))){var x=q.push(Z);x||(U=!0,V.pause())}});for(var L in V)this[L]===void 0&&typeof V[L]=="function"&&(this[L]=function(Z){return function(){return V[Z].apply(V,arguments)}}(L));for(var P=0;P<_.length;P++)V.on(_[P],this.emit.bind(this,_[P]));return this._read=function(Z){i("wrapped _read",Z),U&&(U=!1,V.resume())},this},Object.defineProperty(w.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),w._fromList=re;function re(V,q){if(q.length===0)return null;var te;return q.objectMode?te=q.buffer.shift():!V||V>=q.length?(q.decoder?te=q.buffer.join(""):q.buffer.length===1?te=q.buffer.head.data:te=q.buffer.concat(q.length),q.buffer.clear()):te=ue(V,q.buffer,q.decoder),te}function ue(V,q,te){var U;return V<q.head.data.length?(U=q.head.data.slice(0,V),q.head.data=q.head.data.slice(V)):V===q.head.data.length?U=q.shift():U=te?le(V,q):he(V,q),U}function le(V,q){var te=q.head,U=1,L=te.data;for(V-=L.length;te=te.next;){var P=te.data,Z=V>P.length?P.length:V;if(Z===P.length?L+=P:L+=P.slice(0,V),V-=Z,V===0){Z===P.length?(++U,te.next?q.head=te.next:q.head=q.tail=null):(q.head=te,te.data=P.slice(Z));break}++U}return q.length-=U,L}function he(V,q){var te=t.allocUnsafe(V),U=q.head,L=1;for(U.data.copy(te),V-=U.data.length;U=U.next;){var P=U.data,Z=V>P.length?P.length:V;if(P.copy(te,te.length-V,0,Z),V-=Z,V===0){Z===P.length?(++L,U.next?q.head=U.next:q.head=q.tail=null):(q.head=U,U.data=P.slice(Z));break}++L}return q.length-=L,te}function ge(V){var q=V._readableState;if(q.length>0)throw new Error('"endReadable()" called on non-empty stream');q.endEmitted||(q.ended=!0,u.nextTick(ie,q,V))}function ie(V,q){!V.endEmitted&&V.length===0&&(V.endEmitted=!0,q.readable=!1,q.emit("end"))}function ae(V,q){for(var te=0,U=V.length;te<U;te++)if(V[te]===q)return te;return-1}}).call(this,M("_process"),typeof Ue<"u"?Ue:typeof self<"u"?self:typeof Ee<"u"?Ee:{})},{"./_stream_duplex":139,"./internal/streams/BufferList":144,"./internal/streams/destroy":145,"./internal/streams/stream":146,_process:133,"core-util-is":51,events:52,inherits:75,isarray:79,"process-nextick-args":132,"safe-buffer":147,"string_decoder/":148,util:33}],142:[function(M,H,y){H.exports=c;var E=M("./_stream_duplex"),m=M("core-util-is");m.inherits=M("inherits"),m.inherits(c,E);function u(r,t){var e=this._transformState;e.transforming=!1;var s=e.writecb;if(!s)return this.emit("error",new Error("write callback called multiple times"));e.writechunk=null,e.writecb=null,t!=null&&this.push(t),s(r);var l=this._readableState;l.reading=!1,(l.needReadable||l.length<l.highWaterMark)&&this._read(l.highWaterMark)}function c(r){if(!(this instanceof c))return new c(r);E.call(this,r),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,r&&(typeof r.transform=="function"&&(this._transform=r.transform),typeof r.flush=="function"&&(this._flush=r.flush)),this.on("prefinish",o)}function o(){var r=this;typeof this._flush=="function"?this._flush(function(t,e){n(r,t,e)}):n(this,null,null)}c.prototype.push=function(r,t){return this._transformState.needTransform=!1,E.prototype.push.call(this,r,t)},c.prototype._transform=function(r,t,e){throw new Error("_transform() is not implemented")},c.prototype._write=function(r,t,e){var s=this._transformState;if(s.writecb=e,s.writechunk=r,s.writeencoding=t,!s.transforming){var l=this._readableState;(s.needTransform||l.needReadable||l.length<l.highWaterMark)&&this._read(l.highWaterMark)}},c.prototype._read=function(r){var t=this._transformState;t.writechunk!==null&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},c.prototype._destroy=function(r,t){var e=this;E.prototype._destroy.call(this,r,function(s){t(s),e.emit("close")})};function n(r,t,e){if(t)return r.emit("error",t);if(e!=null&&r.push(e),r._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(r._transformState.transforming)throw new Error("Calling transform done when still transforming");return r.push(null)}},{"./_stream_duplex":139,"core-util-is":51,inherits:75}],143:[function(M,H,y){(function(E,m,u){var c=M("process-nextick-args");H.exports=g;function o(W){var Q=this;this.next=null,this.entry=null,this.finish=function(){Y(Q,W)}}var n=!E.browser&&["v0.10","v0.9."].indexOf(E.version.slice(0,5))>-1?u:c.nextTick,r;g.WritableState=p;var t=M("core-util-is");t.inherits=M("inherits");var e={deprecate:M("util-deprecate")},s=M("./internal/streams/stream"),l=M("safe-buffer").Buffer,a=m.Uint8Array||function(){};function f(W){return l.from(W)}function i(W){return l.isBuffer(W)||W instanceof a}var h=M("./internal/streams/destroy");t.inherits(g,s);function d(){}function p(W,Q){r=r||M("./_stream_duplex"),W=W||{};var re=Q instanceof r;this.objectMode=!!W.objectMode,re&&(this.objectMode=this.objectMode||!!W.writableObjectMode);var ue=W.highWaterMark,le=W.writableHighWaterMark,he=this.objectMode?16:16*1024;ue||ue===0?this.highWaterMark=ue:re&&(le||le===0)?this.highWaterMark=le:this.highWaterMark=he,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ge=W.decodeStrings===!1;this.decodeStrings=!ge,this.defaultEncoding=W.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ie){F(Q,ie)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}p.prototype.getBuffer=function(){for(var Q=this.bufferedRequest,re=[];Q;)re.push(Q),Q=Q.next;return re},function(){try{Object.defineProperty(p.prototype,"buffer",{get:e.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var _;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(_=Function.prototype[Symbol.hasInstance],Object.defineProperty(g,Symbol.hasInstance,{value:function(W){return _.call(this,W)?!0:this!==g?!1:W&&W._writableState instanceof p}})):_=function(W){return W instanceof this};function g(W){if(r=r||M("./_stream_duplex"),!_.call(g,this)&&!(this instanceof r))return new g(W);this._writableState=new p(W,this),this.writable=!0,W&&(typeof W.write=="function"&&(this._write=W.write),typeof W.writev=="function"&&(this._writev=W.writev),typeof W.destroy=="function"&&(this._destroy=W.destroy),typeof W.final=="function"&&(this._final=W.final)),s.call(this)}g.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function b(W,Q){var re=new Error("write after end");W.emit("error",re),c.nextTick(Q,re)}function w(W,Q,re,ue){var le=!0,he=!1;return re===null?he=new TypeError("May not write null values to stream"):typeof re!="string"&&re!==void 0&&!Q.objectMode&&(he=new TypeError("Invalid non-string/buffer chunk")),he&&(W.emit("error",he),c.nextTick(ue,he),le=!1),le}g.prototype.write=function(W,Q,re){var ue=this._writableState,le=!1,he=!ue.objectMode&&i(W);return he&&!l.isBuffer(W)&&(W=f(W)),typeof Q=="function"&&(re=Q,Q=null),he?Q="buffer":Q||(Q=ue.defaultEncoding),typeof re!="function"&&(re=d),ue.ended?b(this,re):(he||w(this,ue,W,re))&&(ue.pendingcb++,le=R(this,ue,he,W,Q,re)),le},g.prototype.cork=function(){var W=this._writableState;W.corked++},g.prototype.uncork=function(){var W=this._writableState;W.corked&&(W.corked--,!W.writing&&!W.corked&&!W.finished&&!W.bufferProcessing&&W.bufferedRequest&&k(this,W))},g.prototype.setDefaultEncoding=function(Q){if(typeof Q=="string"&&(Q=Q.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Q+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+Q);return this._writableState.defaultEncoding=Q,this};function A(W,Q,re){return!W.objectMode&&W.decodeStrings!==!1&&typeof Q=="string"&&(Q=l.from(Q,re)),Q}Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function R(W,Q,re,ue,le,he){if(!re){var ge=A(Q,ue,le);ue!==ge&&(re=!0,le="buffer",ue=ge)}var ie=Q.objectMode?1:ue.length;Q.length+=ie;var ae=Q.length<Q.highWaterMark;if(ae||(Q.needDrain=!0),Q.writing||Q.corked){var V=Q.lastBufferedRequest;Q.lastBufferedRequest={chunk:ue,encoding:le,isBuf:re,callback:he,next:null},V?V.next=Q.lastBufferedRequest:Q.bufferedRequest=Q.lastBufferedRequest,Q.bufferedRequestCount+=1}else B(W,Q,!1,ie,ue,le,he);return ae}function B(W,Q,re,ue,le,he,ge){Q.writelen=ue,Q.writecb=ge,Q.writing=!0,Q.sync=!0,re?W._writev(le,Q.onwrite):W._write(le,he,Q.onwrite),Q.sync=!1}function T(W,Q,re,ue,le){--Q.pendingcb,re?(c.nextTick(le,ue),c.nextTick(ee,W,Q),W._writableState.errorEmitted=!0,W.emit("error",ue)):(le(ue),W._writableState.errorEmitted=!0,W.emit("error",ue),ee(W,Q))}function z(W){W.writing=!1,W.writecb=null,W.length-=W.writelen,W.writelen=0}function F(W,Q){var re=W._writableState,ue=re.sync,le=re.writecb;if(z(re),Q)T(W,re,ue,Q,le);else{var he=G(re);!he&&!re.corked&&!re.bufferProcessing&&re.bufferedRequest&&k(W,re),ue?n(D,W,re,he,le):D(W,re,he,le)}}function D(W,Q,re,ue){re||O(W,Q),Q.pendingcb--,ue(),ee(W,Q)}function O(W,Q){Q.length===0&&Q.needDrain&&(Q.needDrain=!1,W.emit("drain"))}function k(W,Q){Q.bufferProcessing=!0;var re=Q.bufferedRequest;if(W._writev&&re&&re.next){var ue=Q.bufferedRequestCount,le=new Array(ue),he=Q.corkedRequestsFree;he.entry=re;for(var ge=0,ie=!0;re;)le[ge]=re,re.isBuf||(ie=!1),re=re.next,ge+=1;le.allBuffers=ie,B(W,Q,!0,Q.length,le,"",he.finish),Q.pendingcb++,Q.lastBufferedRequest=null,he.next?(Q.corkedRequestsFree=he.next,he.next=null):Q.corkedRequestsFree=new o(Q),Q.bufferedRequestCount=0}else{for(;re;){var ae=re.chunk,V=re.encoding,q=re.callback,te=Q.objectMode?1:ae.length;if(B(W,Q,!1,te,ae,V,q),re=re.next,Q.bufferedRequestCount--,Q.writing)break}re===null&&(Q.lastBufferedRequest=null)}Q.bufferedRequest=re,Q.bufferProcessing=!1}g.prototype._write=function(W,Q,re){re(new Error("_write() is not implemented"))},g.prototype._writev=null,g.prototype.end=function(W,Q,re){var ue=this._writableState;typeof W=="function"?(re=W,W=null,Q=null):typeof Q=="function"&&(re=Q,Q=null),W!=null&&this.write(W,Q),ue.corked&&(ue.corked=1,this.uncork()),!ue.ending&&!ue.finished&&j(this,ue,re)};function G(W){return W.ending&&W.length===0&&W.bufferedRequest===null&&!W.finished&&!W.writing}function J(W,Q){W._final(function(re){Q.pendingcb--,re&&W.emit("error",re),Q.prefinished=!0,W.emit("prefinish"),ee(W,Q)})}function $(W,Q){!Q.prefinished&&!Q.finalCalled&&(typeof W._final=="function"?(Q.pendingcb++,Q.finalCalled=!0,c.nextTick(J,W,Q)):(Q.prefinished=!0,W.emit("prefinish")))}function ee(W,Q){var re=G(Q);return re&&($(W,Q),Q.pendingcb===0&&(Q.finished=!0,W.emit("finish"))),re}function j(W,Q,re){Q.ending=!0,ee(W,Q),re&&(Q.finished?c.nextTick(re):W.once("finish",re)),Q.ended=!0,W.writable=!1}function Y(W,Q,re){var ue=W.entry;for(W.entry=null;ue;){var le=ue.callback;Q.pendingcb--,le(re),ue=ue.next}Q.corkedRequestsFree?Q.corkedRequestsFree.next=W:Q.corkedRequestsFree=W}Object.defineProperty(g.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(W){this._writableState&&(this._writableState.destroyed=W)}}),g.prototype.destroy=h.destroy,g.prototype._undestroy=h.undestroy,g.prototype._destroy=function(W,Q){this.end(),Q(W)}}).call(this,M("_process"),typeof Ue<"u"?Ue:typeof self<"u"?self:typeof Ee<"u"?Ee:{},M("timers").setImmediate)},{"./_stream_duplex":139,"./internal/streams/destroy":145,"./internal/streams/stream":146,_process:133,"core-util-is":51,inherits:75,"process-nextick-args":132,"safe-buffer":147,timers:176,"util-deprecate":183}],144:[function(M,H,y){function E(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}var m=M("safe-buffer").Buffer,u=M("util");function c(o,n,r){o.copy(n,r)}H.exports=function(){function o(){E(this,o),this.head=null,this.tail=null,this.length=0}return o.prototype.push=function(r){var t={data:r,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},o.prototype.unshift=function(r){var t={data:r,next:this.head};this.length===0&&(this.tail=t),this.head=t,++this.length},o.prototype.shift=function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},o.prototype.clear=function(){this.head=this.tail=null,this.length=0},o.prototype.join=function(r){if(this.length===0)return"";for(var t=this.head,e=""+t.data;t=t.next;)e+=r+t.data;return e},o.prototype.concat=function(r){if(this.length===0)return m.alloc(0);if(this.length===1)return this.head.data;for(var t=m.allocUnsafe(r>>>0),e=this.head,s=0;e;)c(e.data,t,s),s+=e.data.length,e=e.next;return t},o}(),u&&u.inspect&&u.inspect.custom&&(H.exports.prototype[u.inspect.custom]=function(){var o=u.inspect({length:this.length});return this.constructor.name+" "+o})},{"safe-buffer":147,util:33}],145:[function(M,H,y){var E=M("process-nextick-args");function m(o,n){var r=this,t=this._readableState&&this._readableState.destroyed,e=this._writableState&&this._writableState.destroyed;return t||e?(n?n(o):o&&(!this._writableState||!this._writableState.errorEmitted)&&E.nextTick(c,this,o),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(s){!n&&s?(E.nextTick(c,r,s),r._writableState&&(r._writableState.errorEmitted=!0)):n&&n(s)}),this)}function u(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function c(o,n){o.emit("error",n)}H.exports={destroy:m,undestroy:u}},{"process-nextick-args":132}],146:[function(M,H,y){H.exports=M("events").EventEmitter},{events:52}],147:[function(M,H,y){var E=M("buffer"),m=E.Buffer;function u(o,n){for(var r in o)n[r]=o[r]}m.from&&m.alloc&&m.allocUnsafe&&m.allocUnsafeSlow?H.exports=E:(u(E,y),y.Buffer=c);function c(o,n,r){return m(o,n,r)}u(m,c),c.from=function(o,n,r){if(typeof o=="number")throw new TypeError("Argument must not be a number");return m(o,n,r)},c.alloc=function(o,n,r){if(typeof o!="number")throw new TypeError("Argument must be a number");var t=m(o);return n!==void 0?typeof r=="string"?t.fill(n,r):t.fill(n):t.fill(0),t},c.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return m(o)},c.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return E.SlowBuffer(o)}},{buffer:48}],148:[function(M,H,y){var E=M("safe-buffer").Buffer,m=E.isEncoding||function(_){switch(_=""+_,_&&_.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function u(_){if(!_)return"utf8";for(var g;;)switch(_){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return _;default:if(g)return;_=(""+_).toLowerCase(),g=!0}}function c(_){var g=u(_);if(typeof g!="string"&&(E.isEncoding===m||!m(_)))throw new Error("Unknown encoding: "+_);return g||_}y.StringDecoder=o;function o(_){this.encoding=c(_);var g;switch(this.encoding){case"utf16le":this.text=a,this.end=f,g=4;break;case"utf8":this.fillLast=e,g=4;break;case"base64":this.text=i,this.end=h,g=3;break;default:this.write=d,this.end=p;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=E.allocUnsafe(g)}o.prototype.write=function(_){if(_.length===0)return"";var g,b;if(this.lastNeed){if(g=this.fillLast(_),g===void 0)return"";b=this.lastNeed,this.lastNeed=0}else b=0;return b<_.length?g?g+this.text(_,b):this.text(_,b):g||""},o.prototype.end=l,o.prototype.text=s,o.prototype.fillLast=function(_){if(this.lastNeed<=_.length)return _.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);_.copy(this.lastChar,this.lastTotal-this.lastNeed,0,_.length),this.lastNeed-=_.length};function n(_){return _<=127?0:_>>5===6?2:_>>4===14?3:_>>3===30?4:_>>6===2?-1:-2}function r(_,g,b){var w=g.length-1;if(w<b)return 0;var A=n(g[w]);return A>=0?(A>0&&(_.lastNeed=A-1),A):--w<b||A===-2?0:(A=n(g[w]),A>=0?(A>0&&(_.lastNeed=A-2),A):--w<b||A===-2?0:(A=n(g[w]),A>=0?(A>0&&(A===2?A=0:_.lastNeed=A-3),A):0))}function t(_,g,b){if((g[0]&192)!==128)return _.lastNeed=0,"";if(_.lastNeed>1&&g.length>1){if((g[1]&192)!==128)return _.lastNeed=1,"";if(_.lastNeed>2&&g.length>2&&(g[2]&192)!==128)return _.lastNeed=2,""}}function e(_){var g=this.lastTotal-this.lastNeed,b=t(this,_);if(b!==void 0)return b;if(this.lastNeed<=_.length)return _.copy(this.lastChar,g,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);_.copy(this.lastChar,g,0,_.length),this.lastNeed-=_.length}function s(_,g){var b=r(this,_,g);if(!this.lastNeed)return _.toString("utf8",g);this.lastTotal=b;var w=_.length-(b-this.lastNeed);return _.copy(this.lastChar,0,w),_.toString("utf8",g,w)}function l(_){var g=_&&_.length?this.write(_):"";return this.lastNeed?g+"":g}function a(_,g){if((_.length-g)%2===0){var b=_.toString("utf16le",g);if(b){var w=b.charCodeAt(b.length-1);if(w>=55296&&w<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=_[_.length-2],this.lastChar[1]=_[_.length-1],b.slice(0,-1)}return b}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=_[_.length-1],_.toString("utf16le",g,_.length-1)}function f(_){var g=_&&_.length?this.write(_):"";if(this.lastNeed){var b=this.lastTotal-this.lastNeed;return g+this.lastChar.toString("utf16le",0,b)}return g}function i(_,g){var b=(_.length-g)%3;return b===0?_.toString("base64",g):(this.lastNeed=3-b,this.lastTotal=3,b===1?this.lastChar[0]=_[_.length-1]:(this.lastChar[0]=_[_.length-2],this.lastChar[1]=_[_.length-1]),_.toString("base64",g,_.length-b))}function h(_){var g=_&&_.length?this.write(_):"";return this.lastNeed?g+this.lastChar.toString("base64",0,3-this.lastNeed):g}function d(_){return _.toString(this.encoding)}function p(_){return _&&_.length?this.write(_):""}},{"safe-buffer":147}],149:[function(M,H,y){H.exports=M("./readable").PassThrough},{"./readable":150}],150:[function(M,H,y){y=H.exports=M("./lib/_stream_readable.js"),y.Stream=y,y.Readable=y,y.Writable=M("./lib/_stream_writable.js"),y.Duplex=M("./lib/_stream_duplex.js"),y.Transform=M("./lib/_stream_transform.js"),y.PassThrough=M("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":139,"./lib/_stream_passthrough.js":140,"./lib/_stream_readable.js":141,"./lib/_stream_transform.js":142,"./lib/_stream_writable.js":143}],151:[function(M,H,y){H.exports=M("./readable").Transform},{"./readable":150}],152:[function(M,H,y){H.exports=M("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":143}],153:[function(M,H,y){var E=function(m){var u=Object.prototype,c=u.hasOwnProperty,o,n=typeof Symbol=="function"?Symbol:{},r=n.iterator||"@@iterator",t=n.asyncIterator||"@@asyncIterator",e=n.toStringTag||"@@toStringTag";function s($,ee,j,Y){var W=ee&&ee.prototype instanceof p?ee:p,Q=Object.create(W.prototype),re=new k(Y||[]);return Q._invoke=z($,j,re),Q}m.wrap=s;function l($,ee,j){try{return{type:"normal",arg:$.call(ee,j)}}catch(Y){return{type:"throw",arg:Y}}}var a="suspendedStart",f="suspendedYield",i="executing",h="completed",d={};function p(){}function _(){}function g(){}var b={};b[r]=function(){return this};var w=Object.getPrototypeOf,A=w&&w(w(G([])));A&&A!==u&&c.call(A,r)&&(b=A);var R=g.prototype=p.prototype=Object.create(b);_.prototype=R.constructor=g,g.constructor=_,g[e]=_.displayName="GeneratorFunction";function B($){["next","throw","return"].forEach(function(ee){$[ee]=function(j){return this._invoke(ee,j)}})}m.isGeneratorFunction=function($){var ee=typeof $=="function"&&$.constructor;return ee?ee===_||(ee.displayName||ee.name)==="GeneratorFunction":!1},m.mark=function($){return Object.setPrototypeOf?Object.setPrototypeOf($,g):($.__proto__=g,e in $||($[e]="GeneratorFunction")),$.prototype=Object.create(R),$},m.awrap=function($){return{__await:$}};function T($){function ee(W,Q,re,ue){var le=l($[W],$,Q);if(le.type==="throw")ue(le.arg);else{var he=le.arg,ge=he.value;return ge&&typeof ge=="object"&&c.call(ge,"__await")?Promise.resolve(ge.__await).then(function(ie){ee("next",ie,re,ue)},function(ie){ee("throw",ie,re,ue)}):Promise.resolve(ge).then(function(ie){he.value=ie,re(he)},function(ie){return ee("throw",ie,re,ue)})}}var j;function Y(W,Q){function re(){return new Promise(function(ue,le){ee(W,Q,ue,le)})}return j=j?j.then(re,re):re()}this._invoke=Y}B(T.prototype),T.prototype[t]=function(){return this},m.AsyncIterator=T,m.async=function($,ee,j,Y){var W=new T(s($,ee,j,Y));return m.isGeneratorFunction(ee)?W:W.next().then(function(Q){return Q.done?Q.value:W.next()})};function z($,ee,j){var Y=a;return function(Q,re){if(Y===i)throw new Error("Generator is already running");if(Y===h){if(Q==="throw")throw re;return J()}for(j.method=Q,j.arg=re;;){var ue=j.delegate;if(ue){var le=F(ue,j);if(le){if(le===d)continue;return le}}if(j.method==="next")j.sent=j._sent=j.arg;else if(j.method==="throw"){if(Y===a)throw Y=h,j.arg;j.dispatchException(j.arg)}else j.method==="return"&&j.abrupt("return",j.arg);Y=i;var he=l($,ee,j);if(he.type==="normal"){if(Y=j.done?h:f,he.arg===d)continue;return{value:he.arg,done:j.done}}else he.type==="throw"&&(Y=h,j.method="throw",j.arg=he.arg)}}}function F($,ee){var j=$.iterator[ee.method];if(j===o){if(ee.delegate=null,ee.method==="throw"){if($.iterator.return&&(ee.method="return",ee.arg=o,F($,ee),ee.method==="throw"))return d;ee.method="throw",ee.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var Y=l(j,$.iterator,ee.arg);if(Y.type==="throw")return ee.method="throw",ee.arg=Y.arg,ee.delegate=null,d;var W=Y.arg;if(!W)return ee.method="throw",ee.arg=new TypeError("iterator result is not an object"),ee.delegate=null,d;if(W.done)ee[$.resultName]=W.value,ee.next=$.nextLoc,ee.method!=="return"&&(ee.method="next",ee.arg=o);else return W;return ee.delegate=null,d}B(R),R[e]="Generator",R[r]=function(){return this},R.toString=function(){return"[object Generator]"};function D($){var ee={tryLoc:$[0]};1 in $&&(ee.catchLoc=$[1]),2 in $&&(ee.finallyLoc=$[2],ee.afterLoc=$[3]),this.tryEntries.push(ee)}function O($){var ee=$.completion||{};ee.type="normal",delete ee.arg,$.completion=ee}function k($){this.tryEntries=[{tryLoc:"root"}],$.forEach(D,this),this.reset(!0)}m.keys=function($){var ee=[];for(var j in $)ee.push(j);return ee.reverse(),function Y(){for(;ee.length;){var W=ee.pop();if(W in $)return Y.value=W,Y.done=!1,Y}return Y.done=!0,Y}};function G($){if($){var ee=$[r];if(ee)return ee.call($);if(typeof $.next=="function")return $;if(!isNaN($.length)){var j=-1,Y=function W(){for(;++j<$.length;)if(c.call($,j))return W.value=$[j],W.done=!1,W;return W.value=o,W.done=!0,W};return Y.next=Y}}return{next:J}}m.values=G;function J(){return{value:o,done:!0}}return k.prototype={constructor:k,reset:function($){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(O),!$)for(var ee in this)ee.charAt(0)==="t"&&c.call(this,ee)&&!isNaN(+ee.slice(1))&&(this[ee]=o)},stop:function(){this.done=!0;var $=this.tryEntries[0],ee=$.completion;if(ee.type==="throw")throw ee.arg;return this.rval},dispatchException:function($){if(this.done)throw $;var ee=this;function j(le,he){return Q.type="throw",Q.arg=$,ee.next=le,he&&(ee.method="next",ee.arg=o),!!he}for(var Y=this.tryEntries.length-1;Y>=0;--Y){var W=this.tryEntries[Y],Q=W.completion;if(W.tryLoc==="root")return j("end");if(W.tryLoc<=this.prev){var re=c.call(W,"catchLoc"),ue=c.call(W,"finallyLoc");if(re&&ue){if(this.prev<W.catchLoc)return j(W.catchLoc,!0);if(this.prev<W.finallyLoc)return j(W.finallyLoc)}else if(re){if(this.prev<W.catchLoc)return j(W.catchLoc,!0)}else if(ue){if(this.prev<W.finallyLoc)return j(W.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function($,ee){for(var j=this.tryEntries.length-1;j>=0;--j){var Y=this.tryEntries[j];if(Y.tryLoc<=this.prev&&c.call(Y,"finallyLoc")&&this.prev<Y.finallyLoc){var W=Y;break}}W&&($==="break"||$==="continue")&&W.tryLoc<=ee&&ee<=W.finallyLoc&&(W=null);var Q=W?W.completion:{};return Q.type=$,Q.arg=ee,W?(this.method="next",this.next=W.finallyLoc,d):this.complete(Q)},complete:function($,ee){if($.type==="throw")throw $.arg;return $.type==="break"||$.type==="continue"?this.next=$.arg:$.type==="return"?(this.rval=this.arg=$.arg,this.method="return",this.next="end"):$.type==="normal"&&ee&&(this.next=ee),d},finish:function($){for(var ee=this.tryEntries.length-1;ee>=0;--ee){var j=this.tryEntries[ee];if(j.finallyLoc===$)return this.complete(j.completion,j.afterLoc),O(j),d}},catch:function($){for(var ee=this.tryEntries.length-1;ee>=0;--ee){var j=this.tryEntries[ee];if(j.tryLoc===$){var Y=j.completion;if(Y.type==="throw"){var W=Y.arg;O(j)}return W}}throw new Error("illegal catch attempt")},delegateYield:function($,ee,j){return this.delegate={iterator:G($),resultName:ee,nextLoc:j},this.method==="next"&&(this.arg=o),d}},m}(typeof H=="object"?H.exports:{});try{regeneratorRuntime=E}catch{Function("r","regeneratorRuntime = r")(E)}},{}],154:[function(M,H,y){var E=M("buffer"),m=E.Buffer;function u(o,n){for(var r in o)n[r]=o[r]}m.from&&m.alloc&&m.allocUnsafe&&m.allocUnsafeSlow?H.exports=E:(u(E,y),y.Buffer=c);function c(o,n,r){return m(o,n,r)}c.prototype=Object.create(m.prototype),u(m,c),c.from=function(o,n,r){if(typeof o=="number")throw new TypeError("Argument must not be a number");return m(o,n,r)},c.alloc=function(o,n,r){if(typeof o!="number")throw new TypeError("Argument must be a number");var t=m(o);return n!==void 0?typeof r=="string"?t.fill(n,r):t.fill(n):t.fill(0),t},c.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return m(o)},c.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return E.SlowBuffer(o)}},{buffer:48}],155:[function(M,H,y){H.exports=u;var E=M("events").EventEmitter,m=M("inherits");m(u,E),u.Readable=M("readable-stream/readable.js"),u.Writable=M("readable-stream/writable.js"),u.Duplex=M("readable-stream/duplex.js"),u.Transform=M("readable-stream/transform.js"),u.PassThrough=M("readable-stream/passthrough.js"),u.Stream=u;function u(){E.call(this)}u.prototype.pipe=function(c,o){var n=this;function r(i){c.writable&&c.write(i)===!1&&n.pause&&n.pause()}n.on("data",r);function t(){n.readable&&n.resume&&n.resume()}c.on("drain",t),!c._isStdio&&(!o||o.end!==!1)&&(n.on("end",s),n.on("close",l));var e=!1;function s(){e||(e=!0,c.end())}function l(){e||(e=!0,typeof c.destroy=="function"&&c.destroy())}function a(i){if(f(),E.listenerCount(this,"error")===0)throw i}n.on("error",a),c.on("error",a);function f(){n.removeListener("data",r),c.removeListener("drain",t),n.removeListener("end",s),n.removeListener("close",l),n.removeListener("error",a),c.removeListener("error",a),n.removeListener("end",f),n.removeListener("close",f),c.removeListener("close",f)}return n.on("end",f),n.on("close",f),c.on("close",f),c.emit("pipe",n),c}},{events:52,inherits:75,"readable-stream/duplex.js":138,"readable-stream/passthrough.js":149,"readable-stream/readable.js":150,"readable-stream/transform.js":151,"readable-stream/writable.js":152}],156:[function(M,H,y){(function(E){var m=M("./lib/request"),u=M("./lib/response"),c=M("xtend"),o=M("builtin-status-codes"),n=M("url"),r=y;r.request=function(t,e){typeof t=="string"?t=n.parse(t):t=c(t);var s=E.location.protocol.search(/^https?:$/)===-1?"http:":"",l=t.protocol||s,a=t.hostname||t.host,f=t.port,i=t.path||"/";a&&a.indexOf(":")!==-1&&(a="["+a+"]"),t.url=(a?l+"//"+a:"")+(f?":"+f:"")+i,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var h=new m(t);return e&&h.on("response",e),h},r.get=function(e,s){var l=r.request(e,s);return l.end(),l},r.ClientRequest=m,r.IncomingMessage=u.IncomingMessage,r.Agent=function(){},r.Agent.defaultMaxSockets=4,r.globalAgent=new r.Agent,r.STATUS_CODES=o,r.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,typeof Ue<"u"?Ue:typeof self<"u"?self:typeof Ee<"u"?Ee:{})},{"./lib/request":158,"./lib/response":159,"builtin-status-codes":50,url:180,xtend:189}],157:[function(M,H,y){(function(E){y.fetch=o(E.fetch)&&o(E.ReadableStream),y.writableStream=o(E.WritableStream),y.abortController=o(E.AbortController);var m;function u(){if(m!==void 0)return m;if(E.XMLHttpRequest){m=new E.XMLHttpRequest;try{m.open("GET",E.XDomainRequest?"/":"https://example.com")}catch{m=null}}else m=null;return m}function c(n){var r=u();if(!r)return!1;try{return r.responseType=n,r.responseType===n}catch{}return!1}y.arraybuffer=y.fetch||c("arraybuffer"),y.msstream=!y.fetch&&c("ms-stream"),y.mozchunkedarraybuffer=!y.fetch&&c("moz-chunked-arraybuffer"),y.overrideMimeType=y.fetch||(u()?o(u().overrideMimeType):!1);function o(n){return typeof n=="function"}m=null}).call(this,typeof Ue<"u"?Ue:typeof self<"u"?self:typeof Ee<"u"?Ee:{})},{}],158:[function(M,H,y){(function(E,m,u){var c=M("./capability"),o=M("inherits"),n=M("./response"),r=M("readable-stream"),t=n.IncomingMessage,e=n.readyStates;function s(i,h){return c.fetch&&h?"fetch":c.mozchunkedarraybuffer?"moz-chunked-arraybuffer":c.msstream?"ms-stream":c.arraybuffer&&i?"arraybuffer":"text"}var l=H.exports=function(i){var h=this;r.Writable.call(h),h._opts=i,h._body=[],h._headers={},i.auth&&h.setHeader("Authorization","Basic "+u.from(i.auth).toString("base64")),Object.keys(i.headers).forEach(function(_){h.setHeader(_,i.headers[_])});var d,p=!0;if(i.mode==="disable-fetch"||"requestTimeout"in i&&!c.abortController)p=!1,d=!0;else if(i.mode==="prefer-streaming")d=!1;else if(i.mode==="allow-wrong-content-type")d=!c.overrideMimeType;else if(!i.mode||i.mode==="default"||i.mode==="prefer-fast")d=!0;else throw new Error("Invalid value for opts.mode");h._mode=s(d,p),h._fetchTimer=null,h.on("finish",function(){h._onFinish()})};o(l,r.Writable),l.prototype.setHeader=function(i,h){var d=this,p=i.toLowerCase();f.indexOf(p)===-1&&(d._headers[p]={name:i,value:h})},l.prototype.getHeader=function(i){var h=this._headers[i.toLowerCase()];return h?h.value:null},l.prototype.removeHeader=function(i){var h=this;delete h._headers[i.toLowerCase()]},l.prototype._onFinish=function(){var i=this;if(!i._destroyed){var h=i._opts,d=i._headers,p=null;h.method!=="GET"&&h.method!=="HEAD"&&(p=new Blob(i._body,{type:(d["content-type"]||{}).value||""}));var _=[];if(Object.keys(d).forEach(function(A){var R=d[A].name,B=d[A].value;Array.isArray(B)?B.forEach(function(T){_.push([R,T])}):_.push([R,B])}),i._mode==="fetch"){var g=null;if(c.abortController){var b=new AbortController;g=b.signal,i._fetchAbortController=b,"requestTimeout"in h&&h.requestTimeout!==0&&(i._fetchTimer=m.setTimeout(function(){i.emit("requestTimeout"),i._fetchAbortController&&i._fetchAbortController.abort()},h.requestTimeout))}m.fetch(i._opts.url,{method:i._opts.method,headers:_,body:p||void 0,mode:"cors",credentials:h.withCredentials?"include":"same-origin",signal:g}).then(function(A){i._fetchResponse=A,i._connect()},function(A){m.clearTimeout(i._fetchTimer),i._destroyed||i.emit("error",A)})}else{var w=i._xhr=new m.XMLHttpRequest;try{w.open(i._opts.method,i._opts.url,!0)}catch(A){E.nextTick(function(){i.emit("error",A)});return}"responseType"in w&&(w.responseType=i._mode),"withCredentials"in w&&(w.withCredentials=!!h.withCredentials),i._mode==="text"&&"overrideMimeType"in w&&w.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in h&&(w.timeout=h.requestTimeout,w.ontimeout=function(){i.emit("requestTimeout")}),_.forEach(function(A){w.setRequestHeader(A[0],A[1])}),i._response=null,w.onreadystatechange=function(){switch(w.readyState){case e.LOADING:case e.DONE:i._onXHRProgress();break}},i._mode==="moz-chunked-arraybuffer"&&(w.onprogress=function(){i._onXHRProgress()}),w.onerror=function(){i._destroyed||i.emit("error",new Error("XHR error"))};try{w.send(p)}catch(A){E.nextTick(function(){i.emit("error",A)});return}}}};function a(i){try{var h=i.status;return h!==null&&h!==0}catch{return!1}}l.prototype._onXHRProgress=function(){var i=this;!a(i._xhr)||i._destroyed||(i._response||i._connect(),i._response._onXHRProgress())},l.prototype._connect=function(){var i=this;i._destroyed||(i._response=new t(i._xhr,i._fetchResponse,i._mode,i._fetchTimer),i._response.on("error",function(h){i.emit("error",h)}),i.emit("response",i._response))},l.prototype._write=function(i,h,d){var p=this;p._body.push(i),d()},l.prototype.abort=l.prototype.destroy=function(){var i=this;i._destroyed=!0,m.clearTimeout(i._fetchTimer),i._response&&(i._response._destroyed=!0),i._xhr?i._xhr.abort():i._fetchAbortController&&i._fetchAbortController.abort()},l.prototype.end=function(i,h,d){var p=this;typeof i=="function"&&(d=i,i=void 0),r.Writable.prototype.end.call(p,i,h,d)},l.prototype.flushHeaders=function(){},l.prototype.setTimeout=function(){},l.prototype.setNoDelay=function(){},l.prototype.setSocketKeepAlive=function(){};var f=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,M("_process"),typeof Ue<"u"?Ue:typeof self<"u"?self:typeof Ee<"u"?Ee:{},M("buffer").Buffer)},{"./capability":157,"./response":159,_process:133,buffer:48,inherits:75,"readable-stream":174}],159:[function(M,H,y){(function(E,m,u){var c=M("./capability"),o=M("inherits"),n=M("readable-stream"),r=y.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},t=y.IncomingMessage=function(e,s,l,a){var f=this;if(n.Readable.call(f),f._mode=l,f.headers={},f.rawHeaders=[],f.trailers={},f.rawTrailers=[],f.on("end",function(){E.nextTick(function(){f.emit("close")})}),l==="fetch"){let g=function(){h.read().then(function(b){if(!f._destroyed){if(b.done){m.clearTimeout(a),f.push(null);return}f.push(u.from(b.value)),g()}}).catch(function(b){m.clearTimeout(a),f._destroyed||f.emit("error",b)})};if(f._fetchResponse=s,f.url=s.url,f.statusCode=s.status,f.statusMessage=s.statusText,s.headers.forEach(function(b,w){f.headers[w.toLowerCase()]=b,f.rawHeaders.push(w,b)}),c.writableStream){var i=new WritableStream({write:function(b){return new Promise(function(w,A){f._destroyed?A():f.push(u.from(b))?w():f._resumeFetch=w})},close:function(){m.clearTimeout(a),f._destroyed||f.push(null)},abort:function(b){f._destroyed||f.emit("error",b)}});try{s.body.pipeTo(i).catch(function(b){m.clearTimeout(a),f._destroyed||f.emit("error",b)});return}catch{}}var h=s.body.getReader();g()}else{f._xhr=e,f._pos=0,f.url=e.responseURL,f.statusCode=e.status,f.statusMessage=e.statusText;var d=e.getAllResponseHeaders().split(/\r?\n/);if(d.forEach(function(g){var b=g.match(/^([^:]+):\s*(.*)/);if(b){var w=b[1].toLowerCase();w==="set-cookie"?(f.headers[w]===void 0&&(f.headers[w]=[]),f.headers[w].push(b[2])):f.headers[w]!==void 0?f.headers[w]+=", "+b[2]:f.headers[w]=b[2],f.rawHeaders.push(b[1],b[2])}}),f._charset="x-user-defined",!c.overrideMimeType){var p=f.rawHeaders["mime-type"];if(p){var _=p.match(/;\s*charset=([^;])(;|$)/);_&&(f._charset=_[1].toLowerCase())}f._charset||(f._charset="utf-8")}}};o(t,n.Readable),t.prototype._read=function(){var e=this,s=e._resumeFetch;s&&(e._resumeFetch=null,s())},t.prototype._onXHRProgress=function(){var e=this,s=e._xhr,l=null;switch(e._mode){case"text":if(l=s.responseText,l.length>e._pos){var a=l.substr(e._pos);if(e._charset==="x-user-defined"){for(var f=u.alloc(a.length),i=0;i<a.length;i++)f[i]=a.charCodeAt(i)&255;e.push(f)}else e.push(a,e._charset);e._pos=l.length}break;case"arraybuffer":if(s.readyState!==r.DONE||!s.response)break;l=s.response,e.push(u.from(new Uint8Array(l)));break;case"moz-chunked-arraybuffer":if(l=s.response,s.readyState!==r.LOADING||!l)break;e.push(u.from(new Uint8Array(l)));break;case"ms-stream":if(l=s.response,s.readyState!==r.LOADING)break;var h=new m.MSStreamReader;h.onprogress=function(){h.result.byteLength>e._pos&&(e.push(u.from(new Uint8Array(h.result.slice(e._pos)))),e._pos=h.result.byteLength)},h.onload=function(){e.push(null)},h.readAsArrayBuffer(l);break}e._xhr.readyState===r.DONE&&e._mode!=="ms-stream"&&e.push(null)}}).call(this,M("_process"),typeof Ue<"u"?Ue:typeof self<"u"?self:typeof Ee<"u"?Ee:{},M("buffer").Buffer)},{"./capability":157,_process:133,buffer:48,inherits:75,"readable-stream":174}],160:[function(M,H,y){function E(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var m={};function u(t,e,s){s||(s=Error);function l(f,i,h){return typeof e=="string"?e:e(f,i,h)}var a=function(f){E(i,f);function i(h,d,p){return f.call(this,l(h,d,p))||this}return i}(s);a.prototype.name=s.name,a.prototype.code=t,m[t]=a}function c(t,e){if(Array.isArray(t)){var s=t.length;return t=t.map(function(l){return String(l)}),s>2?"one of ".concat(e," ").concat(t.slice(0,s-1).join(", "),", or ")+t[s-1]:s===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function o(t,e,s){return t.substr(0,e.length)===e}function n(t,e,s){return(s===void 0||s>t.length)&&(s=t.length),t.substring(s-e.length,s)===e}function r(t,e,s){return typeof s!="number"&&(s=0),s+e.length>t.length?!1:t.indexOf(e,s)!==-1}u("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError),u("ERR_INVALID_ARG_TYPE",function(t,e,s){var l;typeof e=="string"&&o(e,"not ")?(l="must not be",e=e.replace(/^not /,"")):l="must be";var a;if(n(t," argument"))a="The ".concat(t," ").concat(l," ").concat(c(e,"type"));else{var f=r(t,".")?"property":"argument";a='The "'.concat(t,'" ').concat(f," ").concat(l," ").concat(c(e,"type"))}return a+=". Received type ".concat(typeof s),a},TypeError),u("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),u("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"}),u("ERR_STREAM_PREMATURE_CLOSE","Premature close"),u("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"}),u("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),u("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),u("ERR_STREAM_WRITE_AFTER_END","write after end"),u("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),u("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError),u("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),H.exports.codes=m},{}],161:[function(M,H,y){(function(E){var m=new Set;function u(o){if(!m.has(o)){var n=o+" is an experimental feature. This feature could change at any time";m.add(o),E.emitWarning(n,"ExperimentalWarning")}}function c(){}H.exports.emitExperimentalWarning=E.emitWarning?u:c}).call(this,M("_process"))},{_process:133}],162:[function(M,H,y){(function(E){var m=Object.keys||function(l){var a=[];for(var f in l)a.push(f);return a};H.exports=t;var u=M("./_stream_readable"),c=M("./_stream_writable");M("inherits")(t,u);for(var o=m(c.prototype),n=0;n<o.length;n++){var r=o[n];t.prototype[r]||(t.prototype[r]=c.prototype[r])}function t(l){if(!(this instanceof t))return new t(l);u.call(this,l),c.call(this,l),this.allowHalfOpen=!0,l&&(l.readable===!1&&(this.readable=!1),l.writable===!1&&(this.writable=!1),l.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",e)))}Object.defineProperty(t.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(t.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(t.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function e(){this._writableState.ended||E.nextTick(s,this)}function s(l){l.end()}Object.defineProperty(t.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(a){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=a,this._writableState.destroyed=a)}})}).call(this,M("_process"))},{"./_stream_readable":164,"./_stream_writable":166,_process:133,inherits:75}],163:[function(M,H,y){H.exports=m;var E=M("./_stream_transform");M("inherits")(m,E);function m(u){if(!(this instanceof m))return new m(u);E.call(this,u)}m.prototype._transform=function(u,c,o){o(null,u)}},{"./_stream_transform":165,inherits:75}],164:[function(M,H,y){(function(E,m){H.exports=D;var u;D.ReadableState=F,M("events").EventEmitter;var c=function(P,Z){return P.listeners(Z).length},o=M("./internal/streams/stream"),n=M("buffer").Buffer,r=m.Uint8Array||function(){};function t(L){return n.from(L)}function e(L){return n.isBuffer(L)||L instanceof r}var s=M("util"),l;s&&s.debuglog?l=s.debuglog("stream"):l=function(){};var a=M("./internal/streams/buffer_list"),f=M("./internal/streams/destroy"),i=M("./internal/streams/state"),h=i.getHighWaterMark,d=M("../errors").codes,p=d.ERR_INVALID_ARG_TYPE,_=d.ERR_STREAM_PUSH_AFTER_EOF,g=d.ERR_METHOD_NOT_IMPLEMENTED,b=d.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,w=M("../experimentalWarning"),A=w.emitExperimentalWarning,R,B;M("inherits")(D,o);var T=["error","close","destroy","pause","resume"];function z(L,P,Z){if(typeof L.prependListener=="function")return L.prependListener(P,Z);!L._events||!L._events[P]?L.on(P,Z):Array.isArray(L._events[P])?L._events[P].unshift(Z):L._events[P]=[Z,L._events[P]]}function F(L,P,Z){u=u||M("./_stream_duplex"),L=L||{},typeof Z!="boolean"&&(Z=P instanceof u),this.objectMode=!!L.objectMode,Z&&(this.objectMode=this.objectMode||!!L.readableObjectMode),this.highWaterMark=h(this,L,"readableHighWaterMark",Z),this.buffer=new a,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=L.emitClose!==!1,this.destroyed=!1,this.defaultEncoding=L.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,L.encoding&&(R||(R=M("string_decoder/").StringDecoder),this.decoder=new R(L.encoding),this.encoding=L.encoding)}function D(L){if(u=u||M("./_stream_duplex"),!(this instanceof D))return new D(L);var P=this instanceof u;this._readableState=new F(L,this,P),this.readable=!0,L&&(typeof L.read=="function"&&(this._read=L.read),typeof L.destroy=="function"&&(this._destroy=L.destroy)),o.call(this)}Object.defineProperty(D.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(P){this._readableState&&(this._readableState.destroyed=P)}}),D.prototype.destroy=f.destroy,D.prototype._undestroy=f.undestroy,D.prototype._destroy=function(L,P){P(L)},D.prototype.push=function(L,P){var Z=this._readableState,x;return Z.objectMode?x=!0:typeof L=="string"&&(P=P||Z.defaultEncoding,P!==Z.encoding&&(L=n.from(L,P),P=""),x=!0),O(this,L,P,!1,x)},D.prototype.unshift=function(L){return O(this,L,null,!0,!1)};function O(L,P,Z,x,C){l("readableAddChunk",P);var S=L._readableState;if(P===null)S.reading=!1,j(L,S);else{var X;if(C||(X=G(S,P)),X)L.emit("error",X);else if(S.objectMode||P&&P.length>0)if(typeof P!="string"&&!S.objectMode&&Object.getPrototypeOf(P)!==n.prototype&&(P=t(P)),x)S.endEmitted?L.emit("error",new b):k(L,S,P,!0);else if(S.ended)L.emit("error",new _);else{if(S.destroyed)return!1;S.reading=!1,S.decoder&&!Z?(P=S.decoder.write(P),S.objectMode||P.length!==0?k(L,S,P,!1):Q(L,S)):k(L,S,P,!1)}else x||(S.reading=!1,Q(L,S))}return!S.ended&&(S.length<S.highWaterMark||S.length===0)}function k(L,P,Z,x){P.flowing&&P.length===0&&!P.sync?(P.awaitDrain=0,L.emit("data",Z)):(P.length+=P.objectMode?1:Z.length,x?P.buffer.unshift(Z):P.buffer.push(Z),P.needReadable&&Y(L)),Q(L,P)}function G(L,P){var Z;return!e(P)&&typeof P!="string"&&P!==void 0&&!L.objectMode&&(Z=new p("chunk",["string","Buffer","Uint8Array"],P)),Z}D.prototype.isPaused=function(){return this._readableState.flowing===!1},D.prototype.setEncoding=function(L){return R||(R=M("string_decoder/").StringDecoder),this._readableState.decoder=new R(L),this._readableState.encoding=this._readableState.decoder.encoding,this};var J=8388608;function $(L){return L>=J?L=J:(L--,L|=L>>>1,L|=L>>>2,L|=L>>>4,L|=L>>>8,L|=L>>>16,L++),L}function ee(L,P){return L<=0||P.length===0&&P.ended?0:P.objectMode?1:L!==L?P.flowing&&P.length?P.buffer.head.data.length:P.length:(L>P.highWaterMark&&(P.highWaterMark=$(L)),L<=P.length?L:P.ended?P.length:(P.needReadable=!0,0))}D.prototype.read=function(L){l("read",L),L=parseInt(L,10);var P=this._readableState,Z=L;if(L!==0&&(P.emittedReadable=!1),L===0&&P.needReadable&&((P.highWaterMark!==0?P.length>=P.highWaterMark:P.length>0)||P.ended))return l("read: emitReadable",P.length,P.ended),P.length===0&&P.ended?q(this):Y(this),null;if(L=ee(L,P),L===0&&P.ended)return P.length===0&&q(this),null;var x=P.needReadable;l("need readable",x),(P.length===0||P.length-L<P.highWaterMark)&&(x=!0,l("length less than watermark",x)),P.ended||P.reading?(x=!1,l("reading or ended",x)):x&&(l("do read"),P.reading=!0,P.sync=!0,P.length===0&&(P.needReadable=!0),this._read(P.highWaterMark),P.sync=!1,P.reading||(L=ee(Z,P)));var C;return L>0?C=V(L,P):C=null,C===null?(P.needReadable=!0,L=0):(P.length-=L,P.awaitDrain=0),P.length===0&&(P.ended||(P.needReadable=!0),Z!==L&&P.ended&&q(this)),C!==null&&this.emit("data",C),C};function j(L,P){if(!P.ended){if(P.decoder){var Z=P.decoder.end();Z&&Z.length&&(P.buffer.push(Z),P.length+=P.objectMode?1:Z.length)}P.ended=!0,P.sync?Y(L):(P.needReadable=!1,P.emittedReadable||(P.emittedReadable=!0,W(L)))}}function Y(L){var P=L._readableState;P.needReadable=!1,P.emittedReadable||(l("emitReadable",P.flowing),P.emittedReadable=!0,E.nextTick(W,L))}function W(L){var P=L._readableState;l("emitReadable_",P.destroyed,P.length,P.ended),!P.destroyed&&(P.length||P.ended)&&L.emit("readable"),P.needReadable=!P.flowing&&!P.ended&&P.length<=P.highWaterMark,ae(L)}function Q(L,P){P.readingMore||(P.readingMore=!0,E.nextTick(re,L,P))}function re(L,P){for(;!P.reading&&!P.ended&&(P.length<P.highWaterMark||P.flowing&&P.length===0);){var Z=P.length;if(l("maybeReadMore read 0"),L.read(0),Z===P.length)break}P.readingMore=!1}D.prototype._read=function(L){this.emit("error",new g("_read()"))},D.prototype.pipe=function(L,P){var Z=this,x=this._readableState;switch(x.pipesCount){case 0:x.pipes=L;break;case 1:x.pipes=[x.pipes,L];break;default:x.pipes.push(L);break}x.pipesCount+=1,l("pipe count=%d opts=%j",x.pipesCount,P);var C=(!P||P.end!==!1)&&L!==E.stdout&&L!==E.stderr,S=C?oe:Ae;x.endEmitted?E.nextTick(S):Z.once("end",S),L.on("unpipe",X);function X(xe,Ie){l("onunpipe"),xe===Z&&Ie&&Ie.hasUnpiped===!1&&(Ie.hasUnpiped=!0,Te())}function oe(){l("onend"),L.end()}var _e=ue(Z);L.on("drain",_e);var ye=!1;function Te(){l("cleanup"),L.removeListener("close",Pe),L.removeListener("finish",Oe),L.removeListener("drain",_e),L.removeListener("error",Le),L.removeListener("unpipe",X),Z.removeListener("end",oe),Z.removeListener("end",Ae),Z.removeListener("data",ke),ye=!0,x.awaitDrain&&(!L._writableState||L._writableState.needDrain)&&_e()}Z.on("data",ke);function ke(xe){l("ondata");var Ie=L.write(xe);l("dest.write",Ie),Ie===!1&&((x.pipesCount===1&&x.pipes===L||x.pipesCount>1&&U(x.pipes,L)!==-1)&&!ye&&(l("false write response, pause",x.awaitDrain),x.awaitDrain++),Z.pause())}function Le(xe){l("onerror",xe),Ae(),L.removeListener("error",Le),c(L,"error")===0&&L.emit("error",xe)}z(L,"error",Le);function Pe(){L.removeListener("finish",Oe),Ae()}L.once("close",Pe);function Oe(){l("onfinish"),L.removeListener("close",Pe),Ae()}L.once("finish",Oe);function Ae(){l("unpipe"),Z.unpipe(L)}return L.emit("pipe",Z),x.flowing||(l("pipe resume"),Z.resume()),L};function ue(L){return function(){var Z=L._readableState;l("pipeOnDrain",Z.awaitDrain),Z.awaitDrain&&Z.awaitDrain--,Z.awaitDrain===0&&c(L,"data")&&(Z.flowing=!0,ae(L))}}D.prototype.unpipe=function(L){var P=this._readableState,Z={hasUnpiped:!1};if(P.pipesCount===0)return this;if(P.pipesCount===1)return L&&L!==P.pipes?this:(L||(L=P.pipes),P.pipes=null,P.pipesCount=0,P.flowing=!1,L&&L.emit("unpipe",this,Z),this);if(!L){var x=P.pipes,C=P.pipesCount;P.pipes=null,P.pipesCount=0,P.flowing=!1;for(var S=0;S<C;S++)x[S].emit("unpipe",this,{hasUnpiped:!1});return this}var X=U(P.pipes,L);return X===-1?this:(P.pipes.splice(X,1),P.pipesCount-=1,P.pipesCount===1&&(P.pipes=P.pipes[0]),L.emit("unpipe",this,Z),this)},D.prototype.on=function(L,P){var Z=o.prototype.on.call(this,L,P),x=this._readableState;return L==="data"?(x.readableListening=this.listenerCount("readable")>0,x.flowing!==!1&&this.resume()):L==="readable"&&!x.endEmitted&&!x.readableListening&&(x.readableListening=x.needReadable=!0,x.flowing=!1,x.emittedReadable=!1,l("on readable",x.length,x.reading),x.length?Y(this):x.reading||E.nextTick(he,this)),Z},D.prototype.addListener=D.prototype.on,D.prototype.removeListener=function(L,P){var Z=o.prototype.removeListener.call(this,L,P);return L==="readable"&&E.nextTick(le,this),Z},D.prototype.removeAllListeners=function(L){var P=o.prototype.removeAllListeners.apply(this,arguments);return(L==="readable"||L===void 0)&&E.nextTick(le,this),P};function le(L){var P=L._readableState;P.readableListening=L.listenerCount("readable")>0,P.resumeScheduled&&!P.paused?P.flowing=!0:L.listenerCount("data")>0&&L.resume()}function he(L){l("readable nexttick read 0"),L.read(0)}D.prototype.resume=function(){var L=this._readableState;return L.flowing||(l("resume"),L.flowing=!L.readableListening,ge(this,L)),L.paused=!1,this};function ge(L,P){P.resumeScheduled||(P.resumeScheduled=!0,E.nextTick(ie,L,P))}function ie(L,P){l("resume",P.reading),P.reading||L.read(0),P.resumeScheduled=!1,L.emit("resume"),ae(L),P.flowing&&!P.reading&&L.read(0)}D.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function ae(L){var P=L._readableState;for(l("flow",P.flowing);P.flowing&&L.read()!==null;);}D.prototype.wrap=function(L){var P=this,Z=this._readableState,x=!1;L.on("end",function(){if(l("wrapped end"),Z.decoder&&!Z.ended){var X=Z.decoder.end();X&&X.length&&P.push(X)}P.push(null)}),L.on("data",function(X){if(l("wrapped data"),Z.decoder&&(X=Z.decoder.write(X)),!(Z.objectMode&&X==null)&&!(!Z.objectMode&&(!X||!X.length))){var oe=P.push(X);oe||(x=!0,L.pause())}});for(var C in L)this[C]===void 0&&typeof L[C]=="function"&&(this[C]=function(oe){return function(){return L[oe].apply(L,arguments)}}(C));for(var S=0;S<T.length;S++)L.on(T[S],this.emit.bind(this,T[S]));return this._read=function(X){l("wrapped _read",X),x&&(x=!1,L.resume())},this},typeof Symbol=="function"&&(D.prototype[Symbol.asyncIterator]=function(){return A("Readable[Symbol.asyncIterator]"),B===void 0&&(B=M("./internal/streams/async_iterator")),B(this)}),Object.defineProperty(D.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(D.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(D.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(P){this._readableState&&(this._readableState.flowing=P)}}),D._fromList=V,Object.defineProperty(D.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function V(L,P){if(P.length===0)return null;var Z;return P.objectMode?Z=P.buffer.shift():!L||L>=P.length?(P.decoder?Z=P.buffer.join(""):P.buffer.length===1?Z=P.buffer.first():Z=P.buffer.concat(P.length),P.buffer.clear()):Z=P.buffer.consume(L,P.decoder),Z}function q(L){var P=L._readableState;l("endReadable",P.endEmitted),P.endEmitted||(P.ended=!0,E.nextTick(te,P,L))}function te(L,P){l("endReadableNT",L.endEmitted,L.length),!L.endEmitted&&L.length===0&&(L.endEmitted=!0,P.readable=!1,P.emit("end"))}function U(L,P){for(var Z=0,x=L.length;Z<x;Z++)if(L[Z]===P)return Z;return-1}}).call(this,M("_process"),typeof Ue<"u"?Ue:typeof self<"u"?self:typeof Ee<"u"?Ee:{})},{"../errors":160,"../experimentalWarning":161,"./_stream_duplex":162,"./internal/streams/async_iterator":167,"./internal/streams/buffer_list":168,"./internal/streams/destroy":169,"./internal/streams/state":172,"./internal/streams/stream":173,_process:133,buffer:48,events:52,inherits:75,"string_decoder/":175,util:33}],165:[function(M,H,y){H.exports=t;var E=M("../errors").codes,m=E.ERR_METHOD_NOT_IMPLEMENTED,u=E.ERR_MULTIPLE_CALLBACK,c=E.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=E.ERR_TRANSFORM_WITH_LENGTH_0,n=M("./_stream_duplex");M("inherits")(t,n);function r(l,a){var f=this._transformState;f.transforming=!1;var i=f.writecb;if(i===null)return this.emit("error",new u);f.writechunk=null,f.writecb=null,a!=null&&this.push(a),i(l);var h=this._readableState;h.reading=!1,(h.needReadable||h.length<h.highWaterMark)&&this._read(h.highWaterMark)}function t(l){if(!(this instanceof t))return new t(l);n.call(this,l),this._transformState={afterTransform:r.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,l&&(typeof l.transform=="function"&&(this._transform=l.transform),typeof l.flush=="function"&&(this._flush=l.flush)),this.on("prefinish",e)}function e(){var l=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(a,f){s(l,a,f)}):s(this,null,null)}t.prototype.push=function(l,a){return this._transformState.needTransform=!1,n.prototype.push.call(this,l,a)},t.prototype._transform=function(l,a,f){f(new m("_transform()"))},t.prototype._write=function(l,a,f){var i=this._transformState;if(i.writecb=f,i.writechunk=l,i.writeencoding=a,!i.transforming){var h=this._readableState;(i.needTransform||h.needReadable||h.length<h.highWaterMark)&&this._read(h.highWaterMark)}},t.prototype._read=function(l){var a=this._transformState;a.writechunk!==null&&!a.transforming?(a.transforming=!0,this._transform(a.writechunk,a.writeencoding,a.afterTransform)):a.needTransform=!0},t.prototype._destroy=function(l,a){n.prototype._destroy.call(this,l,function(f){a(f)})};function s(l,a,f){if(a)return l.emit("error",a);if(f!=null&&l.push(f),l._writableState.length)throw new o;if(l._transformState.transforming)throw new c;return l.push(null)}},{"../errors":160,"./_stream_duplex":162,inherits:75}],166:[function(M,H,y){(function(E,m){H.exports=z;function u(ie){var ae=this;this.next=null,this.entry=null,this.finish=function(){ge(ae,ie)}}var c;z.WritableState=B;var o={deprecate:M("util-deprecate")},n=M("./internal/streams/stream"),r=M("buffer").Buffer,t=m.Uint8Array||function(){};function e(ie){return r.from(ie)}function s(ie){return r.isBuffer(ie)||ie instanceof t}var l=M("./internal/streams/destroy"),a=M("./internal/streams/state"),f=a.getHighWaterMark,i=M("../errors").codes,h=i.ERR_INVALID_ARG_TYPE,d=i.ERR_METHOD_NOT_IMPLEMENTED,p=i.ERR_MULTIPLE_CALLBACK,_=i.ERR_STREAM_CANNOT_PIPE,g=i.ERR_STREAM_DESTROYED,b=i.ERR_STREAM_NULL_VALUES,w=i.ERR_STREAM_WRITE_AFTER_END,A=i.ERR_UNKNOWN_ENCODING;M("inherits")(z,n);function R(){}function B(ie,ae,V){c=c||M("./_stream_duplex"),ie=ie||{},typeof V!="boolean"&&(V=ae instanceof c),this.objectMode=!!ie.objectMode,V&&(this.objectMode=this.objectMode||!!ie.writableObjectMode),this.highWaterMark=f(this,ie,"writableHighWaterMark",V),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var q=ie.decodeStrings===!1;this.decodeStrings=!q,this.defaultEncoding=ie.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(te){ee(ae,te)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=ie.emitClose!==!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new u(this)}B.prototype.getBuffer=function(){for(var ae=this.bufferedRequest,V=[];ae;)V.push(ae),ae=ae.next;return V},function(){try{Object.defineProperty(B.prototype,"buffer",{get:o.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var T;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(T=Function.prototype[Symbol.hasInstance],Object.defineProperty(z,Symbol.hasInstance,{value:function(ae){return T.call(this,ae)?!0:this!==z?!1:ae&&ae._writableState instanceof B}})):T=function(ae){return ae instanceof this};function z(ie){c=c||M("./_stream_duplex");var ae=this instanceof c;if(!ae&&!T.call(z,this))return new z(ie);this._writableState=new B(ie,this,ae),this.writable=!0,ie&&(typeof ie.write=="function"&&(this._write=ie.write),typeof ie.writev=="function"&&(this._writev=ie.writev),typeof ie.destroy=="function"&&(this._destroy=ie.destroy),typeof ie.final=="function"&&(this._final=ie.final)),n.call(this)}z.prototype.pipe=function(){this.emit("error",new _)};function F(ie,ae){var V=new w;ie.emit("error",V),E.nextTick(ae,V)}function D(ie,ae,V,q){var te;return V===null?te=new b:typeof V!="string"&&!ae.objectMode&&(te=new h("chunk",["string","Buffer"],V)),te?(ie.emit("error",te),E.nextTick(q,te),!1):!0}z.prototype.write=function(ie,ae,V){var q=this._writableState,te=!1,U=!q.objectMode&&s(ie);return U&&!r.isBuffer(ie)&&(ie=e(ie)),typeof ae=="function"&&(V=ae,ae=null),U?ae="buffer":ae||(ae=q.defaultEncoding),typeof V!="function"&&(V=R),q.ending?F(this,V):(U||D(this,q,ie,V))&&(q.pendingcb++,te=k(this,q,U,ie,ae,V)),te},z.prototype.cork=function(){this._writableState.corked++},z.prototype.uncork=function(){var ie=this._writableState;ie.corked&&(ie.corked--,!ie.writing&&!ie.corked&&!ie.bufferProcessing&&ie.bufferedRequest&&W(this,ie))},z.prototype.setDefaultEncoding=function(ae){if(typeof ae=="string"&&(ae=ae.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ae+"").toLowerCase())>-1))throw new A(ae);return this._writableState.defaultEncoding=ae,this},Object.defineProperty(z.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function O(ie,ae,V){return!ie.objectMode&&ie.decodeStrings!==!1&&typeof ae=="string"&&(ae=r.from(ae,V)),ae}Object.defineProperty(z.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function k(ie,ae,V,q,te,U){if(!V){var L=O(ae,q,te);q!==L&&(V=!0,te="buffer",q=L)}var P=ae.objectMode?1:q.length;ae.length+=P;var Z=ae.length<ae.highWaterMark;if(Z||(ae.needDrain=!0),ae.writing||ae.corked){var x=ae.lastBufferedRequest;ae.lastBufferedRequest={chunk:q,encoding:te,isBuf:V,callback:U,next:null},x?x.next=ae.lastBufferedRequest:ae.bufferedRequest=ae.lastBufferedRequest,ae.bufferedRequestCount+=1}else G(ie,ae,!1,P,q,te,U);return Z}function G(ie,ae,V,q,te,U,L){ae.writelen=q,ae.writecb=L,ae.writing=!0,ae.sync=!0,ae.destroyed?ae.onwrite(new g("write")):V?ie._writev(te,ae.onwrite):ie._write(te,U,ae.onwrite),ae.sync=!1}function J(ie,ae,V,q,te){--ae.pendingcb,V?(E.nextTick(te,q),E.nextTick(le,ie,ae),ie._writableState.errorEmitted=!0,ie.emit("error",q)):(te(q),ie._writableState.errorEmitted=!0,ie.emit("error",q),le(ie,ae))}function $(ie){ie.writing=!1,ie.writecb=null,ie.length-=ie.writelen,ie.writelen=0}function ee(ie,ae){var V=ie._writableState,q=V.sync,te=V.writecb;if(typeof te!="function")throw new p;if($(V),ae)J(ie,V,q,ae,te);else{var U=Q(V)||ie.destroyed;!U&&!V.corked&&!V.bufferProcessing&&V.bufferedRequest&&W(ie,V),q?E.nextTick(j,ie,V,U,te):j(ie,V,U,te)}}function j(ie,ae,V,q){V||Y(ie,ae),ae.pendingcb--,q(),le(ie,ae)}function Y(ie,ae){ae.length===0&&ae.needDrain&&(ae.needDrain=!1,ie.emit("drain"))}function W(ie,ae){ae.bufferProcessing=!0;var V=ae.bufferedRequest;if(ie._writev&&V&&V.next){var q=ae.bufferedRequestCount,te=new Array(q),U=ae.corkedRequestsFree;U.entry=V;for(var L=0,P=!0;V;)te[L]=V,V.isBuf||(P=!1),V=V.next,L+=1;te.allBuffers=P,G(ie,ae,!0,ae.length,te,"",U.finish),ae.pendingcb++,ae.lastBufferedRequest=null,U.next?(ae.corkedRequestsFree=U.next,U.next=null):ae.corkedRequestsFree=new u(ae),ae.bufferedRequestCount=0}else{for(;V;){var Z=V.chunk,x=V.encoding,C=V.callback,S=ae.objectMode?1:Z.length;if(G(ie,ae,!1,S,Z,x,C),V=V.next,ae.bufferedRequestCount--,ae.writing)break}V===null&&(ae.lastBufferedRequest=null)}ae.bufferedRequest=V,ae.bufferProcessing=!1}z.prototype._write=function(ie,ae,V){V(new d("_write()"))},z.prototype._writev=null,z.prototype.end=function(ie,ae,V){var q=this._writableState;return typeof ie=="function"?(V=ie,ie=null,ae=null):typeof ae=="function"&&(V=ae,ae=null),ie!=null&&this.write(ie,ae),q.corked&&(q.corked=1,this.uncork()),q.ending||he(this,q,V),this},Object.defineProperty(z.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Q(ie){return ie.ending&&ie.length===0&&ie.bufferedRequest===null&&!ie.finished&&!ie.writing}function re(ie,ae){ie._final(function(V){ae.pendingcb--,V&&ie.emit("error",V),ae.prefinished=!0,ie.emit("prefinish"),le(ie,ae)})}function ue(ie,ae){!ae.prefinished&&!ae.finalCalled&&(typeof ie._final=="function"&&!ae.destroyed?(ae.pendingcb++,ae.finalCalled=!0,E.nextTick(re,ie,ae)):(ae.prefinished=!0,ie.emit("prefinish")))}function le(ie,ae){var V=Q(ae);return V&&(ue(ie,ae),ae.pendingcb===0&&(ae.finished=!0,ie.emit("finish"))),V}function he(ie,ae,V){ae.ending=!0,le(ie,ae),V&&(ae.finished?E.nextTick(V):ie.once("finish",V)),ae.ended=!0,ie.writable=!1}function ge(ie,ae,V){var q=ie.entry;for(ie.entry=null;q;){var te=q.callback;ae.pendingcb--,te(V),q=q.next}ae.corkedRequestsFree.next=ie}Object.defineProperty(z.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(ae){this._writableState&&(this._writableState.destroyed=ae)}}),z.prototype.destroy=l.destroy,z.prototype._undestroy=l.undestroy,z.prototype._destroy=function(ie,ae){ae(ie)}}).call(this,M("_process"),typeof Ue<"u"?Ue:typeof self<"u"?self:typeof Ee<"u"?Ee:{})},{"../errors":160,"./_stream_duplex":162,"./internal/streams/destroy":169,"./internal/streams/state":172,"./internal/streams/stream":173,_process:133,buffer:48,inherits:75,"util-deprecate":183}],167:[function(M,H,y){(function(E){var m;function u(g,b,w){return b in g?Object.defineProperty(g,b,{value:w,enumerable:!0,configurable:!0,writable:!0}):g[b]=w,g}var c=M("./end-of-stream"),o=Symbol("lastResolve"),n=Symbol("lastReject"),r=Symbol("error"),t=Symbol("ended"),e=Symbol("lastPromise"),s=Symbol("handlePromise"),l=Symbol("stream");function a(g,b){return{value:g,done:b}}function f(g){var b=g[o];if(b!==null){var w=g[l].read();w!==null&&(g[e]=null,g[o]=null,g[n]=null,b(a(w,!1)))}}function i(g){E.nextTick(f,g)}function h(g,b){return function(w,A){g.then(function(){if(b[t]){w(a(void 0,!0));return}b[s](w,A)},A)}}var d=Object.getPrototypeOf(function(){}),p=Object.setPrototypeOf((m={get stream(){return this[l]},next:function(){var b=this,w=this[r];if(w!==null)return Promise.reject(w);if(this[t])return Promise.resolve(a(void 0,!0));if(this[l].destroyed)return new Promise(function(T,z){E.nextTick(function(){b[r]?z(b[r]):T(a(void 0,!0))})});var A=this[e],R;if(A)R=new Promise(h(A,this));else{var B=this[l].read();if(B!==null)return Promise.resolve(a(B,!1));R=new Promise(this[s])}return this[e]=R,R}},u(m,Symbol.asyncIterator,function(){return this}),u(m,"return",function(){var b=this;return new Promise(function(w,A){b[l].destroy(null,function(R){if(R){A(R);return}w(a(void 0,!0))})})}),m),d),_=function(b){var w,A=Object.create(p,(w={},u(w,l,{value:b,writable:!0}),u(w,o,{value:null,writable:!0}),u(w,n,{value:null,writable:!0}),u(w,r,{value:null,writable:!0}),u(w,t,{value:b._readableState.endEmitted,writable:!0}),u(w,s,{value:function(B,T){var z=A[l].read();z?(A[e]=null,A[o]=null,A[n]=null,B(a(z,!1))):(A[o]=B,A[n]=T)},writable:!0}),w));return A[e]=null,c(b,function(R){if(R&&R.code!=="ERR_STREAM_PREMATURE_CLOSE"){var B=A[n];B!==null&&(A[e]=null,A[o]=null,A[n]=null,B(R)),A[r]=R;return}var T=A[o];T!==null&&(A[e]=null,A[o]=null,A[n]=null,T(a(void 0,!0))),A[t]=!0}),b.on("readable",i.bind(null,A)),A};H.exports=_}).call(this,M("_process"))},{"./end-of-stream":170,_process:133}],168:[function(M,H,y){function E(e){for(var s=1;s<arguments.length;s++){var l=arguments[s]!=null?arguments[s]:{},a=Object.keys(l);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(l).filter(function(f){return Object.getOwnPropertyDescriptor(l,f).enumerable}))),a.forEach(function(f){m(e,f,l[f])})}return e}function m(e,s,l){return s in e?Object.defineProperty(e,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[s]=l,e}var u=M("buffer"),c=u.Buffer,o=M("util"),n=o.inspect,r=n&&n.custom||"inspect";function t(e,s,l){c.prototype.copy.call(e,s,l)}H.exports=function(){function e(){this.head=null,this.tail=null,this.length=0}var s=e.prototype;return s.push=function(a){var f={data:a,next:null};this.length>0?this.tail.next=f:this.head=f,this.tail=f,++this.length},s.unshift=function(a){var f={data:a,next:this.head};this.length===0&&(this.tail=f),this.head=f,++this.length},s.shift=function(){if(this.length!==0){var a=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,a}},s.clear=function(){this.head=this.tail=null,this.length=0},s.join=function(a){if(this.length===0)return"";for(var f=this.head,i=""+f.data;f=f.next;)i+=a+f.data;return i},s.concat=function(a){if(this.length===0)return c.alloc(0);for(var f=c.allocUnsafe(a>>>0),i=this.head,h=0;i;)t(i.data,f,h),h+=i.data.length,i=i.next;return f},s.consume=function(a,f){var i;return a<this.head.data.length?(i=this.head.data.slice(0,a),this.head.data=this.head.data.slice(a)):a===this.head.data.length?i=this.shift():i=f?this._getString(a):this._getBuffer(a),i},s.first=function(){return this.head.data},s._getString=function(a){var f=this.head,i=1,h=f.data;for(a-=h.length;f=f.next;){var d=f.data,p=a>d.length?d.length:a;if(p===d.length?h+=d:h+=d.slice(0,a),a-=p,a===0){p===d.length?(++i,f.next?this.head=f.next:this.head=this.tail=null):(this.head=f,f.data=d.slice(p));break}++i}return this.length-=i,h},s._getBuffer=function(a){var f=c.allocUnsafe(a),i=this.head,h=1;for(i.data.copy(f),a-=i.data.length;i=i.next;){var d=i.data,p=a>d.length?d.length:a;if(d.copy(f,f.length-a,0,p),a-=p,a===0){p===d.length?(++h,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=d.slice(p));break}++h}return this.length-=h,f},s[r]=function(l,a){return n(this,E({},a,{depth:0,customInspect:!1}))},e}()},{buffer:48,util:33}],169:[function(M,H,y){(function(E){function m(r,t){var e=this,s=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return s||l?(t?t(r):r&&(!this._writableState||!this._writableState.errorEmitted)&&E.nextTick(n,this,r),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(r||null,function(a){!t&&a?(E.nextTick(u,e,a),e._writableState&&(e._writableState.errorEmitted=!0)):t?(E.nextTick(c,e),t(a)):E.nextTick(c,e)}),this)}function u(r,t){n(r,t),c(r)}function c(r){r._writableState&&!r._writableState.emitClose||r._readableState&&!r._readableState.emitClose||r.emit("close")}function o(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function n(r,t){r.emit("error",t)}H.exports={destroy:m,undestroy:o}}).call(this,M("_process"))},{_process:133}],170:[function(M,H,y){var E=M("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function m(n){var r=!1;return function(){if(!r){r=!0;for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];n.apply(this,e)}}}function u(){}function c(n){return n.setHeader&&typeof n.abort=="function"}function o(n,r,t){if(typeof r=="function")return o(n,null,r);r||(r={}),t=m(t||u);var e=r.readable||r.readable!==!1&&n.readable,s=r.writable||r.writable!==!1&&n.writable,l=function(){n.writable||f()},a=n._writableState&&n._writableState.finished,f=function(){s=!1,a=!0,e||t.call(n)},i=n._readableState&&n._readableState.endEmitted,h=function(){e=!1,i=!0,s||t.call(n)},d=function(b){t.call(n,b)},p=function(){var b;if(e&&!i)return(!n._readableState||!n._readableState.ended)&&(b=new E),t.call(n,b);if(s&&!a)return(!n._writableState||!n._writableState.ended)&&(b=new E),t.call(n,b)},_=function(){n.req.on("finish",f)};return c(n)?(n.on("complete",f),n.on("abort",p),n.req?_():n.on("request",_)):s&&!n._writableState&&(n.on("end",l),n.on("close",l)),n.on("end",h),n.on("finish",f),r.error!==!1&&n.on("error",d),n.on("close",p),function(){n.removeListener("complete",f),n.removeListener("abort",p),n.removeListener("request",_),n.req&&n.req.removeListener("finish",f),n.removeListener("end",l),n.removeListener("close",l),n.removeListener("finish",f),n.removeListener("end",h),n.removeListener("error",d),n.removeListener("close",p)}}H.exports=o},{"../../../errors":160}],171:[function(M,H,y){var E;function m(f){var i=!1;return function(){i||(i=!0,f.apply(void 0,arguments))}}var u=M("../../../errors").codes,c=u.ERR_MISSING_ARGS,o=u.ERR_STREAM_DESTROYED;function n(f){if(f)throw f}function r(f){return f.setHeader&&typeof f.abort=="function"}function t(f,i,h,d){d=m(d);var p=!1;f.on("close",function(){p=!0}),E===void 0&&(E=M("./end-of-stream")),E(f,{readable:i,writable:h},function(g){if(g)return d(g);p=!0,d()});var _=!1;return function(g){if(!p&&!_){if(_=!0,r(f))return f.abort();if(typeof f.destroy=="function")return f.destroy();d(g||new o("pipe"))}}}function e(f){f()}function s(f,i){return f.pipe(i)}function l(f){return!f.length||typeof f[f.length-1]!="function"?n:f.pop()}function a(){for(var f=arguments.length,i=new Array(f),h=0;h<f;h++)i[h]=arguments[h];var d=l(i);if(Array.isArray(i[0])&&(i=i[0]),i.length<2)throw new c("streams");var p,_=i.map(function(g,b){var w=b<i.length-1,A=b>0;return t(g,w,A,function(R){p||(p=R),R&&_.forEach(e),!w&&(_.forEach(e),d(p))})});return i.reduce(s)}H.exports=a},{"../../../errors":160,"./end-of-stream":170}],172:[function(M,H,y){var E=M("../../../errors").codes.ERR_INVALID_OPT_VALUE;function m(c,o,n){return c.highWaterMark!=null?c.highWaterMark:o?c[n]:null}function u(c,o,n,r){var t=m(o,r,n);if(t!=null){if(!(isFinite(t)&&Math.floor(t)===t)||t<0){var e=r?n:"highWaterMark";throw new E(e,t)}return Math.floor(t)}return c.objectMode?16:16*1024}H.exports={getHighWaterMark:u}},{"../../../errors":160}],173:[function(M,H,y){arguments[4][146][0].apply(y,arguments)},{dup:146,events:52}],174:[function(M,H,y){y=H.exports=M("./lib/_stream_readable.js"),y.Stream=y,y.Readable=y,y.Writable=M("./lib/_stream_writable.js"),y.Duplex=M("./lib/_stream_duplex.js"),y.Transform=M("./lib/_stream_transform.js"),y.PassThrough=M("./lib/_stream_passthrough.js"),y.finished=M("./lib/internal/streams/end-of-stream.js"),y.pipeline=M("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":162,"./lib/_stream_passthrough.js":163,"./lib/_stream_readable.js":164,"./lib/_stream_transform.js":165,"./lib/_stream_writable.js":166,"./lib/internal/streams/end-of-stream.js":170,"./lib/internal/streams/pipeline.js":171}],175:[function(M,H,y){arguments[4][148][0].apply(y,arguments)},{dup:148,"safe-buffer":154}],176:[function(M,H,y){(function(E,m){var u=M("process/browser.js").nextTick,c=Function.prototype.apply,o=Array.prototype.slice,n={},r=0;y.setTimeout=function(){return new t(c.call(setTimeout,Ee,arguments),clearTimeout)},y.setInterval=function(){return new t(c.call(setInterval,Ee,arguments),clearInterval)},y.clearTimeout=y.clearInterval=function(e){e.close()};function t(e,s){this._id=e,this._clearFn=s}t.prototype.unref=t.prototype.ref=function(){},t.prototype.close=function(){this._clearFn.call(Ee,this._id)},y.enroll=function(e,s){clearTimeout(e._idleTimeoutId),e._idleTimeout=s},y.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},y._unrefActive=y.active=function(e){clearTimeout(e._idleTimeoutId);var s=e._idleTimeout;s>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},s))},y.setImmediate=typeof E=="function"?E:function(e){var s=r++,l=arguments.length<2?!1:o.call(arguments,1);return n[s]=!0,u(function(){n[s]&&(l?e.apply(null,l):e.call(null),y.clearImmediate(s))}),s},y.clearImmediate=typeof m=="function"?m:function(e){delete n[e]}}).call(this,M("timers").setImmediate,M("timers").clearImmediate)},{"process/browser.js":133,timers:176}],177:[function(M,H,y){(function(E){Object.defineProperty(y,"__esModule",{value:!0});var m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O};y.clone=r,y.addLast=s,y.addFirst=l,y.removeLast=a,y.removeFirst=f,y.insert=i,y.removeAt=h,y.replaceAt=d,y.getIn=p,y.set=_,y.setIn=b,y.update=w,y.updateIn=A,y.merge=R,y.mergeDeep=B,y.mergeIn=T,y.omit=z,y.addDefaults=F;/*!
 * Timm
 *
 * Immutability helpers with fast reads and acceptable writes.
 *
 * @copyright Guillermo Grau Panea 2016
 * @license MIT
 */var u="INVALID_ARGS";function c(O){throw new Error(O)}function o(O){var k=Object.keys(O);return Object.getOwnPropertySymbols?k.concat(Object.getOwnPropertySymbols(O)):k}var n={}.hasOwnProperty;function r(O){if(Array.isArray(O))return O.slice();for(var k=o(O),G={},J=0;J<k.length;J++){var $=k[J];G[$]=O[$]}return G}function t(O,k,G){var J=G;J==null&&c(E.env.NODE_ENV!=="production"?"At least one object should be provided to merge()":u);for(var $=!1,ee=arguments.length,j=Array(ee>3?ee-3:0),Y=3;Y<ee;Y++)j[Y-3]=arguments[Y];for(var W=0;W<j.length;W++){var Q=j[W];if(Q!=null){var re=o(Q);if(re.length)for(var ue=0;ue<=re.length;ue++){var le=re[ue];if(!(O&&J[le]!==void 0)){var he=Q[le];k&&e(J[le])&&e(he)&&(he=t(O,k,J[le],he)),!(he===void 0||he===J[le])&&($||($=!0,J=r(J)),J[le]=he)}}}}return J}function e(O){var k=typeof O>"u"?"undefined":m(O);return O!=null&&k==="object"}function s(O,k){return Array.isArray(k)?O.concat(k):O.concat([k])}function l(O,k){return Array.isArray(k)?k.concat(O):[k].concat(O)}function a(O){return O.length?O.slice(0,O.length-1):O}function f(O){return O.length?O.slice(1):O}function i(O,k,G){return O.slice(0,k).concat(Array.isArray(G)?G:[G]).concat(O.slice(k))}function h(O,k){return k>=O.length||k<0?O:O.slice(0,k).concat(O.slice(k+1))}function d(O,k,G){if(O[k]===G)return O;for(var J=O.length,$=Array(J),ee=0;ee<J;ee++)$[ee]=O[ee];return $[k]=G,$}function p(O,k){if(!Array.isArray(k)&&c(E.env.NODE_ENV!=="production"?"A path array should be provided when calling getIn()":u),O!=null){for(var G=O,J=0;J<k.length;J++){var $=k[J];if(G=G!=null?G[$]:void 0,G===void 0)return G}return G}}function _(O,k,G){var J=typeof k=="number"?[]:{},$=O??J;if($[k]===G)return $;var ee=r($);return ee[k]=G,ee}function g(O,k,G,J){var $=void 0,ee=k[J];if(J===k.length-1)$=G;else{var j=e(O)&&e(O[ee])?O[ee]:typeof k[J+1]=="number"?[]:{};$=g(j,k,G,J+1)}return _(O,ee,$)}function b(O,k,G){return k.length?g(O,k,G,0):G}function w(O,k,G){var J=O==null?void 0:O[k],$=G(J);return _(O,k,$)}function A(O,k,G){var J=p(O,k),$=G(J);return b(O,k,$)}function R(O,k,G,J,$,ee){for(var j=arguments.length,Y=Array(j>6?j-6:0),W=6;W<j;W++)Y[W-6]=arguments[W];return Y.length?t.call.apply(t,[null,!1,!1,O,k,G,J,$,ee].concat(Y)):t(!1,!1,O,k,G,J,$,ee)}function B(O,k,G,J,$,ee){for(var j=arguments.length,Y=Array(j>6?j-6:0),W=6;W<j;W++)Y[W-6]=arguments[W];return Y.length?t.call.apply(t,[null,!1,!0,O,k,G,J,$,ee].concat(Y)):t(!1,!0,O,k,G,J,$,ee)}function T(O,k,G,J,$,ee,j){var Y=p(O,k);Y==null&&(Y={});for(var W=void 0,Q=arguments.length,re=Array(Q>7?Q-7:0),ue=7;ue<Q;ue++)re[ue-7]=arguments[ue];return re.length?W=t.call.apply(t,[null,!1,!1,Y,G,J,$,ee,j].concat(re)):W=t(!1,!1,Y,G,J,$,ee,j),b(O,k,W)}function z(O,k){for(var G=Array.isArray(k)?k:[k],J=!1,$=0;$<G.length;$++)if(n.call(O,G[$])){J=!0;break}if(!J)return O;for(var ee={},j=o(O),Y=0;Y<j.length;Y++){var W=j[Y];G.indexOf(W)>=0||(ee[W]=O[W])}return ee}function F(O,k,G,J,$,ee){for(var j=arguments.length,Y=Array(j>6?j-6:0),W=6;W<j;W++)Y[W-6]=arguments[W];return Y.length?t.call.apply(t,[null,!0,!1,O,k,G,J,$,ee].concat(Y)):t(!0,!1,O,k,G,J,$,ee)}var D={clone:r,addLast:s,addFirst:l,removeLast:a,removeFirst:f,insert:i,removeAt:h,replaceAt:d,getIn:p,set:_,setIn:b,update:w,updateIn:A,merge:R,mergeDeep:B,mergeIn:T,omit:z,addDefaults:F};y.default=D}).call(this,M("_process"))},{_process:133}],178:[function(M,H,y){(function(E){var m=/^\s+/,u=/\s+$/,c=0,o=E.round,n=E.min,r=E.max,t=E.random;function e(U,L){if(U=U||"",L=L||{},U instanceof e)return U;if(!(this instanceof e))return new e(U,L);var P=s(U);this._originalInput=U,this._r=P.r,this._g=P.g,this._b=P.b,this._a=P.a,this._roundA=o(100*this._a)/100,this._format=L.format||P.format,this._gradientType=L.gradientType,this._r<1&&(this._r=o(this._r)),this._g<1&&(this._g=o(this._g)),this._b<1&&(this._b=o(this._b)),this._ok=P.ok,this._tc_id=c++}e.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var U=this.toRgb();return(U.r*299+U.g*587+U.b*114)/1e3},getLuminance:function(){var U=this.toRgb(),L,P,Z,x,C,S;return L=U.r/255,P=U.g/255,Z=U.b/255,L<=.03928?x=L/12.92:x=E.pow((L+.055)/1.055,2.4),P<=.03928?C=P/12.92:C=E.pow((P+.055)/1.055,2.4),Z<=.03928?S=Z/12.92:S=E.pow((Z+.055)/1.055,2.4),.2126*x+.7152*C+.0722*S},setAlpha:function(U){return this._a=j(U),this._roundA=o(100*this._a)/100,this},toHsv:function(){var U=i(this._r,this._g,this._b);return{h:U.h*360,s:U.s,v:U.v,a:this._a}},toHsvString:function(){var U=i(this._r,this._g,this._b),L=o(U.h*360),P=o(U.s*100),Z=o(U.v*100);return this._a==1?"hsv("+L+", "+P+"%, "+Z+"%)":"hsva("+L+", "+P+"%, "+Z+"%, "+this._roundA+")"},toHsl:function(){var U=a(this._r,this._g,this._b);return{h:U.h*360,s:U.s,l:U.l,a:this._a}},toHslString:function(){var U=a(this._r,this._g,this._b),L=o(U.h*360),P=o(U.s*100),Z=o(U.l*100);return this._a==1?"hsl("+L+", "+P+"%, "+Z+"%)":"hsla("+L+", "+P+"%, "+Z+"%, "+this._roundA+")"},toHex:function(U){return d(this._r,this._g,this._b,U)},toHexString:function(U){return"#"+this.toHex(U)},toHex8:function(U){return p(this._r,this._g,this._b,this._a,U)},toHex8String:function(U){return"#"+this.toHex8(U)},toRgb:function(){return{r:o(this._r),g:o(this._g),b:o(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+o(this._r)+", "+o(this._g)+", "+o(this._b)+")":"rgba("+o(this._r)+", "+o(this._g)+", "+o(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:o(Y(this._r,255)*100)+"%",g:o(Y(this._g,255)*100)+"%",b:o(Y(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+o(Y(this._r,255)*100)+"%, "+o(Y(this._g,255)*100)+"%, "+o(Y(this._b,255)*100)+"%)":"rgba("+o(Y(this._r,255)*100)+"%, "+o(Y(this._g,255)*100)+"%, "+o(Y(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:$[d(this._r,this._g,this._b,!0)]||!1},toFilter:function(U){var L="#"+_(this._r,this._g,this._b,this._a),P=L,Z=this._gradientType?"GradientType = 1, ":"";if(U){var x=e(U);P="#"+_(x._r,x._g,x._b,x._a)}return"progid:DXImageTransform.Microsoft.gradient("+Z+"startColorstr="+L+",endColorstr="+P+")"},toString:function(U){var L=!!U;U=U||this._format;var P=!1,Z=this._a<1&&this._a>=0,x=!L&&Z&&(U==="hex"||U==="hex6"||U==="hex3"||U==="hex4"||U==="hex8"||U==="name");return x?U==="name"&&this._a===0?this.toName():this.toRgbString():(U==="rgb"&&(P=this.toRgbString()),U==="prgb"&&(P=this.toPercentageRgbString()),(U==="hex"||U==="hex6")&&(P=this.toHexString()),U==="hex3"&&(P=this.toHexString(!0)),U==="hex4"&&(P=this.toHex8String(!0)),U==="hex8"&&(P=this.toHex8String()),U==="name"&&(P=this.toName()),U==="hsl"&&(P=this.toHslString()),U==="hsv"&&(P=this.toHsvString()),P||this.toHexString())},clone:function(){return e(this.toString())},_applyModification:function(U,L){var P=U.apply(null,[this].concat([].slice.call(L)));return this._r=P._r,this._g=P._g,this._b=P._b,this.setAlpha(P._a),this},lighten:function(){return this._applyModification(A,arguments)},brighten:function(){return this._applyModification(R,arguments)},darken:function(){return this._applyModification(B,arguments)},desaturate:function(){return this._applyModification(g,arguments)},saturate:function(){return this._applyModification(b,arguments)},greyscale:function(){return this._applyModification(w,arguments)},spin:function(){return this._applyModification(T,arguments)},_applyCombination:function(U,L){return U.apply(null,[this].concat([].slice.call(L)))},analogous:function(){return this._applyCombination(k,arguments)},complement:function(){return this._applyCombination(z,arguments)},monochromatic:function(){return this._applyCombination(G,arguments)},splitcomplement:function(){return this._applyCombination(O,arguments)},triad:function(){return this._applyCombination(F,arguments)},tetrad:function(){return this._applyCombination(D,arguments)}},e.fromRatio=function(U,L){if(typeof U=="object"){var P={};for(var Z in U)U.hasOwnProperty(Z)&&(Z==="a"?P[Z]=U[Z]:P[Z]=he(U[Z]));U=P}return e(U,L)};function s(U){var L={r:0,g:0,b:0},P=1,Z=null,x=null,C=null,S=!1,X=!1;return typeof U=="string"&&(U=q(U)),typeof U=="object"&&(V(U.r)&&V(U.g)&&V(U.b)?(L=l(U.r,U.g,U.b),S=!0,X=String(U.r).substr(-1)==="%"?"prgb":"rgb"):V(U.h)&&V(U.s)&&V(U.v)?(Z=he(U.s),x=he(U.v),L=h(U.h,Z,x),S=!0,X="hsv"):V(U.h)&&V(U.s)&&V(U.l)&&(Z=he(U.s),C=he(U.l),L=f(U.h,Z,C),S=!0,X="hsl"),U.hasOwnProperty("a")&&(P=U.a)),P=j(P),{ok:S,format:U.format||X,r:n(255,r(L.r,0)),g:n(255,r(L.g,0)),b:n(255,r(L.b,0)),a:P}}function l(U,L,P){return{r:Y(U,255)*255,g:Y(L,255)*255,b:Y(P,255)*255}}function a(U,L,P){U=Y(U,255),L=Y(L,255),P=Y(P,255);var Z=r(U,L,P),x=n(U,L,P),C,S,X=(Z+x)/2;if(Z==x)C=S=0;else{var oe=Z-x;switch(S=X>.5?oe/(2-Z-x):oe/(Z+x),Z){case U:C=(L-P)/oe+(L<P?6:0);break;case L:C=(P-U)/oe+2;break;case P:C=(U-L)/oe+4;break}C/=6}return{h:C,s:S,l:X}}function f(U,L,P){var Z,x,C;U=Y(U,360),L=Y(L,100),P=Y(P,100);function S(_e,ye,Te){return Te<0&&(Te+=1),Te>1&&(Te-=1),Te<1/6?_e+(ye-_e)*6*Te:Te<1/2?ye:Te<2/3?_e+(ye-_e)*(2/3-Te)*6:_e}if(L===0)Z=x=C=P;else{var X=P<.5?P*(1+L):P+L-P*L,oe=2*P-X;Z=S(oe,X,U+1/3),x=S(oe,X,U),C=S(oe,X,U-1/3)}return{r:Z*255,g:x*255,b:C*255}}function i(U,L,P){U=Y(U,255),L=Y(L,255),P=Y(P,255);var Z=r(U,L,P),x=n(U,L,P),C,S,X=Z,oe=Z-x;if(S=Z===0?0:oe/Z,Z==x)C=0;else{switch(Z){case U:C=(L-P)/oe+(L<P?6:0);break;case L:C=(P-U)/oe+2;break;case P:C=(U-L)/oe+4;break}C/=6}return{h:C,s:S,v:X}}function h(U,L,P){U=Y(U,360)*6,L=Y(L,100),P=Y(P,100);var Z=E.floor(U),x=U-Z,C=P*(1-L),S=P*(1-x*L),X=P*(1-(1-x)*L),oe=Z%6,_e=[P,S,C,C,X,P][oe],ye=[X,P,P,S,C,C][oe],Te=[C,C,X,P,P,S][oe];return{r:_e*255,g:ye*255,b:Te*255}}function d(U,L,P,Z){var x=[le(o(U).toString(16)),le(o(L).toString(16)),le(o(P).toString(16))];return Z&&x[0].charAt(0)==x[0].charAt(1)&&x[1].charAt(0)==x[1].charAt(1)&&x[2].charAt(0)==x[2].charAt(1)?x[0].charAt(0)+x[1].charAt(0)+x[2].charAt(0):x.join("")}function p(U,L,P,Z,x){var C=[le(o(U).toString(16)),le(o(L).toString(16)),le(o(P).toString(16)),le(ge(Z))];return x&&C[0].charAt(0)==C[0].charAt(1)&&C[1].charAt(0)==C[1].charAt(1)&&C[2].charAt(0)==C[2].charAt(1)&&C[3].charAt(0)==C[3].charAt(1)?C[0].charAt(0)+C[1].charAt(0)+C[2].charAt(0)+C[3].charAt(0):C.join("")}function _(U,L,P,Z){var x=[le(ge(Z)),le(o(U).toString(16)),le(o(L).toString(16)),le(o(P).toString(16))];return x.join("")}e.equals=function(U,L){return!U||!L?!1:e(U).toRgbString()==e(L).toRgbString()},e.random=function(){return e.fromRatio({r:t(),g:t(),b:t()})};function g(U,L){L=L===0?0:L||10;var P=e(U).toHsl();return P.s-=L/100,P.s=W(P.s),e(P)}function b(U,L){L=L===0?0:L||10;var P=e(U).toHsl();return P.s+=L/100,P.s=W(P.s),e(P)}function w(U){return e(U).desaturate(100)}function A(U,L){L=L===0?0:L||10;var P=e(U).toHsl();return P.l+=L/100,P.l=W(P.l),e(P)}function R(U,L){L=L===0?0:L||10;var P=e(U).toRgb();return P.r=r(0,n(255,P.r-o(255*-(L/100)))),P.g=r(0,n(255,P.g-o(255*-(L/100)))),P.b=r(0,n(255,P.b-o(255*-(L/100)))),e(P)}function B(U,L){L=L===0?0:L||10;var P=e(U).toHsl();return P.l-=L/100,P.l=W(P.l),e(P)}function T(U,L){var P=e(U).toHsl(),Z=(P.h+L)%360;return P.h=Z<0?360+Z:Z,e(P)}function z(U){var L=e(U).toHsl();return L.h=(L.h+180)%360,e(L)}function F(U){var L=e(U).toHsl(),P=L.h;return[e(U),e({h:(P+120)%360,s:L.s,l:L.l}),e({h:(P+240)%360,s:L.s,l:L.l})]}function D(U){var L=e(U).toHsl(),P=L.h;return[e(U),e({h:(P+90)%360,s:L.s,l:L.l}),e({h:(P+180)%360,s:L.s,l:L.l}),e({h:(P+270)%360,s:L.s,l:L.l})]}function O(U){var L=e(U).toHsl(),P=L.h;return[e(U),e({h:(P+72)%360,s:L.s,l:L.l}),e({h:(P+216)%360,s:L.s,l:L.l})]}function k(U,L,P){L=L||6,P=P||30;var Z=e(U).toHsl(),x=360/P,C=[e(U)];for(Z.h=(Z.h-(x*L>>1)+720)%360;--L;)Z.h=(Z.h+x)%360,C.push(e(Z));return C}function G(U,L){L=L||6;for(var P=e(U).toHsv(),Z=P.h,x=P.s,C=P.v,S=[],X=1/L;L--;)S.push(e({h:Z,s:x,v:C})),C=(C+X)%1;return S}e.mix=function(U,L,P){P=P===0?0:P||50;var Z=e(U).toRgb(),x=e(L).toRgb(),C=P/100,S={r:(x.r-Z.r)*C+Z.r,g:(x.g-Z.g)*C+Z.g,b:(x.b-Z.b)*C+Z.b,a:(x.a-Z.a)*C+Z.a};return e(S)},e.readability=function(U,L){var P=e(U),Z=e(L);return(E.max(P.getLuminance(),Z.getLuminance())+.05)/(E.min(P.getLuminance(),Z.getLuminance())+.05)},e.isReadable=function(U,L,P){var Z=e.readability(U,L),x,C;switch(C=!1,x=te(P),x.level+x.size){case"AAsmall":case"AAAlarge":C=Z>=4.5;break;case"AAlarge":C=Z>=3;break;case"AAAsmall":C=Z>=7;break}return C},e.mostReadable=function(U,L,P){var Z=null,x=0,C,S,X,oe;P=P||{},S=P.includeFallbackColors,X=P.level,oe=P.size;for(var _e=0;_e<L.length;_e++)C=e.readability(U,L[_e]),C>x&&(x=C,Z=e(L[_e]));return e.isReadable(U,Z,{level:X,size:oe})||!S?Z:(P.includeFallbackColors=!1,e.mostReadable(U,["#fff","#000"],P))};var J=e.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},$=e.hexNames=ee(J);function ee(U){var L={};for(var P in U)U.hasOwnProperty(P)&&(L[U[P]]=P);return L}function j(U){return U=parseFloat(U),(isNaN(U)||U<0||U>1)&&(U=1),U}function Y(U,L){re(U)&&(U="100%");var P=ue(U);return U=n(L,r(0,parseFloat(U))),P&&(U=parseInt(U*L,10)/100),E.abs(U-L)<1e-6?1:U%L/parseFloat(L)}function W(U){return n(1,r(0,U))}function Q(U){return parseInt(U,16)}function re(U){return typeof U=="string"&&U.indexOf(".")!=-1&&parseFloat(U)===1}function ue(U){return typeof U=="string"&&U.indexOf("%")!=-1}function le(U){return U.length==1?"0"+U:""+U}function he(U){return U<=1&&(U=U*100+"%"),U}function ge(U){return E.round(parseFloat(U)*255).toString(16)}function ie(U){return Q(U)/255}var ae=function(){var U="[-\\+]?\\d+%?",L="[-\\+]?\\d*\\.\\d+%?",P="(?:"+L+")|(?:"+U+")",Z="[\\s|\\(]+("+P+")[,|\\s]+("+P+")[,|\\s]+("+P+")\\s*\\)?",x="[\\s|\\(]+("+P+")[,|\\s]+("+P+")[,|\\s]+("+P+")[,|\\s]+("+P+")\\s*\\)?";return{CSS_UNIT:new RegExp(P),rgb:new RegExp("rgb"+Z),rgba:new RegExp("rgba"+x),hsl:new RegExp("hsl"+Z),hsla:new RegExp("hsla"+x),hsv:new RegExp("hsv"+Z),hsva:new RegExp("hsva"+x),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function V(U){return!!ae.CSS_UNIT.exec(U)}function q(U){U=U.replace(m,"").replace(u,"").toLowerCase();var L=!1;if(J[U])U=J[U],L=!0;else if(U=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var P;return(P=ae.rgb.exec(U))?{r:P[1],g:P[2],b:P[3]}:(P=ae.rgba.exec(U))?{r:P[1],g:P[2],b:P[3],a:P[4]}:(P=ae.hsl.exec(U))?{h:P[1],s:P[2],l:P[3]}:(P=ae.hsla.exec(U))?{h:P[1],s:P[2],l:P[3],a:P[4]}:(P=ae.hsv.exec(U))?{h:P[1],s:P[2],v:P[3]}:(P=ae.hsva.exec(U))?{h:P[1],s:P[2],v:P[3],a:P[4]}:(P=ae.hex8.exec(U))?{r:Q(P[1]),g:Q(P[2]),b:Q(P[3]),a:ie(P[4]),format:L?"name":"hex8"}:(P=ae.hex6.exec(U))?{r:Q(P[1]),g:Q(P[2]),b:Q(P[3]),format:L?"name":"hex"}:(P=ae.hex4.exec(U))?{r:Q(P[1]+""+P[1]),g:Q(P[2]+""+P[2]),b:Q(P[3]+""+P[3]),a:ie(P[4]+""+P[4]),format:L?"name":"hex8"}:(P=ae.hex3.exec(U))?{r:Q(P[1]+""+P[1]),g:Q(P[2]+""+P[2]),b:Q(P[3]+""+P[3]),format:L?"name":"hex"}:!1}function te(U){var L,P;return U=U||{level:"AA",size:"small"},L=(U.level||"AA").toUpperCase(),P=(U.size||"small").toLowerCase(),L!=="AA"&&L!=="AAA"&&(L="AA"),P!=="small"&&P!=="large"&&(P="small"),{level:L,size:P}}typeof H<"u"&&H.exports?H.exports=e:Ee.tinycolor=e})(Math)},{}],179:[function(M,H,y){y=H.exports=E;function E(m){return m.replace(/^\s*|\s*$/g,"")}y.left=function(m){return m.replace(/^\s*/,"")},y.right=function(m){return m.replace(/\s*$/,"")}},{}],180:[function(M,H,y){var E=M("punycode"),m=M("./util");y.parse=g,y.resolve=w,y.resolveObject=A,y.format=b,y.Url=u;function u(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var c=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,n=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,r=["<",">",'"',"`"," ","\r",`
`,"	"],t=["{","}","|","\\","^","`"].concat(r),e=["'"].concat(t),s=["%","/","?",";","#"].concat(e),l=["/","?","#"],a=255,f=/^[+a-z0-9A-Z_-]{0,63}$/,i=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,h={javascript:!0,"javascript:":!0},d={javascript:!0,"javascript:":!0},p={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},_=M("querystring");function g(R,B,T){if(R&&m.isObject(R)&&R instanceof u)return R;var z=new u;return z.parse(R,B,T),z}u.prototype.parse=function(R,B,T){if(!m.isString(R))throw new TypeError("Parameter 'url' must be a string, not "+typeof R);var z=R.indexOf("?"),F=z!==-1&&z<R.indexOf("#")?"?":"#",D=R.split(F),O=/\\/g;D[0]=D[0].replace(O,"/"),R=D.join(F);var k=R;if(k=k.trim(),!T&&R.split("#").length===1){var G=n.exec(k);if(G)return this.path=k,this.href=k,this.pathname=G[1],G[2]?(this.search=G[2],B?this.query=_.parse(this.search.substr(1)):this.query=this.search.substr(1)):B&&(this.search="",this.query={}),this}var J=c.exec(k);if(J){J=J[0];var $=J.toLowerCase();this.protocol=$,k=k.substr(J.length)}if(T||J||k.match(/^\/\/[^@\/]+@[^@\/]+/)){var ee=k.substr(0,2)==="//";ee&&!(J&&d[J])&&(k=k.substr(2),this.slashes=!0)}if(!d[J]&&(ee||J&&!p[J])){for(var j=-1,Y=0;Y<l.length;Y++){var W=k.indexOf(l[Y]);W!==-1&&(j===-1||W<j)&&(j=W)}var Q,re;j===-1?re=k.lastIndexOf("@"):re=k.lastIndexOf("@",j),re!==-1&&(Q=k.slice(0,re),k=k.slice(re+1),this.auth=decodeURIComponent(Q)),j=-1;for(var Y=0;Y<s.length;Y++){var W=k.indexOf(s[Y]);W!==-1&&(j===-1||W<j)&&(j=W)}j===-1&&(j=k.length),this.host=k.slice(0,j),k=k.slice(j),this.parseHost(),this.hostname=this.hostname||"";var ue=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!ue)for(var le=this.hostname.split(/\./),Y=0,he=le.length;Y<he;Y++){var ge=le[Y];if(ge&&!ge.match(f)){for(var ie="",ae=0,V=ge.length;ae<V;ae++)ge.charCodeAt(ae)>127?ie+="x":ie+=ge[ae];if(!ie.match(f)){var q=le.slice(0,Y),te=le.slice(Y+1),U=ge.match(i);U&&(q.push(U[1]),te.unshift(U[2])),te.length&&(k="/"+te.join(".")+k),this.hostname=q.join(".");break}}}this.hostname.length>a?this.hostname="":this.hostname=this.hostname.toLowerCase(),ue||(this.hostname=E.toASCII(this.hostname));var L=this.port?":"+this.port:"",P=this.hostname||"";this.host=P+L,this.href+=this.host,ue&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),k[0]!=="/"&&(k="/"+k))}if(!h[$])for(var Y=0,he=e.length;Y<he;Y++){var Z=e[Y];if(k.indexOf(Z)!==-1){var x=encodeURIComponent(Z);x===Z&&(x=escape(Z)),k=k.split(Z).join(x)}}var C=k.indexOf("#");C!==-1&&(this.hash=k.substr(C),k=k.slice(0,C));var S=k.indexOf("?");if(S!==-1?(this.search=k.substr(S),this.query=k.substr(S+1),B&&(this.query=_.parse(this.query)),k=k.slice(0,S)):B&&(this.search="",this.query={}),k&&(this.pathname=k),p[$]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var L=this.pathname||"",X=this.search||"";this.path=L+X}return this.href=this.format(),this};function b(R){return m.isString(R)&&(R=g(R)),R instanceof u?R.format():u.prototype.format.call(R)}u.prototype.format=function(){var R=this.auth||"";R&&(R=encodeURIComponent(R),R=R.replace(/%3A/i,":"),R+="@");var B=this.protocol||"",T=this.pathname||"",z=this.hash||"",F=!1,D="";this.host?F=R+this.host:this.hostname&&(F=R+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(F+=":"+this.port)),this.query&&m.isObject(this.query)&&Object.keys(this.query).length&&(D=_.stringify(this.query));var O=this.search||D&&"?"+D||"";return B&&B.substr(-1)!==":"&&(B+=":"),this.slashes||(!B||p[B])&&F!==!1?(F="//"+(F||""),T&&T.charAt(0)!=="/"&&(T="/"+T)):F||(F=""),z&&z.charAt(0)!=="#"&&(z="#"+z),O&&O.charAt(0)!=="?"&&(O="?"+O),T=T.replace(/[?#]/g,function(k){return encodeURIComponent(k)}),O=O.replace("#","%23"),B+F+T+O+z};function w(R,B){return g(R,!1,!0).resolve(B)}u.prototype.resolve=function(R){return this.resolveObject(g(R,!1,!0)).format()};function A(R,B){return R?g(R,!1,!0).resolveObject(B):B}u.prototype.resolveObject=function(R){if(m.isString(R)){var B=new u;B.parse(R,!1,!0),R=B}for(var T=new u,z=Object.keys(this),F=0;F<z.length;F++){var D=z[F];T[D]=this[D]}if(T.hash=R.hash,R.href==="")return T.href=T.format(),T;if(R.slashes&&!R.protocol){for(var O=Object.keys(R),k=0;k<O.length;k++){var G=O[k];G!=="protocol"&&(T[G]=R[G])}return p[T.protocol]&&T.hostname&&!T.pathname&&(T.path=T.pathname="/"),T.href=T.format(),T}if(R.protocol&&R.protocol!==T.protocol){if(!p[R.protocol]){for(var J=Object.keys(R),$=0;$<J.length;$++){var ee=J[$];T[ee]=R[ee]}return T.href=T.format(),T}if(T.protocol=R.protocol,!R.host&&!d[R.protocol]){for(var he=(R.pathname||"").split("/");he.length&&!(R.host=he.shift()););R.host||(R.host=""),R.hostname||(R.hostname=""),he[0]!==""&&he.unshift(""),he.length<2&&he.unshift(""),T.pathname=he.join("/")}else T.pathname=R.pathname;if(T.search=R.search,T.query=R.query,T.host=R.host||"",T.auth=R.auth,T.hostname=R.hostname||R.host,T.port=R.port,T.pathname||T.search){var j=T.pathname||"",Y=T.search||"";T.path=j+Y}return T.slashes=T.slashes||R.slashes,T.href=T.format(),T}var W=T.pathname&&T.pathname.charAt(0)==="/",Q=R.host||R.pathname&&R.pathname.charAt(0)==="/",re=Q||W||T.host&&R.pathname,ue=re,le=T.pathname&&T.pathname.split("/")||[],he=R.pathname&&R.pathname.split("/")||[],ge=T.protocol&&!p[T.protocol];if(ge&&(T.hostname="",T.port=null,T.host&&(le[0]===""?le[0]=T.host:le.unshift(T.host)),T.host="",R.protocol&&(R.hostname=null,R.port=null,R.host&&(he[0]===""?he[0]=R.host:he.unshift(R.host)),R.host=null),re=re&&(he[0]===""||le[0]==="")),Q)T.host=R.host||R.host===""?R.host:T.host,T.hostname=R.hostname||R.hostname===""?R.hostname:T.hostname,T.search=R.search,T.query=R.query,le=he;else if(he.length)le||(le=[]),le.pop(),le=le.concat(he),T.search=R.search,T.query=R.query;else if(!m.isNullOrUndefined(R.search)){if(ge){T.hostname=T.host=le.shift();var ie=T.host&&T.host.indexOf("@")>0?T.host.split("@"):!1;ie&&(T.auth=ie.shift(),T.host=T.hostname=ie.shift())}return T.search=R.search,T.query=R.query,(!m.isNull(T.pathname)||!m.isNull(T.search))&&(T.path=(T.pathname?T.pathname:"")+(T.search?T.search:"")),T.href=T.format(),T}if(!le.length)return T.pathname=null,T.search?T.path="/"+T.search:T.path=null,T.href=T.format(),T;for(var ae=le.slice(-1)[0],V=(T.host||R.host||le.length>1)&&(ae==="."||ae==="..")||ae==="",q=0,te=le.length;te>=0;te--)ae=le[te],ae==="."?le.splice(te,1):ae===".."?(le.splice(te,1),q++):q&&(le.splice(te,1),q--);if(!re&&!ue)for(;q--;q)le.unshift("..");re&&le[0]!==""&&(!le[0]||le[0].charAt(0)!=="/")&&le.unshift(""),V&&le.join("/").substr(-1)!=="/"&&le.push("");var U=le[0]===""||le[0]&&le[0].charAt(0)==="/";if(ge){T.hostname=T.host=U?"":le.length?le.shift():"";var ie=T.host&&T.host.indexOf("@")>0?T.host.split("@"):!1;ie&&(T.auth=ie.shift(),T.host=T.hostname=ie.shift())}return re=re||T.host&&le.length,re&&!U&&le.unshift(""),le.length?T.pathname=le.join("/"):(T.pathname=null,T.path=null),(!m.isNull(T.pathname)||!m.isNull(T.search))&&(T.path=(T.pathname?T.pathname:"")+(T.search?T.search:"")),T.auth=R.auth||T.auth,T.slashes=T.slashes||R.slashes,T.href=T.format(),T},u.prototype.parseHost=function(){var R=this.host,B=o.exec(R);B&&(B=B[0],B!==":"&&(this.port=B.substr(1)),R=R.substr(0,R.length-B.length)),R&&(this.hostname=R)}},{"./util":181,punycode:134,querystring:137}],181:[function(M,H,y){H.exports={isString:function(E){return typeof E=="string"},isObject:function(E){return typeof E=="object"&&E!==null},isNull:function(E){return E===null},isNullOrUndefined:function(E){return E==null}}},{}],182:[function(M,H,y){(function(E){(function(){var m={};typeof H=="object"?H.exports=m:self.UTIF=m;var u;typeof M=="function"?u=M("pako"):u=self.pako;function c(){(typeof E>"u"||E.env.NODE_ENV=="development")&&console.log.apply(console,arguments)}(function(o,n){(function(){var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},t=function(){function s(l){this.message="JPEG error: "+l}return s.prototype=Error(),s.prototype.name="JpegError",s.constructor=s}(),e=function(){function s(l,a){this.message=l,this.g=a}return s.prototype=Error(),s.prototype.name="DNLMarkerError",s.constructor=s}();(function(){function s(){this.M=null,this.B=-1}function l(d,p){for(var _=0,g=[],b,w,A=16;0<A&&!d[A-1];)A--;g.push({children:[],index:0});var R=g[0],B;for(b=0;b<A;b++){for(w=0;w<d[b];w++){for(R=g.pop(),R.children[R.index]=p[_];0<R.index;)R=g.pop();for(R.index++,g.push(R);g.length<=b;)g.push(B={children:[],index:0}),R.children[R.index]=B.children,R=B;_++}b+1<A&&(g.push(B={children:[],index:0}),R.children[R.index]=B.children,R=B)}return g[0].children}function a(d,p,_,g,b,w,A,R,B){function T(){if(0<Q)return Q--,W>>Q&1;if(W=d[p++],W===255){var C=d[p++];if(C){if(C===220&&ee){p+=2;var S=d[p++]<<8|d[p++];if(0<S&&S!==_.g)throw new e("Found DNL marker (0xFFDC) while parsing scan data",S)}throw new t("unexpected marker "+(W<<8|C).toString(16))}}return Q=7,W>>>7}function z(C){for(;;){if(C=C[T()],typeof C=="number")return C;if((typeof C>"u"?"undefined":r(C))!=="object")throw new t("invalid huffman sequence")}}function F(C){for(var S=0;0<C;)S=S<<1|T(),C--;return S}function D(C){if(C===1)return T()===1?1:-1;var S=F(C);return S>=1<<C-1?S:S+(-1<<C)+1}function O(C,S){var X=z(C.D);for(X=X===0?0:D(X),C.a[S]=C.m+=X,X=1;64>X;){var oe=z(C.o),_e=oe&15;if(oe>>=4,_e===0){if(15>oe)break;X+=16}else X+=oe,C.a[S+h[X]]=D(_e),X++}}function k(C,S){var X=z(C.D);X=X===0?0:D(X)<<B,C.a[S]=C.m+=X}function G(C,S){C.a[S]|=T()<<B}function J(C,S){if(0<re)re--;else for(var X=w;X<=A;){var oe=z(C.o),_e=oe&15;if(oe>>=4,_e===0){if(15>oe){re=F(oe)+(1<<oe)-1;break}X+=16}else X+=oe,C.a[S+h[X]]=D(_e)*(1<<B),X++}}function $(C,S){for(var X=w,oe=0,_e;X<=A;){_e=S+h[X];var ye=0>C.a[_e]?-1:1;switch(ue){case 0:if(oe=z(C.o),_e=oe&15,oe>>=4,_e===0)15>oe?(re=F(oe)+(1<<oe),ue=4):(oe=16,ue=1);else{if(_e!==1)throw new t("invalid ACn encoding");le=D(_e),ue=oe?2:3}continue;case 1:case 2:C.a[_e]?C.a[_e]+=ye*(T()<<B):(oe--,oe===0&&(ue=ue===2?3:0));break;case 3:C.a[_e]?C.a[_e]+=ye*(T()<<B):(C.a[_e]=le<<B,ue=0);break;case 4:C.a[_e]&&(C.a[_e]+=ye*(T()<<B))}X++}ue===4&&(re--,re===0&&(ue=0))}for(var ee=9<arguments.length&&arguments[9]!==void 0?arguments[9]:!1,j=_.P,Y=p,W=0,Q=0,re=0,ue=0,le,he=g.length,ge,ie,ae,V,q=_.S?w===0?R===0?k:G:R===0?J:$:O,te=0,U=he===1?g[0].c*g[0].l:j*_.O,L,P;te<U;){var Z=b?Math.min(U-te,b):U;for(ge=0;ge<he;ge++)g[ge].m=0;if(re=0,he===1){var x=g[0];for(V=0;V<Z;V++)q(x,64*((x.c+1)*(te/x.c|0)+te%x.c)),te++}else for(V=0;V<Z;V++){for(ge=0;ge<he;ge++)for(x=g[ge],L=x.h,P=x.j,ie=0;ie<P;ie++)for(ae=0;ae<L;ae++)q(x,64*((x.c+1)*((te/j|0)*x.j+ie)+(te%j*x.h+ae)));te++}if(Q=0,(x=i(d,p))&&x.f&&((0,_util.warn)("decodeScan - unexpected MCU data, current marker is: "+x.f),p=x.offset),x=x&&x.F,!x||65280>=x)throw new t("marker was not found");if(65488<=x&&65495>=x)p+=2;else break}return(x=i(d,p))&&x.f&&((0,_util.warn)("decodeScan - unexpected Scan data, current marker is: "+x.f),p=x.offset),p-Y}function f(d,p){for(var _=p.c,g=p.l,b=new Int16Array(64),w=0;w<g;w++)for(var A=0;A<_;A++){var R=64*((p.c+1)*w+A),B=b,T=p.G,z=p.a;if(!T)throw new t("missing required Quantization Table.");for(var F=0;64>F;F+=8){var D=z[R+F],O=z[R+F+1],k=z[R+F+2],G=z[R+F+3],J=z[R+F+4],$=z[R+F+5],ee=z[R+F+6],j=z[R+F+7];if(D*=T[F],!(O|k|G|J|$|ee|j))D=5793*D+512>>10,B[F]=D,B[F+1]=D,B[F+2]=D,B[F+3]=D,B[F+4]=D,B[F+5]=D,B[F+6]=D,B[F+7]=D;else{O*=T[F+1],k*=T[F+2],G*=T[F+3],J*=T[F+4],$*=T[F+5],ee*=T[F+6],j*=T[F+7];var Y=5793*D+128>>8,W=5793*J+128>>8,Q=k,re=ee;J=2896*(O-j)+128>>8,j=2896*(O+j)+128>>8,G<<=4,$<<=4,Y=Y+W+1>>1,W=Y-W,D=3784*Q+1567*re+128>>8,Q=1567*Q-3784*re+128>>8,re=D,J=J+$+1>>1,$=J-$,j=j+G+1>>1,G=j-G,Y=Y+re+1>>1,re=Y-re,W=W+Q+1>>1,Q=W-Q,D=2276*J+3406*j+2048>>12,J=3406*J-2276*j+2048>>12,j=D,D=799*G+4017*$+2048>>12,G=4017*G-799*$+2048>>12,$=D,B[F]=Y+j,B[F+7]=Y-j,B[F+1]=W+$,B[F+6]=W-$,B[F+2]=Q+G,B[F+5]=Q-G,B[F+3]=re+J,B[F+4]=re-J}}for(T=0;8>T;++T)D=B[T],O=B[T+8],k=B[T+16],G=B[T+24],J=B[T+32],$=B[T+40],ee=B[T+48],j=B[T+56],O|k|G|J|$|ee|j?(Y=5793*D+2048>>12,W=5793*J+2048>>12,Q=k,re=ee,J=2896*(O-j)+2048>>12,j=2896*(O+j)+2048>>12,Y=(Y+W+1>>1)+4112,W=Y-W,D=3784*Q+1567*re+2048>>12,Q=1567*Q-3784*re+2048>>12,re=D,J=J+$+1>>1,$=J-$,j=j+G+1>>1,G=j-G,Y=Y+re+1>>1,re=Y-re,W=W+Q+1>>1,Q=W-Q,D=2276*J+3406*j+2048>>12,J=3406*J-2276*j+2048>>12,j=D,D=799*G+4017*$+2048>>12,G=4017*G-799*$+2048>>12,$=D,D=Y+j,j=Y-j,O=W+$,ee=W-$,k=Q+G,$=Q-G,G=re+J,J=re-J,D=16>D?0:4080<=D?255:D>>4,O=16>O?0:4080<=O?255:O>>4,k=16>k?0:4080<=k?255:k>>4,G=16>G?0:4080<=G?255:G>>4,J=16>J?0:4080<=J?255:J>>4,$=16>$?0:4080<=$?255:$>>4,ee=16>ee?0:4080<=ee?255:ee>>4,j=16>j?0:4080<=j?255:j>>4,z[R+T]=D,z[R+T+8]=O,z[R+T+16]=k,z[R+T+24]=G,z[R+T+32]=J,z[R+T+40]=$,z[R+T+48]=ee,z[R+T+56]=j):(D=5793*D+8192>>14,D=-2040>D?0:2024<=D?255:D+2056>>4,z[R+T]=D,z[R+T+8]=D,z[R+T+16]=D,z[R+T+24]=D,z[R+T+32]=D,z[R+T+40]=D,z[R+T+48]=D,z[R+T+56]=D)}return p.a}function i(d,p){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:p,g=d.length-1;if(_=_<p?_:p,p>=g)return null;var b=d[p]<<8|d[p+1];if(65472<=b&&65534>=b)return{f:null,F:b,offset:p};for(var w=d[_]<<8|d[_+1];!(65472<=w&&65534>=w);){if(++_>=g)return null;w=d[_]<<8|d[_+1]}return{f:b.toString(16),F:w,offset:_}}var h=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);s.prototype={parse:function(d){function p(){var Q=d[A]<<8|d[A+1];return A+=2,Q}function _(){var Q=p();Q=A+Q-2;var re=i(d,Q,A);return re&&re.f&&((0,_util.warn)("readDataBlock - incorrect length, current marker is: "+re.f),Q=re.offset),Q=d.subarray(A,Q),A+=Q.length,Q}function g(Q){for(var re=Math.ceil(Q.v/8/Q.s),ue=Math.ceil(Q.g/8/Q.u),le=0;le<Q.b.length;le++){Y=Q.b[le];var he=Math.ceil(Math.ceil(Q.v/8)*Y.h/Q.s),ge=Math.ceil(Math.ceil(Q.g/8)*Y.j/Q.u);Y.a=new Int16Array(64*ue*Y.j*(re*Y.h+1)),Y.c=he,Y.l=ge}Q.P=re,Q.O=ue}var b=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).N,w=b===void 0?null:b,A=0,R=null,B=0;b=[];var T=[],z=[],F=p();if(F!==65496)throw new t("SOI not found");for(F=p();F!==65497;){switch(F){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var D=_();F===65518&&D[0]===65&&D[1]===100&&D[2]===111&&D[3]===98&&D[4]===101&&(R={version:D[5]<<8|D[6],Y:D[7]<<8|D[8],Z:D[9]<<8|D[10],W:D[11]});break;case 65499:F=p()+A-2;for(var O;A<F;){var k=d[A++],G=new Uint16Array(64);if(k>>4)if(k>>4===1)for(D=0;64>D;D++)O=h[D],G[O]=p();else throw new t("DQT - invalid table spec");else for(D=0;64>D;D++)O=h[D],G[O]=d[A++];b[k&15]=G}break;case 65472:case 65473:case 65474:if(J)throw new t("Only single frame JPEGs supported");p();var J={};for(J.X=F===65473,J.S=F===65474,J.precision=d[A++],F=p(),J.g=w||F,J.v=p(),J.b=[],J.C={},D=d[A++],F=G=k=0;F<D;F++){O=d[A];var $=d[A+1]>>4,ee=d[A+1]&15;k<$&&(k=$),G<ee&&(G=ee),$=J.b.push({h:$,j:ee,T:d[A+2],G:null}),J.C[O]=$-1,A+=3}J.s=k,J.u=G,g(J);break;case 65476:for(O=p(),F=2;F<O;){for(k=d[A++],G=new Uint8Array(16),D=$=0;16>D;D++,A++)$+=G[D]=d[A];for(ee=new Uint8Array($),D=0;D<$;D++,A++)ee[D]=d[A];F+=17+$,(k>>4?T:z)[k&15]=l(G,ee)}break;case 65501:p();var j=p();break;case 65498:for(D=++B===1&&!w,p(),k=d[A++],O=[],F=0;F<k;F++){G=J.C[d[A++]];var Y=J.b[G];G=d[A++],Y.D=z[G>>4],Y.o=T[G&15],O.push(Y)}F=d[A++],k=d[A++],G=d[A++];try{var W=a(d,A,J,O,j,F,k,G>>4,G&15,D);A+=W}catch(Q){if(Q instanceof e)return(0,_util.warn)('Attempting to re-parse JPEG image using "scanLines" parameter found in DNL marker (0xFFDC) segment.'),this.parse(d,{N:Q.g});throw Q}break;case 65500:A+=4;break;case 65535:d[A]!==255&&A--;break;default:if(d[A-3]===255&&192<=d[A-2]&&254>=d[A-2])A-=3;else if((D=i(d,A-2))&&D.f)(0,_util.warn)("JpegImage.parse - unexpected data, current marker is: "+D.f),A=D.offset;else throw new t("unknown marker "+F.toString(16))}F=p()}for(this.width=J.v,this.height=J.g,this.A=R,this.b=[],F=0;F<J.b.length;F++)Y=J.b[F],(j=b[Y.T])&&(Y.G=j),this.b.push({R:f(J,Y),U:Y.h/J.s,V:Y.j/J.u,c:Y.c,l:Y.l});this.i=this.b.length},L:function(d,p){var _=this.width/d,g=this.height/p,b,w,A=this.b.length,R=d*p*A,B=new Uint8ClampedArray(R),T=new Uint32Array(d);for(w=0;w<A;w++){var z=this.b[w],F=z.U*_,D=z.V*g,O=w,k=z.R,G=z.c+1<<3;for(b=0;b<d;b++)z=0|b*F,T[b]=(z&4294967288)<<3|z&7;for(F=0;F<p;F++)for(z=0|F*D,z=G*(z&4294967288)|(z&7)<<3,b=0;b<d;b++)B[O]=k[z+T[b]],O+=A}if(g=this.M)for(w=0;w<R;)for(_=z=0;z<A;z++,w++,_+=2)B[w]=(B[w]*g[_]>>8)+g[_+1];return B},w:function(){return this.A?!!this.A.W:this.i===3?this.B!==0:this.B===1},I:function(d){for(var p,_,g,b=0,w=d.length;b<w;b+=3)p=d[b],_=d[b+1],g=d[b+2],d[b]=p-179.456+1.402*g,d[b+1]=p+135.459-.344*_-.714*g,d[b+2]=p-226.816+1.772*_;return d},K:function(d){for(var p,_,g,b,w=0,A=0,R=d.length;A<R;A+=4)p=d[A],_=d[A+1],g=d[A+2],b=d[A+3],d[w++]=-122.67195406894+_*(-660635669420364e-19*_+.000437130475926232*g-54080610064599e-18*p+.00048449797120281*b-.154362151871126)+g*(-.000957964378445773*g+.000817076911346625*p-.00477271405408747*b+1.53380253221734)+p*(.000961250184130688*p-.00266257332283933*b+.48357088451265)+b*(-.000336197177618394*b+.484791561490776),d[w++]=107.268039397724+_*(219927104525741e-19*_-.000640992018297945*g+.000659397001245577*p+.000426105652938837*b-.176491792462875)+g*(-.000778269941513683*g+.00130872261408275*p+.000770482631801132*b-.151051492775562)+p*(.00126935368114843*p-.00265090189010898*b+.25802910206845)+b*(-.000318913117588328*b-.213742400323665),d[w++]=-20.810012546947+_*(-.000570115196973677*_-263409051004589e-19*g+.0020741088115012*p-.00288260236853442*b+.814272968359295)+g*(-153496057440975e-19*g-.000132689043961446*p+.000560833691242812*b-.195152027534049)+p*(.00174418132927582*p-.00255243321439347*b+.116935020465145)+b*(-.000343531996510555*b+.24165260232407);return d.subarray(0,w)},J:function(d){for(var p,_,g,b=0,w=d.length;b<w;b+=4)p=d[b],_=d[b+1],g=d[b+2],d[b]=434.456-p-1.402*g,d[b+1]=119.541-p+.344*_+.714*g,d[b+2]=481.816-p-1.772*_;return d},H:function(d){for(var p,_,g,b,w=0,A=1/255,R=0,B=d.length;R<B;R+=4)p=d[R]*A,_=d[R+1]*A,g=d[R+2]*A,b=d[R+3]*A,d[w++]=255+p*(-4.387332384609988*p+54.48615194189176*_+18.82290502165302*g+212.25662451639585*b-285.2331026137004)+_*(1.7149763477362134*_-5.6096736904047315*g-17.873870861415444*b-5.497006427196366)+g*(-2.5217340131683033*g-21.248923337353073*b+17.5119270841813)-b*(21.86122147463605*b+189.48180835922747),d[w++]=255+p*(8.841041422036149*p+60.118027045597366*_+6.871425592049007*g+31.159100130055922*b-79.2970844816548)+_*(-15.310361306967817*_+17.575251261109482*g+131.35250912493976*b-190.9453302588951)+g*(4.444339102852739*g+9.8632861493405*b-24.86741582555878)-b*(20.737325471181034*b+187.80453709719578),d[w++]=255+p*(.8842522430003296*p+8.078677503112928*_+30.89978309703729*g-.23883238689178934*b-14.183576799673286)+_*(10.49593273432072*_+63.02378494754052*g+50.606957656360734*b-112.23884253719248)+g*(.03296041114873217*g+115.60384449646641*b-193.58209356861505)-b*(22.33816807309886*b+180.12613974708367);return d.subarray(0,w)},getData:function(d,p,_){if(4<this.i)throw new t("Unsupported color mode");if(d=this.L(d,p),this.i===1&&_){_=d.length,p=new Uint8ClampedArray(3*_);for(var g=0,b=0;b<_;b++){var w=d[b];p[g++]=w,p[g++]=w,p[g++]=w}return p}if(this.i===3&&this.w())return this.I(d);if(this.i===4){if(this.w())return _?this.K(d):this.J(d);if(_)return this.H(d)}return d}},o.JpegDecoder=s})()})(),o.encodeImage=function(r,t,e,s){var l={t256:[t],t257:[e],t258:[8,8,8,8],t259:[1],t262:[2],t273:[1e3],t277:[4],t278:[e],t279:[t*e*4],t282:[1],t283:[1],t284:[1],t286:[0],t287:[0],t296:[1],t305:["Photopea (UTIF.js)"],t338:[1]};if(s)for(var a in s)l[a]=s[a];for(var f=new Uint8Array(o.encode([l])),i=new Uint8Array(r),h=new Uint8Array(1e3+t*e*4),a=0;a<f.length;a++)h[a]=f[a];for(var a=0;a<i.length;a++)h[1e3+a]=i[a];return h.buffer},o.encode=function(r){var t=new Uint8Array(2e4),e=4,s=o._binBE;t[0]=77,t[1]=77,t[3]=42;var l=8;s.writeUint(t,e,l),e+=4;for(var a=0;a<r.length;a++){var f=o._writeIFD(s,t,l,r[a]);l=f[1],a<r.length-1&&s.writeUint(t,f[0],l)}return t.slice(0,l).buffer},o.decode=function(r){o.decode._decodeG3.allow2D=null;var t=new Uint8Array(r),e=0,s=o._binBE.readASCII(t,e,2);e+=2;var l=s=="II"?o._binLE:o._binBE;l.readUshort(t,e),e+=2;var a=l.readUint(t,e);e+=4;for(var f=[];;){var i=o._readIFD(l,t,a,f);if(a=l.readUint(t,i),a==0)break}return f},o.decodeImages=function(r,t){for(var e=new Uint8Array(r),s=o._binBE.readASCII(e,0,2),l=0;l<t.length;l++){var a=t[l];if(a.t256!=null){a.isLE=s=="II",a.width=a.t256[0],a.height=a.t257[0];var f=a.t259?a.t259[0]:1,i=a.t266?a.t266[0]:1;a.t284&&a.t284[0]==2&&c("PlanarConfiguration 2 should not be used!");var h=(a.t258?Math.min(32,a.t258[0]):1)*(a.t277?a.t277[0]:1),d=Math.ceil(a.width*h/8)*8,p=a.t273;p==null&&(p=a.t324);var _=a.t279;f==1&&p.length==1&&(_=[a.height*(d>>>3)]),_==null&&(_=a.t325);var g=new Uint8Array(a.height*(d>>>3)),b=0;if(a.t322!=null){for(var w=a.t322[0],A=a.t323[0],R=Math.floor((a.width+w-1)/w),B=Math.floor((a.height+A-1)/A),T=new Uint8Array(Math.ceil(w*A*h/8)|0),z=0;z<B;z++)for(var F=0;F<R;F++){for(var D=z*R+F,O=0;O<T.length;O++)T[O]=0;o.decode._decompress(a,e,p[D],_[D],f,T,0,i),f==6?g=T:o._copyTile(T,Math.ceil(w*h/8)|0,A,g,Math.ceil(a.width*h/8)|0,a.height,Math.ceil(F*w*h/8)|0,z*A)}b=g.length*8}else{var k=a.t278?a.t278[0]:a.height;k=Math.min(k,a.height);for(var D=0;D<p.length;D++)o.decode._decompress(a,e,p[D],_[D],f,g,Math.ceil(b/8)|0,i),b+=d*k;b=Math.min(b,g.length*8)}a.data=new Uint8Array(g.buffer,0,Math.ceil(b/8)|0)}}},o.decode._decompress=function(r,t,e,s,l,a,f,i){if(l==1)for(var h=0;h<s;h++)a[f+h]=t[e+h];else if(l==3)o.decode._decodeG3(t,e,s,a,f,r.width,i);else if(l==4)o.decode._decodeG4(t,e,s,a,f,r.width,i);else if(l==5)o.decode._decodeLZW(t,e,a,f);else if(l==6)o.decode._decodeOldJPEG(r,t,e,s,a,f);else if(l==7)o.decode._decodeNewJPEG(r,t,e,s,a,f);else if(l==8)for(var d=new Uint8Array(t.buffer,e,s),p=n.inflate(d),_=0;_<p.length;_++)a[f+_]=p[_];else l==32773?o.decode._decodePackBits(t,e,s,a,f):l==32809?o.decode._decodeThunder(t,e,s,a,f):c("Unknown compression",l);if(r.t317&&r.t317[0]==2)for(var g=r.t277?r.t277[0]:1,b=r.t278?r.t278[0]:r.height,w=r.width*g,A=0;A<b;A++){var R=f+A*w;if(g==3)for(var h=3;h<w;h+=3)a[R+h]=a[R+h]+a[R+h-3]&255,a[R+h+1]=a[R+h+1]+a[R+h-2]&255,a[R+h+2]=a[R+h+2]+a[R+h-1]&255;else for(var h=g;h<w;h++)a[R+h]=a[R+h]+a[R+h-g]&255}},o.decode._decodeNikon=function(r,t,i,s,l){var a,f,i;c(r.slice(t,t+100)),a=r[t],t++,f=r[t],t++,c(a.toString(16),f.toString(16),i)},o.decode._decodeNewJPEG=function(r,t,e,s,l,a){var f=r.t347,i=f?f.length:0,h=new Uint8Array(i+s);if(f){for(var d=216,p=217,_=0,g=0;g<i-1&&!(f[g]==255&&f[g+1]==p);g++)h[_++]=f[g];var b=t[e],w=t[e+1];(b!=255||w!=d)&&(h[_++]=b,h[_++]=w);for(var g=2;g<s;g++)h[_++]=t[e+g]}else for(var g=0;g<s;g++)h[g]=t[e+g];if(r.t262==32803){var A=r.t258[0],R=new LosslessJpegDecoder,B=R.decode(h),T=B.length;if(A==16)for(var g=0;g<T;g++)l[a++]=B[g]&255,l[a++]=B[g]>>>8;else if(A==12)for(var g=0;g<T;g+=2)l[a++]=B[g]>>>4,l[a++]=(B[g]<<4|B[g+1]>>>8)&255,l[a++]=B[g+1]&255;else throw new Error("unsupported bit depth "+A)}else{var z=new o.JpegDecoder;z.parse(h);for(var F=z.getData(z.width,z.height),g=0;g<F.length;g++)l[a+g]=F[g]}r.t262[0]==6&&(r.t262[0]=2)},o.decode._decodeOldJPEGInit=function(r,t,e,s){var l=216,a=219,f=196,i=221,h=192,d=218,p=0,_=0,g,b,w=!1,A,R,B,T=r.t513,z=T?T[0]:0,F=r.t514,D=F?F[0]:0,O=r.t324||r.t273||T,k=r.t530,G=0,J=0,$=r.t277?r.t277[0]:1,ee=r.t515;if(O&&(_=O[0],w=O.length>1),!w){if(t[e]==255&&t[e+1]==l)return{jpegOffset:e};if(T!=null&&(t[e+z]==255&&t[e+z+1]==l?p=e+z:c("JPEGInterchangeFormat does not point to SOI"),F==null?c("JPEGInterchangeFormatLength field is missing"):(z>=_||z+D<=_)&&c("JPEGInterchangeFormatLength field value is invalid"),p!=null))return{jpegOffset:p}}if(k!=null&&(G=k[0],J=k[1]),T!=null&&F!=null)if(D>=2&&z+D<=_){for(t[e+z+D-2]==255&&t[e+z+D-1]==l?g=new Uint8Array(D-2):g=new Uint8Array(D),A=0;A<g.length;A++)g[A]=t[e+z+A];c("Incorrect JPEG interchange format: using JPEGInterchangeFormat offset to derive tables")}else c("JPEGInterchangeFormat+JPEGInterchangeFormatLength > offset to first strip or tile");if(g==null){var j=0,Y=[];Y[j++]=255,Y[j++]=l;var W=r.t519;if(W==null)throw new Error("JPEGQTables tag is missing");for(A=0;A<W.length;A++)for(Y[j++]=255,Y[j++]=a,Y[j++]=0,Y[j++]=67,Y[j++]=A,R=0;R<64;R++)Y[j++]=t[e+W[A]+R];for(B=0;B<2;B++){var Q=r[B==0?"t520":"t521"];if(Q==null)throw new Error((B==0?"JPEGDCTables":"JPEGACTables")+" tag is missing");for(A=0;A<Q.length;A++){Y[j++]=255,Y[j++]=f;var re=19;for(R=0;R<16;R++)re+=t[e+Q[A]+R];for(Y[j++]=re>>>8,Y[j++]=re&255,Y[j++]=A|B<<4,R=0;R<16;R++)Y[j++]=t[e+Q[A]+R];for(R=0;R<re;R++)Y[j++]=t[e+Q[A]+16+R]}}if(Y[j++]=255,Y[j++]=h,Y[j++]=0,Y[j++]=8+3*$,Y[j++]=8,Y[j++]=r.height>>>8&255,Y[j++]=r.height&255,Y[j++]=r.width>>>8&255,Y[j++]=r.width&255,Y[j++]=$,$==1)Y[j++]=1,Y[j++]=17,Y[j++]=0;else for(A=0;A<3;A++)Y[j++]=A+1,Y[j++]=A!=0?17:(G&15)<<4|J&15,Y[j++]=A;ee!=null&&ee[0]!=0&&(Y[j++]=255,Y[j++]=i,Y[j++]=0,Y[j++]=4,Y[j++]=ee[0]>>>8&255,Y[j++]=ee[0]&255),g=new Uint8Array(Y)}var ue=-1;for(A=0;A<g.length-1;){if(g[A]==255&&g[A+1]==h){ue=A;break}A++}if(ue==-1){var le=new Uint8Array(g.length+10+3*$);le.set(g);var he=g.length;if(ue=g.length,g=le,g[he++]=255,g[he++]=h,g[he++]=0,g[he++]=8+3*$,g[he++]=8,g[he++]=r.height>>>8&255,g[he++]=r.height&255,g[he++]=r.width>>>8&255,g[he++]=r.width&255,g[he++]=$,$==1)g[he++]=1,g[he++]=17,g[he++]=0;else for(A=0;A<3;A++)g[he++]=A+1,g[he++]=A!=0?17:(G&15)<<4|J&15,g[he++]=A}if(t[_]==255&&t[_+1]==d){var ge=t[_+2]<<8|t[_+3];for(b=new Uint8Array(ge+2),b[0]=t[_],b[1]=t[_+1],b[2]=t[_+2],b[3]=t[_+3],A=0;A<ge-2;A++)b[A+4]=t[_+A+4]}else{b=new Uint8Array(8+2*$);var ie=0;if(b[ie++]=255,b[ie++]=d,b[ie++]=0,b[ie++]=6+2*$,b[ie++]=$,$==1)b[ie++]=1,b[ie++]=0;else for(A=0;A<3;A++)b[ie++]=A+1,b[ie++]=A<<4|A;b[ie++]=0,b[ie++]=63,b[ie++]=0}return{jpegOffset:e,tables:g,sosMarker:b,sofPosition:ue}},o.decode._decodeOldJPEG=function(r,t,e,s,l,a){var f,i,h,d,p=o.decode._decodeOldJPEGInit(r,t,e,s);if(p.jpegOffset!=null)for(i=e+s-p.jpegOffset,d=new Uint8Array(i),f=0;f<i;f++)d[f]=t[p.jpegOffset+f];else{for(h=p.tables.length,d=new Uint8Array(h+p.sosMarker.length+s+2),d.set(p.tables),d[p.sofPosition+5]=r.height>>>8&255,d[p.sofPosition+6]=r.height&255,d[p.sofPosition+7]=r.width>>>8&255,d[p.sofPosition+8]=r.width&255,(t[e]!=255||t[e+1]!=SOS)&&(d.set(p.sosMarker,bufoff),bufoff+=sosMarker.length),f=0;f<s;f++)d[bufoff++]=t[e+f];d[bufoff++]=255,d[bufoff++]=EOI}var _=new o.JpegDecoder;_.parse(d);for(var g=_.getData(_.width,_.height),f=0;f<g.length;f++)l[a+f]=g[f];r.t262[0]==6&&(r.t262[0]=2)},o.decode._decodePackBits=function(r,t,e,s,l){for(var a=new Int8Array(r.buffer),f=new Int8Array(s.buffer),i=t+e;t<i;){var h=a[t];if(t++,h>=0&&h<128)for(var d=0;d<h+1;d++)f[l]=a[t],l++,t++;if(h>=-127&&h<0){for(var d=0;d<-h+1;d++)f[l]=a[t],l++;t++}}},o.decode._decodeThunder=function(r,t,e,s,l){for(var a=[0,1,0,-1],f=[0,1,2,3,0,-3,-2,-1],i=t+e,h=l*2,d=0;t<i;){var p=r[t],_=p>>>6,g=p&63;if(t++,_==3&&(d=g&15,s[h>>>1]|=d<<4*(1-h&1),h++),_==0)for(var b=0;b<g;b++)s[h>>>1]|=d<<4*(1-h&1),h++;if(_==2)for(var b=0;b<2;b++){var w=g>>>3*(1-b)&7;w!=4&&(d+=f[w],s[h>>>1]|=d<<4*(1-h&1),h++)}if(_==1)for(var b=0;b<3;b++){var w=g>>>2*(2-b)&3;w!=2&&(d+=a[w],s[h>>>1]|=d<<4*(1-h&1),h++)}}},o.decode._dmap={1:0,"011":1,"000011":2,"0000011":3,"010":-1,"000010":-2,"0000010":-3},o.decode._lens=function(){var r=function(h,d,p,_){for(var g=0;g<d.length;g++)h[d[g]]=p+g*_},t="00110101,000111,0111,1000,1011,1100,1110,1111,10011,10100,00111,01000,001000,000011,110100,110101,101010,101011,0100111,0001100,0001000,0010111,0000011,0000100,0101000,0101011,0010011,0100100,0011000,00000010,00000011,00011010,00011011,00010010,00010011,00010100,00010101,00010110,00010111,00101000,00101001,00101010,00101011,00101100,00101101,00000100,00000101,00001010,00001011,01010010,01010011,01010100,01010101,00100100,00100101,01011000,01011001,01011010,01011011,01001010,01001011,00110010,00110011,00110100",e="0000110111,010,11,10,011,0011,0010,00011,000101,000100,0000100,0000101,0000111,00000100,00000111,000011000,0000010111,0000011000,0000001000,00001100111,00001101000,00001101100,00000110111,00000101000,00000010111,00000011000,000011001010,000011001011,000011001100,000011001101,000001101000,000001101001,000001101010,000001101011,000011010010,000011010011,000011010100,000011010101,000011010110,000011010111,000001101100,000001101101,000011011010,000011011011,000001010100,000001010101,000001010110,000001010111,000001100100,000001100101,000001010010,000001010011,000000100100,000000110111,000000111000,000000100111,000000101000,000001011000,000001011001,000000101011,000000101100,000001011010,000001100110,000001100111",s="11011,10010,010111,0110111,00110110,00110111,01100100,01100101,01101000,01100111,011001100,011001101,011010010,011010011,011010100,011010101,011010110,011010111,011011000,011011001,011011010,011011011,010011000,010011001,010011010,011000,010011011",l="0000001111,000011001000,000011001001,000001011011,000000110011,000000110100,000000110101,0000001101100,0000001101101,0000001001010,0000001001011,0000001001100,0000001001101,0000001110010,0000001110011,0000001110100,0000001110101,0000001110110,0000001110111,0000001010010,0000001010011,0000001010100,0000001010101,0000001011010,0000001011011,0000001100100,0000001100101",a="00000001000,00000001100,00000001101,000000010010,000000010011,000000010100,000000010101,000000010110,000000010111,000000011100,000000011101,000000011110,000000011111";t=t.split(","),e=e.split(","),s=s.split(","),l=l.split(","),a=a.split(",");var f={},i={};return r(f,t,0,1),r(f,s,64,64),r(f,a,1792,64),r(i,e,0,1),r(i,l,64,64),r(i,a,1792,64),[f,i]}(),o.decode._decodeG4=function(r,t,e,s,l,a,f){for(var i=o.decode,h=t<<3,d=0,p="",_=[],g=[],b=0;b<a;b++)g.push(0);g=i._makeDiff(g);for(var w=0,A=0,R=0,B=0,T=0,z=0,F="",D=0,O=Math.ceil(a/8)*8;h>>>3<t+e;){R=i._findDiff(g,w+(w==0?0:1),1-T),B=i._findDiff(g,R,T);var k=0;if(f==1&&(k=r[h>>>3]>>>7-(h&7)&1),f==2&&(k=r[h>>>3]>>>(h&7)&1),h++,p+=k,F=="H"){if(i._lens[T][p]!=null){var G=i._lens[T][p];p="",d+=G,G<64&&(i._addNtimes(_,d,T),w+=d,T=1-T,d=0,D--,D==0&&(F=""))}}else p=="0001"&&(p="",i._addNtimes(_,B-w,T),w=B),p=="001"&&(p="",F="H",D=2),i._dmap[p]!=null&&(A=R+i._dmap[p],i._addNtimes(_,A-w,T),w=A,p="",T=1-T);_.length==a&&F==""&&(i._writeBits(_,s,l*8+z*O),T=0,z++,w=0,g=i._makeDiff(_),_=[])}},o.decode._findDiff=function(r,t,e){for(var s=0;s<r.length;s+=2)if(r[s]>=t&&r[s+1]==e)return r[s]},o.decode._makeDiff=function(r){var t=[];r[0]==1&&t.push(0,1);for(var e=1;e<r.length;e++)r[e-1]!=r[e]&&t.push(e,r[e]);return t.push(r.length,0,r.length,1),t},o.decode._decodeG3=function(r,t,e,s,l,a,f){for(var i=o.decode,h=t<<3,d=0,p="",_=[],g=[],b=0;b<a;b++)_.push(0);for(var w=0,A=0,R=0,B=0,T=0,z=-1,F="",D=0,O=!1,k=Math.ceil(a/8)*8;h>>>3<t+e;){R=i._findDiff(g,w+(w==0?0:1),1-T),B=i._findDiff(g,R,T);var G=0;if(f==1&&(G=r[h>>>3]>>>7-(h&7)&1),f==2&&(G=r[h>>>3]>>>(h&7)&1),h++,p+=G,O){if(i._lens[T][p]!=null){var J=i._lens[T][p];p="",d+=J,J<64&&(i._addNtimes(_,d,T),T=1-T,d=0)}}else if(F=="H"){if(i._lens[T][p]!=null){var J=i._lens[T][p];p="",d+=J,J<64&&(i._addNtimes(_,d,T),w+=d,T=1-T,d=0,D--,D==0&&(F=""))}}else p=="0001"&&(p="",i._addNtimes(_,B-w,T),w=B),p=="001"&&(p="",F="H",D=2),i._dmap[p]!=null&&(A=R+i._dmap[p],i._addNtimes(_,A-w,T),w=A,p="",T=1-T);p.endsWith("000000000001")&&(z>=0&&i._writeBits(_,s,l*8+z*k),f==1&&(O=(r[h>>>3]>>>7-(h&7)&1)==1),f==2&&(O=(r[h>>>3]>>>(h&7)&1)==1),h++,i._decodeG3.allow2D==null&&(i._decodeG3.allow2D=O),i._decodeG3.allow2D||(O=!0,h--),p="",T=0,z++,w=0,g=i._makeDiff(_),_=[])}_.length==a&&i._writeBits(_,s,l*8+z*k)},o.decode._addNtimes=function(r,t,e){for(var s=0;s<t;s++)r.push(e)},o.decode._writeBits=function(r,t,e){for(var s=0;s<r.length;s++)t[e+s>>>3]|=r[s]<<7-(e+s&7)},o.decode._decodeLZW=function(r,t,e,s){if(o.decode._lzwTab==null){for(var l=new Uint32Array(65535),a=new Uint16Array(65535),p=new Uint8Array(2e6),f=0;f<256;f++)p[f<<2]=f,l[f]=f<<2,a[f]=1;o.decode._lzwTab=[l,a,p]}for(var i=o.decode._copyData,h=o.decode._lzwTab[0],d=o.decode._lzwTab[1],p=o.decode._lzwTab[2],_=258,g=1032,b=9,w=t<<3,A=256,R=257,B=0,T=0,z=0;B=r[w>>>3]<<16|r[w+8>>>3]<<8|r[w+16>>>3],T=B>>24-(w&7)-b&(1<<b)-1,w+=b,T!=R;){if(T==A){if(b=9,_=258,g=1032,B=r[w>>>3]<<16|r[w+8>>>3]<<8|r[w+16>>>3],T=B>>24-(w&7)-b&(1<<b)-1,w+=b,T==R)break;e[s]=T,s++}else if(T<_){var F=h[T],D=d[T];if(i(p,F,e,s,D),s+=D,z>=_)h[_]=g,p[h[_]]=F[0],d[_]=1,g=g+1+3&-4,_++;else{h[_]=g;var O=h[z],k=d[z];i(p,O,p,g,k),p[g+k]=p[F],k++,d[_]=k,_++,g=g+k+3&-4}_+1==1<<b&&b++}else{if(z>=_)h[_]=g,d[_]=0,_++;else{h[_]=g;var O=h[z],k=d[z];i(p,O,p,g,k),p[g+k]=p[g],k++,d[_]=k,_++,i(p,g,e,s,k),s+=k,g=g+k+3&-4}_+1==1<<b&&b++}z=T}},o.decode._copyData=function(r,t,e,s,l){for(var a=0;a<l;a+=4)e[s+a]=r[t+a],e[s+a+1]=r[t+a+1],e[s+a+2]=r[t+a+2],e[s+a+3]=r[t+a+3]},o.tags={254:"NewSubfileType",255:"SubfileType",256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffset",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",285:"PageName",286:"XPosition",287:"YPosition",292:"T4Options",296:"ResolutionUnit",297:"PageNumber",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffset",325:"TileByteCounts",330:"SubIFDs",336:"DotRange",338:"ExtraSample",339:"SampleFormat",347:"JPEGTables",512:"JPEGProc",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",700:"XMP",33421:"CFARepeatPatternDim",33422:"CFAPattern",33432:"Copyright",33434:"ExposureTime",33437:"FNumber",33723:"IPTC/NAA",34377:"Photoshop",34665:"ExifIFD",34675:"ICC Profile",34850:"ExposureProgram",34853:"GPSInfo",34855:"ISOSpeedRatings",34858:"TimeZoneOffset",34859:"SelfTimeMode",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37377:"ShutterSpeedValue",37378:"ApertureValue",37380:"ExposureBiasValue",37383:"MeteringMode",37385:"Flash",37386:"FocalLength",37390:"FocalPlaneXResolution",37391:"FocalPlaneYResolution",37392:"FocalPlaneResolutionUnit",37393:"ImageNumber",37398:"TIFF/EPStandardID",37399:"SensingMethod",37500:"MakerNote",37510:"UserComment",37724:"ImageSourceData",40092:"XPComment",40094:"XPKeywords",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelXDimension",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41990:"SceneCaptureType",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50733:"BayerGreenSplit",50738:"AntiAliasStrength",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50727:"AnalogBalance",50728:"AsShotNeutral",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"LensInfo",50739:"ShadowScale",50740:"DNGPrivateData",50741:"MakerNoteSafety",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50781:"RawDataUniqueID",50827:"OriginalRawFileName",50829:"ActiveArea",50830:"MaskedAreas",50931:"CameraCalibrationSignature",50932:"ProfileCalibrationSignature",50935:"NoiseReductionApplied",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:"ProfileEmbedPolicy",50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50969:"PreviewSettingsDigest",50970:"PreviewColorSpace",50971:"PreviewDateTime",50972:"RawImageDigest",51008:"OpcodeList1",51009:"OpcodeList2",51022:"OpcodeList3",51041:"NoiseProfile",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualityFinalSize",51091:"OriginalDefaultCropSize",51125:"DefaultUserCrop"},o.ttypes={256:3,257:3,258:3,259:3,262:3,273:4,274:3,277:3,278:4,279:4,282:5,283:5,284:3,286:5,287:5,296:3,305:2,306:2,338:3,513:4,514:4,34665:4},o._readIFD=function(r,t,e,s){var l=r.readUshort(t,e);e+=2;var a={};s.push(a);for(var f=0;f<l;f++){var i=r.readUshort(t,e);e+=2;var h=r.readUshort(t,e);e+=2;var d=r.readUint(t,e);e+=4;var p=r.readUint(t,e);e+=4;var _=[];if(a["t"+i]=_,h==1||h==7)for(var g=0;g<d;g++)_.push(t[(d<5?e-4:p)+g]);if(h==2&&_.push(r.readASCII(t,d<5?e-4:p,d-1)),h==3)for(var g=0;g<d;g++)_.push(r.readUshort(t,(d<3?e-4:p)+2*g));if(h==4)for(var g=0;g<d;g++)_.push(r.readUint(t,(d<2?e-4:p)+4*g));if(h==5)for(var g=0;g<d;g++)_.push(r.readUint(t,p+g*8)/r.readUint(t,p+g*8+4));if(h==8)for(var g=0;g<d;g++)_.push(r.readShort(t,(d<3?e-4:p)+2*g));if(h==9)for(var g=0;g<d;g++)_.push(r.readInt(t,(d<2?e-4:p)+4*g));if(h==10)for(var g=0;g<d;g++)_.push(r.readInt(t,p+g*8)/r.readInt(t,p+g*8+4));if(h==11)for(var g=0;g<d;g++)_.push(r.readFloat(t,p+g*4));if(h==12)for(var g=0;g<d;g++)_.push(r.readDouble(t,p+g*8));if(d!=0&&_.length==0&&c("unknown TIFF tag type: ",h,"num:",d),i==330)for(var g=0;g<d;g++)o._readIFD(r,t,_[g],s)}return e},o._writeIFD=function(r,t,e,s){var l=Object.keys(s);r.writeUshort(t,e,l.length),e+=2;for(var a=e+l.length*12+4,f=0;f<l.length;f++){var i=l[f],h=parseInt(i.slice(1)),d=o.ttypes[h];if(d==null)throw new Error("unknown type of tag: "+h);var p=s[i];d==2&&(p=p[0]+"\0");var _=p.length;r.writeUshort(t,e,h),e+=2,r.writeUshort(t,e,d),e+=2,r.writeUint(t,e,_),e+=4;var g=[-1,1,1,2,4,8,0,0,0,0,0,0,8][d]*_,b=e;if(g>4&&(r.writeUint(t,e,a),b=a),d==2&&r.writeASCII(t,b,p),d==3)for(var w=0;w<_;w++)r.writeUshort(t,b+2*w,p[w]);if(d==4)for(var w=0;w<_;w++)r.writeUint(t,b+4*w,p[w]);if(d==5)for(var w=0;w<_;w++)r.writeUint(t,b+8*w,Math.round(p[w]*1e4)),r.writeUint(t,b+8*w+4,1e4);if(d==12)for(var w=0;w<_;w++)r.writeDouble(t,b+8*w,p[w]);g>4&&(g+=g&1,a+=g),e+=4}return[e,a]},o.toRGBA8=function(r){var t=r.width,e=r.height,s=t*e,l=s*4,a=r.data,f=new Uint8Array(s*4),i=r.t262[0],h=r.t258?Math.min(32,r.t258[0]):1,d=r.isLE?1:0;if(i==0)for(var p=Math.ceil(h*t/8),_=0;_<e;_++){var g=_*p,b=_*t;if(h==1)for(var w=0;w<t;w++){var A=b+w<<2,R=a[g+(w>>3)]>>7-(w&7)&1;f[A]=f[A+1]=f[A+2]=(1-R)*255,f[A+3]=255}if(h==4)for(var w=0;w<t;w++){var A=b+w<<2,R=a[g+(w>>1)]>>4-4*(w&1)&15;f[A]=f[A+1]=f[A+2]=(15-R)*17,f[A+3]=255}if(h==8)for(var w=0;w<t;w++){var A=b+w<<2,R=a[g+w];f[A]=f[A+1]=f[A+2]=255-R,f[A+3]=255}}else if(i==1)for(var p=Math.ceil(h*t/8),_=0;_<e;_++){var g=_*p,b=_*t;if(h==1)for(var w=0;w<t;w++){var A=b+w<<2,R=a[g+(w>>3)]>>7-(w&7)&1;f[A]=f[A+1]=f[A+2]=R*255,f[A+3]=255}if(h==2)for(var w=0;w<t;w++){var A=b+w<<2,R=a[g+(w>>2)]>>6-2*(w&3)&3;f[A]=f[A+1]=f[A+2]=R*85,f[A+3]=255}if(h==8)for(var w=0;w<t;w++){var A=b+w<<2,R=a[g+w];f[A]=f[A+1]=f[A+2]=R,f[A+3]=255}if(h==16)for(var w=0;w<t;w++){var A=b+w<<2,R=a[g+(2*w+d)];f[A]=f[A+1]=f[A+2]=Math.min(255,R),f[A+3]=255}}else if(i==2)if(h==8)if(r.t338)if(r.t338[0]>0)for(var w=0;w<l;w++)f[w]=a[w];else for(var w=0;w<l;w+=4)f[w]=a[w],f[w+1]=a[w+1],f[w+2]=a[w+2],f[w+3]=255;else{var B=r.t258?r.t258.length:3;if(B==4)for(var w=0;w<l;w++)f[w]=a[w];if(B==3)for(var w=0;w<s;w++){var A=w<<2,T=w*3;f[A]=a[T],f[A+1]=a[T+1],f[A+2]=a[T+2],f[A+3]=255}}else for(var w=0;w<s;w++){var A=w<<2,T=w*6;f[A]=a[T],f[A+1]=a[T+2],f[A+2]=a[T+4],f[A+3]=255}else if(i==3)for(var z=r.t320,w=0;w<s;w++){var A=w<<2,F=a[w];f[A]=z[F]>>8,f[A+1]=z[256+F]>>8,f[A+2]=z[512+F]>>8,f[A+3]=255}else if(i==5)for(var B=r.t258?r.t258.length:4,D=B>4?1:0,w=0;w<s;w++){var A=w<<2,O=w*B,k=255-a[O],G=255-a[O+1],J=255-a[O+2],$=(255-a[O+3])*(1/255);f[A]=~~(k*$+.5),f[A+1]=~~(G*$+.5),f[A+2]=~~(J*$+.5),f[A+3]=255*(1-D)+a[O+4]*D}else c("Unknown Photometric interpretation: "+i);return f},o.replaceIMG=function(){for(var r=document.getElementsByTagName("img"),t=0;t<r.length;t++){var e=r[t],s=e.getAttribute("src");if(s!=null){var l=s.split(".").pop().toLowerCase();if(!(l!="tif"&&l!="tiff")){var a=new XMLHttpRequest;o._xhrs.push(a),o._imgs.push(e),a.open("GET",s),a.responseType="arraybuffer",a.onload=o._imgLoaded,a.send()}}}},o._xhrs=[],o._imgs=[],o._imgLoaded=function(r){var t=r.target.response,e=o.decode(t),s=e[0];o.decodeImages(t,e);var l=o.toRGBA8(s),a=s.width,f=s.height,i=o._xhrs.indexOf(r.target),h=o._imgs[i];o._xhrs.splice(i,1),o._imgs.splice(i,1);var d=document.createElement("canvas");d.width=a,d.height=f;for(var p=d.getContext("2d"),_=p.createImageData(a,f),g=0;g<l.length;g++)_.data[g]=l[g];p.putImageData(_,0,0);for(var b=["style","class","id"],g=0;g<b.length;g++)d.setAttribute(b[g],h.getAttribute(b[g]));h.parentNode.replaceChild(d,h)},o._binBE={nextZero:function(r,t){for(;r[t]!=0;)t++;return t},readUshort:function(r,t){return r[t]<<8|r[t+1]},readShort:function(r,t){var e=o._binBE.ui8;return e[0]=r[t+1],e[1]=r[t+0],o._binBE.i16[0]},readInt:function(r,t){var e=o._binBE.ui8;return e[0]=r[t+3],e[1]=r[t+2],e[2]=r[t+1],e[3]=r[t+0],o._binBE.i32[0]},readUint:function(r,t){var e=o._binBE.ui8;return e[0]=r[t+3],e[1]=r[t+2],e[2]=r[t+1],e[3]=r[t+0],o._binBE.ui32[0]},readASCII:function(r,t,e){for(var s="",l=0;l<e;l++)s+=String.fromCharCode(r[t+l]);return s},readFloat:function(r,t){for(var e=o._binBE.ui8,s=0;s<4;s++)e[s]=r[t+3-s];return o._binBE.fl32[0]},readDouble:function(r,t){for(var e=o._binBE.ui8,s=0;s<8;s++)e[s]=r[t+7-s];return o._binBE.fl64[0]},writeUshort:function(r,t,e){r[t]=e>>8&255,r[t+1]=e&255},writeUint:function(r,t,e){r[t]=e>>24&255,r[t+1]=e>>16&255,r[t+2]=e>>8&255,r[t+3]=e>>0&255},writeASCII:function(r,t,e){for(var s=0;s<e.length;s++)r[t+s]=e.charCodeAt(s)},writeDouble:function(r,t,e){o._binBE.fl64[0]=e;for(var s=0;s<8;s++)r[t+s]=o._binBE.ui8[7-s]}},o._binBE.ui8=new Uint8Array(8),o._binBE.i16=new Int16Array(o._binBE.ui8.buffer),o._binBE.i32=new Int32Array(o._binBE.ui8.buffer),o._binBE.ui32=new Uint32Array(o._binBE.ui8.buffer),o._binBE.fl32=new Float32Array(o._binBE.ui8.buffer),o._binBE.fl64=new Float64Array(o._binBE.ui8.buffer),o._binLE={nextZero:o._binBE.nextZero,readUshort:function(r,t){return r[t+1]<<8|r[t]},readShort:function(r,t){var e=o._binBE.ui8;return e[0]=r[t+0],e[1]=r[t+1],o._binBE.i16[0]},readInt:function(r,t){var e=o._binBE.ui8;return e[0]=r[t+0],e[1]=r[t+1],e[2]=r[t+2],e[3]=r[t+3],o._binBE.i32[0]},readUint:function(r,t){var e=o._binBE.ui8;return e[0]=r[t+0],e[1]=r[t+1],e[2]=r[t+2],e[3]=r[t+3],o._binBE.ui32[0]},readASCII:o._binBE.readASCII,readFloat:function(r,t){for(var e=o._binBE.ui8,s=0;s<4;s++)e[s]=r[t+s];return o._binBE.fl32[0]},readDouble:function(r,t){for(var e=o._binBE.ui8,s=0;s<8;s++)e[s]=r[t+s];return o._binBE.fl64[0]}},o._copyTile=function(r,t,e,s,l,a,f,i){for(var h=Math.min(t,l-f),d=Math.min(e,a-i),p=0;p<d;p++)for(var _=(i+p)*l+f,g=p*t,b=0;b<h;b++)s[_+b]=r[g+b]}})(m,u)})()}).call(this,M("_process"))},{_process:133,pako:86}],183:[function(M,H,y){(function(E){H.exports=m;function m(c,o){if(u("noDeprecation"))return c;var n=!1;function r(){if(!n){if(u("throwDeprecation"))throw new Error(o);u("traceDeprecation")?console.trace(o):console.warn(o),n=!0}return c.apply(this,arguments)}return r}function u(c){try{if(!E.localStorage)return!1}catch{return!1}var o=E.localStorage[c];return o==null?!1:String(o).toLowerCase()==="true"}}).call(this,typeof Ue<"u"?Ue:typeof self<"u"?self:typeof Ee<"u"?Ee:{})},{}],184:[function(M,H,y){arguments[4][26][0].apply(y,arguments)},{dup:26}],185:[function(M,H,y){arguments[4][27][0].apply(y,arguments)},{dup:27}],186:[function(M,H,y){arguments[4][28][0].apply(y,arguments)},{"./support/isBuffer":185,_process:133,dup:28,inherits:184}],187:[function(M,H,y){var E=M("global/window"),m=M("is-function"),u=M("parse-headers"),c=M("xtend");H.exports=t,H.exports.default=t,t.XMLHttpRequest=E.XMLHttpRequest||l,t.XDomainRequest="withCredentials"in new t.XMLHttpRequest?t.XMLHttpRequest:E.XDomainRequest,o(["get","put","post","patch","head","delete"],function(a){t[a==="delete"?"del":a]=function(f,i,h){return i=r(f,i,h),i.method=a.toUpperCase(),e(i)}});function o(a,f){for(var i=0;i<a.length;i++)f(a[i])}function n(a){for(var f in a)if(a.hasOwnProperty(f))return!1;return!0}function r(a,f,i){var h=a;return m(f)?(i=f,typeof a=="string"&&(h={uri:a})):h=c(f,{uri:a}),h.callback=i,h}function t(a,f,i){return f=r(a,f,i),e(f)}function e(a){if(typeof a.callback>"u")throw new Error("callback argument missing");var f=!1,i=function(G,J,$){f||(f=!0,a.callback(G,J,$))};function h(){g.readyState===4&&setTimeout(_,0)}function d(){var k=void 0;if(g.response?k=g.response:k=g.responseText||s(g),F)try{k=JSON.parse(k)}catch{}return k}function p(k){return clearTimeout(D),k instanceof Error||(k=new Error(""+(k||"Unknown XMLHttpRequest Error"))),k.statusCode=0,i(k,O)}function _(){if(!w){var k;clearTimeout(D),a.useXDR&&g.status===void 0?k=200:k=g.status===1223?204:g.status;var G=O,J=null;return k!==0?(G={body:d(),statusCode:k,method:R,headers:{},url:A,rawRequest:g},g.getAllResponseHeaders&&(G.headers=u(g.getAllResponseHeaders()))):J=new Error("Internal XMLHttpRequest Error"),i(J,G,G.body)}}var g=a.xhr||null;g||(a.cors||a.useXDR?g=new t.XDomainRequest:g=new t.XMLHttpRequest);var b,w,A=g.url=a.uri||a.url,R=g.method=a.method||"GET",B=a.body||a.data,T=g.headers=a.headers||{},z=!!a.sync,F=!1,D,O={body:void 0,headers:{},statusCode:0,method:R,url:A,rawRequest:g};if("json"in a&&a.json!==!1&&(F=!0,T.accept||T.Accept||(T.Accept="application/json"),R!=="GET"&&R!=="HEAD"&&(T["content-type"]||T["Content-Type"]||(T["Content-Type"]="application/json"),B=JSON.stringify(a.json===!0?B:a.json))),g.onreadystatechange=h,g.onload=_,g.onerror=p,g.onprogress=function(){},g.onabort=function(){w=!0},g.ontimeout=p,g.open(R,A,!z,a.username,a.password),z||(g.withCredentials=!!a.withCredentials),!z&&a.timeout>0&&(D=setTimeout(function(){if(!w){w=!0,g.abort("timeout");var k=new Error("XMLHttpRequest timeout");k.code="ETIMEDOUT",p(k)}},a.timeout)),g.setRequestHeader)for(b in T)T.hasOwnProperty(b)&&g.setRequestHeader(b,T[b]);else if(a.headers&&!n(a.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in a&&(g.responseType=a.responseType),"beforeSend"in a&&typeof a.beforeSend=="function"&&a.beforeSend(g),g.send(B||null),g}function s(a){try{if(a.responseType==="document")return a.responseXML;var f=a.responseXML&&a.responseXML.documentElement.nodeName==="parsererror";if(a.responseType===""&&!f)return a.responseXML}catch{}return null}function l(){}},{"global/window":71,"is-function":78,"parse-headers":106,xtend:189}],188:[function(M,H,y){H.exports=function(){return typeof self.DOMParser<"u"?function(m){var u=new self.DOMParser;return u.parseFromString(m,"application/xml")}:typeof self.ActiveXObject<"u"&&new self.ActiveXObject("Microsoft.XMLDOM")?function(m){var u=new self.ActiveXObject("Microsoft.XMLDOM");return u.async="false",u.loadXML(m),u}:function(m){var u=document.createElement("div");return u.innerHTML=m,u}}()},{}],189:[function(M,H,y){H.exports=m;var E=Object.prototype.hasOwnProperty;function m(){for(var u={},c=0;c<arguments.length;c++){var o=arguments[c];for(var n in o)E.call(o,n)&&(u[n]=o[n])}return u}},{}],190:[function(M,H,y){Object.defineProperty(y,"__esModule",{value:!0}),y.srcOver=E,y.dstOver=m,y.multiply=u,y.add=c,y.screen=o,y.overlay=n,y.darken=r,y.lighten=t,y.hardLight=e,y.difference=s,y.exclusion=l;function E(a,f){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;a.a*=i;var h=f.a+a.a-f.a*a.a,d=(a.r*a.a+f.r*f.a*(1-a.a))/h,p=(a.g*a.a+f.g*f.a*(1-a.a))/h,_=(a.b*a.a+f.b*f.a*(1-a.a))/h;return{r:d,g:p,b:_,a:h}}function m(a,f){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;a.a*=i;var h=f.a+a.a-f.a*a.a,d=(f.r*f.a+a.r*a.a*(1-f.a))/h,p=(f.g*f.a+a.g*a.a*(1-f.a))/h,_=(f.b*f.a+a.b*a.a*(1-f.a))/h;return{r:d,g:p,b:_,a:h}}function u(a,f){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;a.a*=i;var h=f.a+a.a-f.a*a.a,d=a.r*a.a,p=a.g*a.a,_=a.b*a.a,g=f.r*f.a,b=f.g*f.a,w=f.b*f.a,A=(d*g+d*(1-f.a)+g*(1-a.a))/h,R=(p*b+p*(1-f.a)+b*(1-a.a))/h,B=(_*w+_*(1-f.a)+w*(1-a.a))/h;return{r:A,g:R,b:B,a:h}}function c(a,f){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;a.a*=i;var h=f.a+a.a-f.a*a.a,d=a.r*a.a,p=a.g*a.a,_=a.b*a.a,g=f.r*f.a,b=f.g*f.a,w=f.b*f.a,A=(d+g)/h,R=(p+b)/h,B=(_+w)/h;return{r:A,g:R,b:B,a:h}}function o(a,f){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;a.a*=i;var h=f.a+a.a-f.a*a.a,d=a.r*a.a,p=a.g*a.a,_=a.b*a.a,g=f.r*f.a,b=f.g*f.a,w=f.b*f.a,A=(d*f.a+g*a.a-d*g+d*(1-f.a)+g*(1-a.a))/h,R=(p*f.a+b*a.a-p*b+p*(1-f.a)+b*(1-a.a))/h,B=(_*f.a+w*a.a-_*w+_*(1-f.a)+w*(1-a.a))/h;return{r:A,g:R,b:B,a:h}}function n(a,f){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;a.a*=i;var h=f.a+a.a-f.a*a.a,d=a.r*a.a,p=a.g*a.a,_=a.b*a.a,g=f.r*f.a,b=f.g*f.a,w=f.b*f.a,A=(2*g<=f.a?2*d*g+d*(1-f.a)+g*(1-a.a):d*(1+f.a)+g*(1+a.a)-2*g*d-f.a*a.a)/h,R=(2*b<=f.a?2*p*b+p*(1-f.a)+b*(1-a.a):p*(1+f.a)+b*(1+a.a)-2*b*p-f.a*a.a)/h,B=(2*w<=f.a?2*_*w+_*(1-f.a)+w*(1-a.a):_*(1+f.a)+w*(1+a.a)-2*w*_-f.a*a.a)/h;return{r:A,g:R,b:B,a:h}}function r(a,f){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;a.a*=i;var h=f.a+a.a-f.a*a.a,d=a.r*a.a,p=a.g*a.a,_=a.b*a.a,g=f.r*f.a,b=f.g*f.a,w=f.b*f.a,A=(Math.min(d*f.a,g*a.a)+d*(1-f.a)+g*(1-a.a))/h,R=(Math.min(p*f.a,b*a.a)+p*(1-f.a)+b*(1-a.a))/h,B=(Math.min(_*f.a,w*a.a)+_*(1-f.a)+w*(1-a.a))/h;return{r:A,g:R,b:B,a:h}}function t(a,f){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;a.a*=i;var h=f.a+a.a-f.a*a.a,d=a.r*a.a,p=a.g*a.a,_=a.b*a.a,g=f.r*f.a,b=f.g*f.a,w=f.b*f.a,A=(Math.max(d*f.a,g*a.a)+d*(1-f.a)+g*(1-a.a))/h,R=(Math.max(p*f.a,b*a.a)+p*(1-f.a)+b*(1-a.a))/h,B=(Math.max(_*f.a,w*a.a)+_*(1-f.a)+w*(1-a.a))/h;return{r:A,g:R,b:B,a:h}}function e(a,f){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;a.a*=i;var h=f.a+a.a-f.a*a.a,d=a.r*a.a,p=a.g*a.a,_=a.b*a.a,g=f.r*f.a,b=f.g*f.a,w=f.b*f.a,A=(2*d<=a.a?2*d*g+d*(1-f.a)+g*(1-a.a):d*(1+f.a)+g*(1+a.a)-2*g*d-f.a*a.a)/h,R=(2*p<=a.a?2*p*b+p*(1-f.a)+b*(1-a.a):p*(1+f.a)+b*(1+a.a)-2*b*p-f.a*a.a)/h,B=(2*_<=a.a?2*_*w+_*(1-f.a)+w*(1-a.a):_*(1+f.a)+w*(1+a.a)-2*w*_-f.a*a.a)/h;return{r:A,g:R,b:B,a:h}}function s(a,f){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;a.a*=i;var h=f.a+a.a-f.a*a.a,d=a.r*a.a,p=a.g*a.a,_=a.b*a.a,g=f.r*f.a,b=f.g*f.a,w=f.b*f.a,A=(d+g-2*Math.min(d*f.a,g*a.a))/h,R=(p+b-2*Math.min(p*f.a,b*a.a))/h,B=(_+w-2*Math.min(_*f.a,w*a.a))/h;return{r:A,g:R,b:B,a:h}}function l(a,f){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;a.a*=i;var h=f.a+a.a-f.a*a.a,d=a.r*a.a,p=a.g*a.a,_=a.b*a.a,g=f.r*f.a,b=f.g*f.a,w=f.b*f.a,A=(d*f.a+g*a.a-2*d*g+d*(1-f.a)+g*(1-a.a))/h,R=(p*f.a+b*a.a-2*p*b+p*(1-f.a)+b*(1-a.a))/h,B=(_*f.a+w*a.a-2*_*w+_*(1-f.a)+w*(1-a.a))/h;return{r:A,g:R,b:B,a:h}}},{}],191:[function(M,H,y){var E=M("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(y,"__esModule",{value:!0}),y.default=o;var m=M("@jimp/utils"),u=E(M("../constants")),c=E(M("./composite-modes"));function o(n,r,t){var e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0;if(typeof e=="function"&&(s=e,e={}),!(n instanceof this.constructor))return m.throwError.call(this,"The source must be a Jimp image",s);if(typeof r!="number"||typeof t!="number")return m.throwError.call(this,"x and y must be numbers",s);var l=e,a=l.mode,f=l.opacitySource,i=l.opacityDest;a||(a=u.BLEND_SOURCE_OVER),(typeof f!="number"||f<0||f>1)&&(f=1),(typeof i!="number"||i<0||i>1)&&(i=1);var h=c[a];r=Math.round(r),t=Math.round(t);var d=this;return i!==1&&d.opacity(i),n.scanQuiet(0,0,n.bitmap.width,n.bitmap.height,function(p,_,g){var b=d.getPixelIndex(r+p,t+_,u.EDGE_CROP),w=h({r:this.bitmap.data[g+0]/255,g:this.bitmap.data[g+1]/255,b:this.bitmap.data[g+2]/255,a:this.bitmap.data[g+3]/255},{r:d.bitmap.data[b+0]/255,g:d.bitmap.data[b+1]/255,b:d.bitmap.data[b+2]/255,a:d.bitmap.data[b+3]/255},f);d.bitmap.data[b+0]=this.constructor.limit255(w.r*255),d.bitmap.data[b+1]=this.constructor.limit255(w.g*255),d.bitmap.data[b+2]=this.constructor.limit255(w.b*255),d.bitmap.data[b+3]=this.constructor.limit255(w.a*255)}),(0,m.isNodePattern)(s)&&s.call(this,null,this),this}H.exports=y.default},{"../constants":192,"./composite-modes":190,"@babel/runtime/helpers/interopRequireWildcard":12,"@jimp/utils":235}],192:[function(M,H,y){Object.defineProperty(y,"__esModule",{value:!0}),y.EDGE_CROP=y.EDGE_WRAP=y.EDGE_EXTEND=y.BLEND_EXCLUSION=y.BLEND_DIFFERENCE=y.BLEND_HARDLIGHT=y.BLEND_LIGHTEN=y.BLEND_DARKEN=y.BLEND_OVERLAY=y.BLEND_SCREEN=y.BLEND_ADD=y.BLEND_MULTIPLY=y.BLEND_DESTINATION_OVER=y.BLEND_SOURCE_OVER=y.VERTICAL_ALIGN_BOTTOM=y.VERTICAL_ALIGN_MIDDLE=y.VERTICAL_ALIGN_TOP=y.HORIZONTAL_ALIGN_RIGHT=y.HORIZONTAL_ALIGN_CENTER=y.HORIZONTAL_ALIGN_LEFT=y.AUTO=void 0;var E=-1;y.AUTO=E;var m=1;y.HORIZONTAL_ALIGN_LEFT=m;var u=2;y.HORIZONTAL_ALIGN_CENTER=u;var c=4;y.HORIZONTAL_ALIGN_RIGHT=c;var o=8;y.VERTICAL_ALIGN_TOP=o;var n=16;y.VERTICAL_ALIGN_MIDDLE=n;var r=32;y.VERTICAL_ALIGN_BOTTOM=r;var t="srcOver";y.BLEND_SOURCE_OVER=t;var e="dstOver";y.BLEND_DESTINATION_OVER=e;var s="multiply";y.BLEND_MULTIPLY=s;var l="add";y.BLEND_ADD=l;var a="screen";y.BLEND_SCREEN=a;var f="overlay";y.BLEND_OVERLAY=f;var i="darken";y.BLEND_DARKEN=i;var h="lighten";y.BLEND_LIGHTEN=h;var d="hardLight";y.BLEND_HARDLIGHT=d;var p="difference";y.BLEND_DIFFERENCE=p;var _="exclusion";y.BLEND_EXCLUSION=_;var g=1;y.EDGE_EXTEND=g;var b=2;y.EDGE_WRAP=b;var w=3;y.EDGE_CROP=w},{}],193:[function(M,H,y){(function(E){var m=M("@babel/runtime/helpers/interopRequireWildcard"),u=M("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(y,"__esModule",{value:!0}),y.addConstants=he,y.addJimpMethods=ge,y.jimpEvMethod=ie,y.jimpEvChange=ae,Object.defineProperty(y,"addType",{enumerable:!0,get:function(){return z.addType}}),y.default=void 0;for(var c=u(M("@babel/runtime/helpers/construct")),o=u(M("@babel/runtime/helpers/slicedToArray")),n=u(M("@babel/runtime/helpers/classCallCheck")),r=u(M("@babel/runtime/helpers/createClass")),t=u(M("@babel/runtime/helpers/possibleConstructorReturn")),e=u(M("@babel/runtime/helpers/getPrototypeOf")),s=u(M("@babel/runtime/helpers/assertThisInitialized")),l=u(M("@babel/runtime/helpers/inherits")),a=u(M("@babel/runtime/helpers/defineProperty")),f=u(M("@babel/runtime/helpers/typeof")),i=u(M("fs")),h=u(M("path")),d=u(M("events")),p=M("@jimp/utils"),_=u(M("any-base")),g=u(M("mkdirp")),b=u(M("pixelmatch")),w=u(M("tinycolor2")),A=u(M("./modules/phash")),R=u(M("./request")),B=u(M("./composite")),T=u(M("./utils/promisify")),z=m(M("./utils/mime")),F=M("./utils/image-bitmap"),D=m(M("./constants")),O="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",k=[NaN,NaN],G=2;G<65;G++){var J=(0,_.default)(_.default.BIN,O.slice(0,G))(new Array(65).join("1"));k.push(J.length)}function $(){}function ee(te){return Object.prototype.toString.call(te).toLowerCase().indexOf("arraybuffer")>-1}function j(te){for(var U=E.alloc(te.byteLength),L=new Uint8Array(te),P=0;P<U.length;++P)U[P]=L[P];return U}function Y(te,U){(0,R.default)(te,function(L,P,Z){if(L)return U(L);if("headers"in P&&"location"in P.headers)return te.url=P.headers.location,Y(te,U);if((0,f.default)(Z)==="object"&&E.isBuffer(Z))return U(null,Z);var x="Could not load Buffer from <"+te.url+"> (HTTP: "+P.statusCode+")";return new Error(x)})}function W(te,U){i.default&&typeof i.default.readFile=="function"&&!te.match(/^(http|ftp)s?:\/\/./)?i.default.readFile(te,U):Y({url:te},U)}function Q(te){return te&&(0,f.default)(te)==="object"&&typeof te.width=="number"&&typeof te.height=="number"&&(E.isBuffer(te.data)||te.data instanceof Uint8Array||typeof Uint8ClampedArray=="function"&&te.data instanceof Uint8ClampedArray)&&(te.data.length===te.width*te.height*4||te.data.length===te.width*te.height*3)}function re(te){if(te.length%3!==0)throw new Error("Buffer length is incorrect");for(var U=E.allocUnsafe(te.length/3*4),L=0,P=0;P<te.length;P++)U[L]=te[P],(P+1)%3===0&&(U[++L]=255),L++;return U}var ue={data:null,width:null,height:null},le=function(te){(0,l.default)(U,te);function U(){for(var L,P=arguments.length,Z=new Array(P),x=0;x<P;x++)Z[x]=arguments[x];(0,n.default)(this,U),L=(0,t.default)(this,(0,e.default)(U).call(this)),(0,a.default)((0,s.default)(L),"bitmap",ue),(0,a.default)((0,s.default)(L),"_background",0),(0,a.default)((0,s.default)(L),"_originalMime",U.MIME_PNG),(0,a.default)((0,s.default)(L),"_exif",null),(0,a.default)((0,s.default)(L),"_rgba",!0),(0,a.default)((0,s.default)(L),"writeAsync",function(Ie){return(0,T.default)(L.write,(0,s.default)(L),Ie)}),(0,a.default)((0,s.default)(L),"getBase64Async",function(Ie){return(0,T.default)(L.getBase64,(0,s.default)(L),Ie)}),(0,a.default)((0,s.default)(L),"getBuffer",F.getBuffer),(0,a.default)((0,s.default)(L),"getBufferAsync",F.getBufferAsync),(0,a.default)((0,s.default)(L),"getPixelColour",L.getPixelColor),(0,a.default)((0,s.default)(L),"setPixelColour",L.setPixelColor);var C=(0,s.default)(L),S=$;ee(Z[0])&&(Z[0]=j(Z[0]));function X(){for(var Ie=arguments.length,N=new Array(Ie),de=0;de<Ie;de++)N[de]=arguments[de];var pe=N[0],Se=pe||{};Se.methodName="constructor",setTimeout(function(){var ce;pe&&S===$?C.emitError("constructor",pe):pe||C.emitMulti("constructor","initialized"),(ce=S).call.apply(ce,[C].concat(N))},1)}if(typeof Z[0]=="number"&&typeof Z[1]=="number"||parseInt(Z[0],10)&&parseInt(Z[1],10)){var oe=parseInt(Z[0],10),_e=parseInt(Z[1],10);if(S=Z[2],typeof Z[2]=="number"&&(L._background=Z[2],S=Z[3]),typeof Z[2]=="string"&&(L._background=U.cssColorToHex(Z[2]),S=Z[3]),typeof S>"u"&&(S=$),typeof S!="function")return(0,t.default)(L,p.throwError.call((0,s.default)(L),"cb must be a function",X));L.bitmap={data:E.alloc(oe*_e*4),width:oe,height:_e};for(var ye=0;ye<L.bitmap.data.length;ye+=4)L.bitmap.data.writeUInt32BE(L._background,ye);X(null,(0,s.default)(L))}else if((0,f.default)(Z[0])==="object"&&Z[0].url){if(S=Z[1]||$,typeof S!="function")return(0,t.default)(L,p.throwError.call((0,s.default)(L),"cb must be a function",X));Y(Z[0],function(Ie,N){if(Ie)return p.throwError.call((0,s.default)(L),Ie,X);L.parseBitmap(N,Z[0].url,X)})}else if(Z[0]instanceof U){var Te=Z[0];if(S=Z[1],typeof S>"u"&&(S=$),typeof S!="function")return(0,t.default)(L,p.throwError.call((0,s.default)(L),"cb must be a function",X));L.bitmap={data:E.from(Te.bitmap.data),width:Te.bitmap.width,height:Te.bitmap.height},L._quality=Te._quality,L._deflateLevel=Te._deflateLevel,L._deflateStrategy=Te._deflateStrategy,L._filterType=Te._filterType,L._rgba=Te._rgba,L._background=Te._background,L._originalMime=Te._originalMime,X(null,(0,s.default)(L))}else if(Q(Z[0])){var ke=Z[0];S=Z[1]||$;var Le=ke.width*ke.height*4===ke.data.length,Pe=Le?E.from(ke.data):re(ke.data);L.bitmap={data:Pe,width:ke.width,height:ke.height},X(null,(0,s.default)(L))}else if(typeof Z[0]=="string"){var Oe=Z[0];if(S=Z[1],typeof S>"u"&&(S=$),typeof S!="function")return(0,t.default)(L,p.throwError.call((0,s.default)(L),"cb must be a function",X));W(Oe,function(Ie,N){if(Ie)return p.throwError.call((0,s.default)(L),Ie,X);L.parseBitmap(N,Oe,X)})}else if((0,f.default)(Z[0])==="object"&&E.isBuffer(Z[0])){var Ae=Z[0];if(S=Z[1],typeof S!="function")return(0,t.default)(L,p.throwError.call((0,s.default)(L),"cb must be a function",X));L.parseBitmap(Ae,null,X)}else{S=Z[Z.length-1],typeof S!="function"&&(S=Z[Z.length-2],typeof S!="function"&&(S=$));var xe=U.__extraConstructors.find(function(Ie){return Ie.test.apply(Ie,Z)});if(xe)new Promise(function(Ie,N){var de;return(de=xe.run).call.apply(de,[(0,s.default)(L),Ie,N].concat(Z))}).then(function(){return X(null,(0,s.default)(L))}).catch(X);else return(0,t.default)(L,p.throwError.call((0,s.default)(L),"No matching constructor overloading was found. Please see the docs for how to call the Jimp constructor.",X))}return L}return(0,r.default)(U,[{key:"parseBitmap",value:function(P,Z,x){F.parseBitmap.call(this,P,null,x)}},{key:"rgba",value:function(P,Z){return typeof P!="boolean"?p.throwError.call(this,"bool must be a boolean, true for RGBA or false for RGB",Z):(this._rgba=P,(0,p.isNodePattern)(Z)&&Z.call(this,null,this),this)}},{key:"emitMulti",value:function(P,Z){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};x=Object.assign(x,{methodName:P,eventName:Z}),this.emit("any",x),P&&this.emit(P,x),this.emit(Z,x)}},{key:"emitError",value:function(P,Z){this.emitMulti(P,"error",Z)}},{key:"getHeight",value:function(){return this.bitmap.height}},{key:"getWidth",value:function(){return this.bitmap.width}},{key:"inspect",value:function(){return"<Jimp "+(this.bitmap===ue?"pending...":this.bitmap.width+"x"+this.bitmap.height)+">"}},{key:"toString",value:function(){return"[object Jimp]"}},{key:"getMIME",value:function(){var P=this._originalMime||U.MIME_PNG;return P}},{key:"getExtension",value:function(){var P=this.getMIME();return z.getExtension(P)}},{key:"write",value:function(P,Z){var x=this;if(!i.default||!i.default.createWriteStream)throw new Error("Cant access the filesystem. You can use the getBase64 method.");if(typeof P!="string")return p.throwError.call(this,"path must be a string",Z);if(typeof Z>"u"&&(Z=$),typeof Z!="function")return p.throwError.call(this,"cb must be a function",Z);var C=z.getType(P)||this.getMIME(),S=h.default.parse(P);return S.dir&&g.default.sync(S.dir),this.getBuffer(C,function(X,oe){if(X)return p.throwError.call(x,X,Z);var _e=i.default.createWriteStream(P);_e.on("open",function(){_e.write(oe),_e.end()}).on("error",function(ye){return p.throwError.call(x,ye,Z)}),_e.on("finish",function(){Z.call(x,null,x)})}),this}},{key:"getBase64",value:function(P,Z){return P===U.AUTO&&(P=this.getMIME()),typeof P!="string"?p.throwError.call(this,"mime must be a string",Z):typeof Z!="function"?p.throwError.call(this,"cb must be a function",Z):(this.getBuffer(P,function(x,C){if(x)return p.throwError.call(this,x,Z);var S="data:"+P+";base64,"+C.toString("base64");Z.call(this,null,S)}),this)}},{key:"hash",value:function(P,Z){if(P=P||64,typeof P=="function"&&(Z=P,P=64),typeof P!="number")return p.throwError.call(this,"base must be a number",Z);if(P<2||P>64)return p.throwError.call(this,"base must be a number between 2 and 64",Z);var x=this.pHash();for(x=(0,_.default)(_.default.BIN,O.slice(0,P))(x);x.length<k[P];)x="0"+x;return(0,p.isNodePattern)(Z)&&Z.call(this,null,x),x}},{key:"pHash",value:function(){var P=new A.default;return P.getHash(this)}},{key:"distanceFromHash",value:function(P){var Z=new A.default,x=Z.getHash(this);return Z.distance(x,P)}},{key:"getPixelIndex",value:function(P,Z,x,C){var S,X;if(typeof x=="function"&&typeof C>"u"&&(C=x,x=null),x||(x=U.EDGE_EXTEND),typeof P!="number"||typeof Z!="number")return p.throwError.call(this,"x and y must be numbers",C);P=Math.round(P),Z=Math.round(Z),S=P,X=Z,x===U.EDGE_EXTEND&&(P<0&&(S=0),P>=this.bitmap.width&&(S=this.bitmap.width-1),Z<0&&(X=0),Z>=this.bitmap.height&&(X=this.bitmap.height-1)),x===U.EDGE_WRAP&&(P<0&&(S=this.bitmap.width+P),P>=this.bitmap.width&&(S=P%this.bitmap.width),Z<0&&(S=this.bitmap.height+Z),Z>=this.bitmap.height&&(X=Z%this.bitmap.height));var oe=this.bitmap.width*X+S<<2;return(S<0||S>=this.bitmap.width)&&(oe=-1),(X<0||X>=this.bitmap.height)&&(oe=-1),(0,p.isNodePattern)(C)&&C.call(this,null,oe),oe}},{key:"getPixelColor",value:function(P,Z,x){if(typeof P!="number"||typeof Z!="number")return p.throwError.call(this,"x and y must be numbers",x);P=Math.round(P),Z=Math.round(Z);var C=this.getPixelIndex(P,Z),S=this.bitmap.data.readUInt32BE(C);return(0,p.isNodePattern)(x)&&x.call(this,null,S),S}},{key:"setPixelColor",value:function(P,Z,x,C){if(typeof P!="number"||typeof Z!="number"||typeof x!="number")return p.throwError.call(this,"hex, x and y must be numbers",C);Z=Math.round(Z),x=Math.round(x);var S=this.getPixelIndex(Z,x);return this.bitmap.data.writeUInt32BE(P,S),(0,p.isNodePattern)(C)&&C.call(this,null,this),this}},{key:"hasAlpha",value:function(){for(var P=0;P<this.bitmap.height;P++)for(var Z=0;Z<this.bitmap.width;Z++){var x=this.bitmap.width*P+Z<<2,C=this.bitmap.data[x+3];if(C!==255)return!0}return!1}},{key:"scanIterator",value:function(P,Z,x,C){return typeof P!="number"||typeof Z!="number"?p.throwError.call(this,"x and y must be numbers"):typeof x!="number"||typeof C!="number"?p.throwError.call(this,"w and h must be numbers"):(0,p.scanIterator)(this,P,Z,x,C)}}]),U}(d.default);function he(te){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:le;Object.entries(te).forEach(function(L){var P=(0,o.default)(L,2),Z=P[0],x=P[1];U[Z]=x})}function ge(te){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:le;Object.entries(te).forEach(function(L){var P=(0,o.default)(L,2),Z=P[0],x=P[1];U.prototype[Z]=x})}he(D),ge({composite:B.default}),le.__extraConstructors=[],le.appendConstructorOption=function(te,U,L){le.__extraConstructors.push({name:te,test:U,run:L})},le.read=function(){for(var te=arguments.length,U=new Array(te),L=0;L<te;L++)U[L]=arguments[L];return new Promise(function(P,Z){(0,c.default)(le,U.concat([function(x,C){x?Z(x):P(C)}]))})},le.create=le.read,le.rgbaToInt=function(te,U,L,P,Z){if(typeof te!="number"||typeof U!="number"||typeof L!="number"||typeof P!="number")return p.throwError.call(this,"r, g, b and a must be numbers",Z);if(te<0||te>255)return p.throwError.call(this,"r must be between 0 and 255",Z);if((U<0||U>255)&&p.throwError.call(this,"g must be between 0 and 255",Z),L<0||L>255)return p.throwError.call(this,"b must be between 0 and 255",Z);if(P<0||P>255)return p.throwError.call(this,"a must be between 0 and 255",Z);te=Math.round(te),L=Math.round(L),U=Math.round(U),P=Math.round(P);var x=te*Math.pow(256,3)+U*Math.pow(256,2)+L*Math.pow(256,1)+P*Math.pow(256,0);return(0,p.isNodePattern)(Z)&&Z.call(this,null,x),x},le.intToRGBA=function(te,U){if(typeof te!="number")return p.throwError.call(this,"i must be a number",U);var L={};return L.r=Math.floor(te/Math.pow(256,3)),L.g=Math.floor((te-L.r*Math.pow(256,3))/Math.pow(256,2)),L.b=Math.floor((te-L.r*Math.pow(256,3)-L.g*Math.pow(256,2))/Math.pow(256,1)),L.a=Math.floor((te-L.r*Math.pow(256,3)-L.g*Math.pow(256,2)-L.b*Math.pow(256,1))/Math.pow(256,0)),(0,p.isNodePattern)(U)&&U.call(this,null,L),L},le.cssColorToHex=function(te){return te=te||0,typeof te=="number"?Number(te):parseInt((0,w.default)(te).toHex8(),16)},le.limit255=function(te){return te=Math.max(te,0),te=Math.min(te,255),te},le.diff=function(te,U){var L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.1;if(!(te instanceof le)||!(U instanceof le))return p.throwError.call(this,"img1 and img2 must be an Jimp images");var P=te.bitmap,Z=U.bitmap;if((P.width!==Z.width||P.height!==Z.height)&&(P.width*P.height>Z.width*Z.height?te=te.cloneQuiet().resize(Z.width,Z.height):U=U.cloneQuiet().resize(P.width,P.height)),typeof L!="number"||L<0||L>1)return p.throwError.call(this,"threshold must be a number between 0 and 1");var x=new le(P.width,P.height,4294967295),C=(0,b.default)(P.data,Z.data,x.bitmap.data,x.bitmap.width,x.bitmap.height,{threshold:L});return{percent:C/(x.bitmap.width*x.bitmap.height),image:x}},le.distance=function(te,U){var L=new A.default,P=L.getHash(te),Z=L.getHash(U);return L.distance(P,Z)},le.compareHashes=function(te,U){var L=new A.default;return L.distance(te,U)},le.colorDiff=function(te,U){var L=function(C){return Math.pow(C,2)},P=Math.max,Z=255*255*3;return te.a!==0&&!te.a&&(te.a=255),U.a!==0&&!U.a&&(U.a=255),(P(L(te.r-U.r),L(te.r-U.r-te.a+U.a))+P(L(te.g-U.g),L(te.g-U.g-te.a+U.a))+P(L(te.b-U.b),L(te.b-U.b-te.a+U.a)))/Z};function ie(te,U,L){var P="before-"+U,Z=U.replace(/e$/,"")+"ed";le.prototype[te]=function(){for(var x,C=arguments.length,S=new Array(C),X=0;X<C;X++)S[X]=arguments[X];var oe=S[L.length-1],_e=this;typeof oe=="function"?(x=function(){for(var ke=arguments.length,Le=new Array(ke),Pe=0;Pe<ke;Pe++)Le[Pe]=arguments[Pe];var Oe=Le[0],Ae=Le[1];Oe?_e.emitError(te,Oe):_e.emitMulti(te,Z,(0,a.default)({},te,Ae)),oe.apply(this,Le)},S[S.length-1]=x):x=!1,this.emitMulti(te,P);var ye;try{ye=L.apply(this,S),x||this.emitMulti(te,Z,(0,a.default)({},te,ye))}catch(Te){Te.methodName=te,this.emitError(te,Te)}return ye},le.prototype[te+"Quiet"]=L}ie("clone","clone",function(te){var U=new le(this);return(0,p.isNodePattern)(te)&&te.call(U,null,U),U});function ae(te,U){ie(te,"change",U)}ae("background",function(te,U){return typeof te!="number"?p.throwError.call(this,"hex must be a hexadecimal rgba value",U):(this._background=te,(0,p.isNodePattern)(U)&&U.call(this,null,this),this)}),ae("scan",function(te,U,L,P,Z,x){if(typeof te!="number"||typeof U!="number")return p.throwError.call(this,"x and y must be numbers",x);if(typeof L!="number"||typeof P!="number")return p.throwError.call(this,"w and h must be numbers",x);if(typeof Z!="function")return p.throwError.call(this,"f must be a function",x);var C=(0,p.scan)(this,te,U,L,P,Z);return(0,p.isNodePattern)(x)&&x.call(this,null,C),C});{var V;typeof Ee<"u"&&(typeof Ee>"u"?"undefined":(0,f.default)(Ee))==="object"&&(V=Ee),typeof self<"u"&&(typeof self>"u"?"undefined":(0,f.default)(self))==="object"&&(V=self),V.Jimp=le,V.Buffer=E}var q=le;y.default=q}).call(this,M("buffer").Buffer)},{"./composite":191,"./constants":192,"./modules/phash":194,"./request":195,"./utils/image-bitmap":196,"./utils/mime":197,"./utils/promisify":198,"@babel/runtime/helpers/assertThisInitialized":3,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/construct":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/interopRequireWildcard":12,"@babel/runtime/helpers/possibleConstructorReturn":17,"@babel/runtime/helpers/slicedToArray":19,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235,"any-base":23,buffer:48,events:52,fs:47,mkdirp:83,path:107,pixelmatch:109,tinycolor2:178}],194:[function(M,H,y){function E(n,r){this.size=this.size||n,this.smallerSize=this.smallerSize||r,c(this.size)}E.prototype.size=32,E.prototype.smallerSize=8,E.prototype.distance=function(n,r){for(var t=0,e=0;e<n.length;e++)n[e]!==r[e]&&t++;return t/n.length},E.prototype.getHash=function(n){n=n.clone().resize(this.size,this.size),n.grayscale();for(var r=[],t=0;t<n.bitmap.width;t++){r[t]=[];for(var e=0;e<n.bitmap.height;e++)r[t][e]=m(n.getPixelColor(t,e)).b}for(var s=o(r,this.size),l=0,a=0;a<this.smallerSize;a++)for(var f=0;f<this.smallerSize;f++)l+=s[a][f];for(var i=l/(this.smallerSize*this.smallerSize),h="",d=0;d<this.smallerSize;d++)for(var p=0;p<this.smallerSize;p++)h+=s[d][p]>i?"1":"0";return h};function m(n){var r={};return r.r=Math.floor(n/Math.pow(256,3)),r.g=Math.floor((n-r.r*Math.pow(256,3))/Math.pow(256,2)),r.b=Math.floor((n-r.r*Math.pow(256,3)-r.g*Math.pow(256,2))/Math.pow(256,1)),r.a=Math.floor((n-r.r*Math.pow(256,3)-r.g*Math.pow(256,2)-r.b*Math.pow(256,1))/Math.pow(256,0)),r}var u=[];function c(n){for(var r=1;r<n;r++)u[r]=1;u[0]=1/Math.sqrt(2)}function o(n,r){for(var t=r,e=[],s=0;s<t;s++){e[s]=[];for(var l=0;l<t;l++){for(var a=0,f=0;f<t;f++)for(var i=0;i<t;i++)a+=Math.cos((2*f+1)/(2*t)*s*Math.PI)*Math.cos((2*i+1)/(2*t)*l*Math.PI)*n[f][i];a*=u[s]*u[l]/4,e[s][l]=a}}return e}H.exports=E},{}],195:[function(M,H,y){(function(E,m){var u=M("@babel/runtime/helpers/interopRequireDefault");u(M("@babel/runtime/helpers/defineProperty")),u(M("@babel/runtime/helpers/extends")),E.browser,H.exports=function(c,o){var n=new XMLHttpRequest;n.open("GET",c.url,!0),n.responseType="arraybuffer",n.addEventListener("load",function(){if(n.status<400)try{var r=m.from(this.response);o(null,n,r)}catch(t){return o(new Error("Response is not a buffer for url "+c.url+". Error: "+t.message))}else o(new Error("HTTP Status "+n.status+" for url "+c.url))}),n.addEventListener("error",function(r){o(r)}),n.send()}}).call(this,M("_process"),M("buffer").Buffer)},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/extends":8,"@babel/runtime/helpers/interopRequireDefault":11,_process:133,buffer:48,phin:108}],196:[function(M,H,y){(function(E){var m=M("@babel/runtime/helpers/interopRequireWildcard"),u=M("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(y,"__esModule",{value:!0}),y.parseBitmap=d,y.getBuffer=_,y.getBufferAsync=g;var c=u(M("@babel/runtime/helpers/slicedToArray")),o=u(M("file-type")),n=u(M("exif-parser")),r=M("@jimp/utils"),t=m(M("../constants")),e=m(M("./mime")),s=u(M("./promisify"));function l(b,w){var A=(0,o.default)(b);return A?A.mime:w?e.getType(w):null}function a(b){return b._exif&&b._exif.tags&&b._exif.tags.Orientation||1}function f(b){var w=b.getWidth(),A=b.getHeight();switch(a(b)){case 1:return null;case 2:return function(R,B){return[w-R-1,B]};case 3:return function(R,B){return[w-R-1,A-B-1]};case 4:return function(R,B){return[R,A-B-1]};case 5:return function(R,B){return[B,R]};case 6:return function(R,B){return[B,A-R-1]};case 7:return function(R,B){return[w-B-1,A-R-1]};case 8:return function(R,B){return[w-B-1,R]};default:return null}}function i(b,w,A,R){for(var B=b.bitmap.data,T=b.bitmap.width,z=E.alloc(B.length),F=0;F<w;F++)for(var D=0;D<A;D++){var O=R(F,D),k=(0,c.default)(O,2),G=k[0],J=k[1],$=w*D+F<<2,ee=T*J+G<<2,j=B.readUInt32BE(ee);z.writeUInt32BE(j,$)}b.bitmap.data=z,b.bitmap.width=w,b.bitmap.height=A}function h(b){if(!(a(b)<2)){var w=f(b),A=a(b)>4,R=A?b.bitmap.height:b.bitmap.width,B=A?b.bitmap.width:b.bitmap.height;i(b,R,B,w)}}function d(b,w,A){var R=l(b,w);if(typeof R!="string")return A(new Error("Could not find MIME for Buffer <"+w+">"));this._originalMime=R.toLowerCase();try{var B=this.getMIME();if(this.constructor.decoders[B])this.bitmap=this.constructor.decoders[B](b);else return r.throwError.call(this,"Unsupported MIME type: "+B,A)}catch(T){return A.call(this,T,this)}try{this._exif=n.default.create(b).parse(),h(this)}catch{}return A.call(this,null,this),this}function p(b,w){return new b(w.bitmap.width,w.bitmap.height,w._background).composite(w,0,0).bitmap}function _(b,w){if(b===t.AUTO&&(b=this.getMIME()),typeof b!="string")return r.throwError.call(this,"mime must be a string",w);if(typeof w!="function")return r.throwError.call(this,"cb must be a function",w);if(b=b.toLowerCase(),this._rgba&&this.constructor.hasAlpha[b]?this.bitmap.data=E.from(this.bitmap.data):this.bitmap.data=p(this.constructor,this).data,this.constructor.encoders[b]){var A=this.constructor.encoders[b](this);w.call(this,null,A)}else w.call(this,"Unsupported MIME type: "+b);return this}function g(b){return(0,s.default)(_,this,b)}}).call(this,M("buffer").Buffer)},{"../constants":192,"./mime":197,"./promisify":198,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/interopRequireWildcard":12,"@babel/runtime/helpers/slicedToArray":19,"@jimp/utils":235,buffer:48,"exif-parser":53,"file-type":62}],197:[function(M,H,y){Object.defineProperty(y,"__esModule",{value:!0}),y.getExtension=y.getType=y.addType=void 0;var E={},m=function(r){return Object.entries(E).find(function(t){return t[1].includes(r)})||[]},u=function(r,t){E[r]=t};y.addType=u;var c=function(r){var t=r.split("/").slice(-1),e=t[t.length-1].split(".").pop(),s=m(e);return s[0]};y.getType=c;var o=function(r){return(E[r.toLowerCase()]||[])[0]};y.getExtension=o},{}],198:[function(M,H,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var E=function(c,o){for(var n=arguments.length,r=new Array(n>2?n-2:0),t=2;t<n;t++)r[t-2]=arguments[t];return new Promise(function(e,s){r.push(function(l,a){l&&s(l),e(a)}),c.bind(o).apply(void 0,r)})},m=E;y.default=m,H.exports=y.default},{}],199:[function(M,H,y){var E=M("@babel/runtime/helpers/interopRequireWildcard"),m=M("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(y,"__esModule",{value:!0}),y.default=e;var u=m(M("@babel/runtime/helpers/toConsumableArray")),c=m(M("@babel/runtime/helpers/defineProperty")),o=m(M("@babel/runtime/helpers/slicedToArray")),n=E(M("@jimp/core"));function r(s,l){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(s);l&&(f=f.filter(function(i){return Object.getOwnPropertyDescriptor(s,i).enumerable})),a.push.apply(a,f)}return a}function t(s){for(var l=1;l<arguments.length;l++){var a=arguments[l]!=null?arguments[l]:{};l%2?r(a,!0).forEach(function(f){(0,c.default)(s,f,a[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):r(a).forEach(function(f){Object.defineProperty(s,f,Object.getOwnPropertyDescriptor(a,f))})}return s}function e(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n.default,a={hasAlpha:{},encoders:{},decoders:{},class:{},constants:{}};function f(d){Object.entries(d).forEach(function(p){var _=(0,o.default)(p,2),g=_[0],b=_[1];a[g]=t({},a[g],{},b)})}function i(d){var p=d();Array.isArray(p.mime)?n.addType.apply(void 0,(0,u.default)(p.mime)):Object.entries(p.mime).forEach(function(_){return n.addType.apply(void 0,(0,u.default)(_))}),delete p.mime,f(p)}function h(d){var p=d(n.jimpEvChange)||{};!p.class&&!p.constants?f({class:p}):f(p)}return s.types&&(s.types.forEach(i),l.decoders=t({},l.decoders,{},a.decoders),l.encoders=t({},l.encoders,{},a.encoders),l.hasAlpha=t({},l.hasAlpha,{},a.hasAlpha)),s.plugins&&s.plugins.forEach(h),(0,n.addJimpMethods)(a.class,l),(0,n.addConstants)(a.constants,l),n.default}H.exports=y.default},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/interopRequireWildcard":12,"@babel/runtime/helpers/slicedToArray":19,"@babel/runtime/helpers/toConsumableArray":20,"@jimp/core":193}],200:[function(M,H,y){var E=M("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var m=E(M("@jimp/custom")),u=E(M("@jimp/types")),c=E(M("@jimp/plugins")),o=(0,m.default)({types:[u.default],plugins:[c.default]});y.default=o,H.exports=y.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/custom":199,"@jimp/plugins":228,"@jimp/types":234}],201:[function(M,H,y){var E=M("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var m=E(M("@babel/runtime/helpers/typeof")),u=M("@jimp/utils"),c=function(){return{blit:function(r,t,e,s,l,a,f,i){if(!(r instanceof this.constructor))return u.throwError.call(this,"The source must be a Jimp image",i);if(typeof t!="number"||typeof e!="number")return u.throwError.call(this,"x and y must be numbers",i);if(typeof s=="function")i=s,s=0,l=0,a=r.bitmap.width,f=r.bitmap.height;else if((0,m.default)(s)===(0,m.default)(l)&&(0,m.default)(l)===(0,m.default)(a)&&(0,m.default)(a)===(0,m.default)(f))s=s||0,l=l||0,a=a||r.bitmap.width,f=f||r.bitmap.height;else return u.throwError.call(this,"srcx, srcy, srcw, srch must be numbers",i);t=Math.round(t),e=Math.round(e),s=Math.round(s),l=Math.round(l),a=Math.round(a),f=Math.round(f);var h=this.bitmap.width,d=this.bitmap.height,p=this;return r.scanQuiet(s,l,a,f,function(_,g,b){var w=t+_-s,A=e+g-l;if(w>=0&&A>=0&&h-w>0&&d-A>0){var R=p.getPixelIndex(w,A),B={r:this.bitmap.data[b],g:this.bitmap.data[b+1],b:this.bitmap.data[b+2],a:this.bitmap.data[b+3]},T={r:p.bitmap.data[R],g:p.bitmap.data[R+1],b:p.bitmap.data[R+2],a:p.bitmap.data[R+3]};p.bitmap.data[R]=(B.a*(B.r-T.r)-T.r+255>>8)+T.r,p.bitmap.data[R+1]=(B.a*(B.g-T.g)-T.g+255>>8)+T.g,p.bitmap.data[R+2]=(B.a*(B.b-T.b)-T.b+255>>8)+T.b,p.bitmap.data[R+3]=this.constructor.limit255(T.a+B.a)}}),(0,u.isNodePattern)(i)&&i.call(this,null,this),this}}};y.default=c,H.exports=y.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235}],202:[function(M,H,y){Object.defineProperty(y,"__esModule",{value:!0}),y.shgTable=y.mulTable=void 0;var E=[1,57,41,21,203,34,97,73,227,91,149,62,105,45,39,137,241,107,3,173,39,71,65,238,219,101,187,87,81,151,141,133,249,117,221,209,197,187,177,169,5,153,73,139,133,127,243,233,223,107,103,99,191,23,177,171,165,159,77,149,9,139,135,131,253,245,119,231,224,109,211,103,25,195,189,23,45,175,171,83,81,79,155,151,147,9,141,137,67,131,129,251,123,30,235,115,113,221,217,53,13,51,50,49,193,189,185,91,179,175,43,169,83,163,5,79,155,19,75,147,145,143,35,69,17,67,33,65,255,251,247,243,239,59,29,229,113,111,219,27,213,105,207,51,201,199,49,193,191,47,93,183,181,179,11,87,43,85,167,165,163,161,159,157,155,77,19,75,37,73,145,143,141,35,138,137,135,67,33,131,129,255,63,250,247,61,121,239,237,117,29,229,227,225,111,55,109,216,213,211,209,207,205,203,201,199,197,195,193,48,190,47,93,185,183,181,179,178,176,175,173,171,85,21,167,165,41,163,161,5,79,157,78,154,153,19,75,149,74,147,73,144,143,71,141,140,139,137,17,135,134,133,66,131,65,129,1];y.mulTable=E;var m=[0,9,10,10,14,12,14,14,16,15,16,15,16,15,15,17,18,17,12,18,16,17,17,19,19,18,19,18,18,19,19,19,20,19,20,20,20,20,20,20,15,20,19,20,20,20,21,21,21,20,20,20,21,18,21,21,21,21,20,21,17,21,21,21,22,22,21,22,22,21,22,21,19,22,22,19,20,22,22,21,21,21,22,22,22,18,22,22,21,22,22,23,22,20,23,22,22,23,23,21,19,21,21,21,23,23,23,22,23,23,21,23,22,23,18,22,23,20,22,23,23,23,21,22,20,22,21,22,24,24,24,24,24,22,21,24,23,23,24,21,24,23,24,22,24,24,22,24,24,22,23,24,24,24,20,23,22,23,24,24,24,24,24,24,24,23,21,23,22,23,24,24,24,22,24,24,24,23,22,24,24,25,23,25,25,23,24,25,25,24,22,25,25,25,24,23,24,25,25,25,25,25,25,25,25,25,25,25,25,23,25,23,24,25,25,25,25,25,25,25,25,25,24,22,25,25,23,25,25,20,24,25,24,25,25,22,24,25,24,25,24,25,25,24,25,25,25,25,22,25,25,25,24,25,24,25,18];y.shgTable=m},{}],203:[function(M,H,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var E=M("@jimp/utils"),m=M("./blur-tables"),u=function(){return{blur:function(n,r){if(typeof n!="number")return E.throwError.call(this,"r must be a number",r);if(n<1)return E.throwError.call(this,"r must be greater than 0",r);for(var t,e,s,l,a,f,i,h,d,p,_,g,b,w,A=this.bitmap.width-1,R=this.bitmap.height-1,B=n+1,T=m.mulTable[n],z=m.shgTable[n],F=[],D=[],O=[],k=[],G=[],J=[],$=2;$-- >0;){for(g=0,b=0,f=0;f<this.bitmap.height;f++){for(t=this.bitmap.data[b]*B,e=this.bitmap.data[b+1]*B,s=this.bitmap.data[b+2]*B,l=this.bitmap.data[b+3]*B,i=1;i<=n;i++)h=b+((i>A?A:i)<<2),t+=this.bitmap.data[h++],e+=this.bitmap.data[h++],s+=this.bitmap.data[h++],l+=this.bitmap.data[h];for(a=0;a<this.bitmap.width;a++)F[g]=t,D[g]=e,O[g]=s,k[g]=l,f===0&&(G[a]=((h=a+B)<A?h:A)<<2,J[a]=(h=a-n)>0?h<<2:0),d=b+G[a],p=b+J[a],t+=this.bitmap.data[d++]-this.bitmap.data[p++],e+=this.bitmap.data[d++]-this.bitmap.data[p++],s+=this.bitmap.data[d++]-this.bitmap.data[p++],l+=this.bitmap.data[d]-this.bitmap.data[p],g++;b+=this.bitmap.width<<2}for(a=0;a<this.bitmap.width;a++){for(_=a,t=F[_]*B,e=D[_]*B,s=O[_]*B,l=k[_]*B,i=1;i<=n;i++)_+=i>R?0:this.bitmap.width,t+=F[_],e+=D[_],s+=O[_],l+=k[_];for(g=a<<2,f=0;f<this.bitmap.height;f++)w=l*T>>>z,this.bitmap.data[g+3]=w,w>255&&(this.bitmap.data[g+3]=255),w>0?(w=255/w,this.bitmap.data[g]=(t*T>>>z)*w,this.bitmap.data[g+1]=(e*T>>>z)*w,this.bitmap.data[g+2]=(s*T>>>z)*w):(this.bitmap.data[g+2]=0,this.bitmap.data[g+1]=0,this.bitmap.data[g]=0),a===0&&(G[f]=((h=f+B)<R?h:R)*this.bitmap.width,J[f]=(h=f-n)>0?h*this.bitmap.width:0),d=a+G[f],p=a+J[f],t+=F[d]-F[p],e+=D[d]-D[p],s+=O[d]-O[p],l+=k[d]-k[p],g+=this.bitmap.width<<2}}return(0,E.isNodePattern)(r)&&r.call(this,null,this),this}}};y.default=u,H.exports=y.default},{"./blur-tables":202,"@jimp/utils":235}],204:[function(M,H,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var E=M("@jimp/utils"),m=function(){return{circle:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;typeof o=="function"&&(n=o,o={});var r=o.radius||(this.bitmap.width>this.bitmap.height?this.bitmap.height:this.bitmap.width)/2,t={x:typeof o.x=="number"?o.x:this.bitmap.width/2,y:typeof o.y=="number"?o.y:this.bitmap.height/2};return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(e,s,l){var a=Math.sqrt(Math.pow(e-t.x,2)+Math.pow(s-t.y,2));r-a<=0?this.bitmap.data[l+3]=0:r-a<1&&(this.bitmap.data[l+3]=255*(r-a))}),(0,E.isNodePattern)(n)&&n.call(this,null,this),this}}};y.default=m,H.exports=y.default},{"@jimp/utils":235}],205:[function(M,H,y){(function(E){var m=M("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var u=m(M("@babel/runtime/helpers/toConsumableArray")),c=m(M("tinycolor2")),o=M("@jimp/utils");function n(a,f,i,h){for(var d=[0,0,0],p=(f.length-1)/2,_=0;_<f.length;_+=1)for(var g=0;g<f[_].length;g+=1){var b=a.getPixelIndex(i+_-p,h+g-p);d[0]+=a.bitmap.data[b]*f[_][g],d[1]+=a.bitmap.data[b+1]*f[_][g],d[2]+=a.bitmap.data[b+2]*f[_][g]}return d}var r=function(f){return typeof f<"u"&&f!==null};function t(a){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(f,i,h){var d=parseInt(.2126*this.bitmap.data[h]+.7152*this.bitmap.data[h+1]+.0722*this.bitmap.data[h+2],10);this.bitmap.data[h]=d,this.bitmap.data[h+1]=d,this.bitmap.data[h+2]=d}),(0,o.isNodePattern)(a)&&a.call(this,null,this),this}function e(a,f){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:50;return{r:(f.r-a.r)*(i/100)+a.r,g:(f.g-a.g)*(i/100)+a.g,b:(f.b-a.b)*(i/100)+a.b}}function s(a,f){var i=this;return!a||!Array.isArray(a)?o.throwError.call(this,"actions must be an array",f):(a=a.map(function(h){return(h.apply==="xor"||h.apply==="mix")&&(h.params[0]=(0,c.default)(h.params[0]).toRgb()),h}),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(h,d,p){var _={r:i.bitmap.data[p],g:i.bitmap.data[p+1],b:i.bitmap.data[p+2]},g=function(w,A){return i.constructor.limit255(_[w]+A)};a.forEach(function(b){if(b.apply==="mix")_=e(_,b.params[0],b.params[1]);else if(b.apply==="tint")_=e(_,{r:255,g:255,b:255},b.params[0]);else if(b.apply==="shade")_=e(_,{r:0,g:0,b:0},b.params[0]);else if(b.apply==="xor")_={r:_.r^b.params[0].r,g:_.g^b.params[0].g,b:_.b^b.params[0].b};else if(b.apply==="red")_.r=g("r",b.params[0]);else if(b.apply==="green")_.g=g("g",b.params[0]);else if(b.apply==="blue")_.b=g("b",b.params[0]);else{var w;if(b.apply==="hue"&&(b.apply="spin"),_=(0,c.default)(_),!_[b.apply])return o.throwError.call(i,"action "+b.apply+" not supported",f);_=(w=_)[b.apply].apply(w,(0,u.default)(b.params)).toRgb()}}),i.bitmap.data[p]=_.r,i.bitmap.data[p+1]=_.g,i.bitmap.data[p+2]=_.b}),(0,o.isNodePattern)(f)&&f.call(this,null,this),this)}var l=function(){return{brightness:function(i,h){return typeof i!="number"?o.throwError.call(this,"val must be numbers",h):i<-1||i>1?o.throwError.call(this,"val must be a number between -1 and +1",h):(this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(d,p,_){i<0?(this.bitmap.data[_]=this.bitmap.data[_]*(1+i),this.bitmap.data[_+1]=this.bitmap.data[_+1]*(1+i),this.bitmap.data[_+2]=this.bitmap.data[_+2]*(1+i)):(this.bitmap.data[_]=this.bitmap.data[_]+(255-this.bitmap.data[_])*i,this.bitmap.data[_+1]=this.bitmap.data[_+1]+(255-this.bitmap.data[_+1])*i,this.bitmap.data[_+2]=this.bitmap.data[_+2]+(255-this.bitmap.data[_+2])*i)}),(0,o.isNodePattern)(h)&&h.call(this,null,this),this)},contrast:function(i,h){if(typeof i!="number")return o.throwError.call(this,"val must be numbers",h);if(i<-1||i>1)return o.throwError.call(this,"val must be a number between -1 and +1",h);var d=(i+1)/(1-i);function p(_){return _=Math.floor(d*(_-127)+127),_<0?0:_>255?255:_}return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(_,g,b){this.bitmap.data[b]=p(this.bitmap.data[b]),this.bitmap.data[b+1]=p(this.bitmap.data[b+1]),this.bitmap.data[b+2]=p(this.bitmap.data[b+2])}),(0,o.isNodePattern)(h)&&h.call(this,null,this),this},posterize:function(i,h){return typeof i!="number"?o.throwError.call(this,"n must be numbers",h):(i<2&&(i=2),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(d,p,_){this.bitmap.data[_]=Math.floor(this.bitmap.data[_]/255*(i-1))/(i-1)*255,this.bitmap.data[_+1]=Math.floor(this.bitmap.data[_+1]/255*(i-1))/(i-1)*255,this.bitmap.data[_+2]=Math.floor(this.bitmap.data[_+2]/255*(i-1))/(i-1)*255}),(0,o.isNodePattern)(h)&&h.call(this,null,this),this)},greyscale:t,grayscale:t,opacity:function(i,h){return typeof i!="number"?o.throwError.call(this,"f must be a number",h):i<0||i>1?o.throwError.call(this,"f must be a number from 0 to 1",h):(this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(d,p,_){var g=this.bitmap.data[_+3]*i;this.bitmap.data[_+3]=g}),(0,o.isNodePattern)(h)&&h.call(this,null,this),this)},sepia:function(i){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(h,d,p){var _=this.bitmap.data[p],g=this.bitmap.data[p+1],b=this.bitmap.data[p+2];_=_*.393+g*.769+b*.189,g=_*.349+g*.686+b*.168,b=_*.272+g*.534+b*.131,this.bitmap.data[p]=_<255?_:255,this.bitmap.data[p+1]=g<255?g:255,this.bitmap.data[p+2]=b<255?b:255}),(0,o.isNodePattern)(i)&&i.call(this,null,this),this},fade:function(i,h){return typeof i!="number"?o.throwError.call(this,"f must be a number",h):i<0||i>1?o.throwError.call(this,"f must be a number from 0 to 1",h):(this.opacity(1-i),(0,o.isNodePattern)(h)&&h.call(this,null,this),this)},convolution:function(i,h,d){typeof h=="function"&&typeof d>"u"&&(d=h,h=null),h||(h=this.constructor.EDGE_EXTEND);var p=E.from(this.bitmap.data),_=i.length,g=i[0].length,b=Math.floor(_/2),w=Math.floor(g/2),A=-b,R=-w,B,T,z,F,D,O,k,G,J,$;return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(ee,j,Y){F=0,z=0,T=0;for(var W=A;W<=b;W++)for(var Q=R;Q<=w;Q++)G=ee+Q,J=j+W,B=i[W+b][Q+w],$=this.getPixelIndex(G,J,h),$===-1?(k=0,O=0,D=0):(D=this.bitmap.data[$+0],O=this.bitmap.data[$+1],k=this.bitmap.data[$+2]),T+=B*D,z+=B*O,F+=B*k;T<0&&(T=0),z<0&&(z=0),F<0&&(F=0),T>255&&(T=255),z>255&&(z=255),F>255&&(F=255),p[Y+0]=T,p[Y+1]=z,p[Y+2]=F}),this.bitmap.data=p,(0,o.isNodePattern)(d)&&d.call(this,null,this),this},opaque:function(i){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(h,d,p){this.bitmap.data[p+3]=255}),(0,o.isNodePattern)(i)&&i.call(this,null,this),this},pixelate:function(i,h,d,p,_,g){if(typeof h=="function")g=h,_=null,p=null,d=null,h=null;else{if(typeof i!="number")return o.throwError.call(this,"size must be a number",g);if(r(h)&&typeof h!="number")return o.throwError.call(this,"x must be a number",g);if(r(d)&&typeof d!="number")return o.throwError.call(this,"y must be a number",g);if(r(p)&&typeof p!="number")return o.throwError.call(this,"w must be a number",g);if(r(_)&&typeof _!="number")return o.throwError.call(this,"h must be a number",g)}var b=[[1/16,2/16,1/16],[2/16,4/16,2/16],[1/16,2/16,1/16]];h=h||0,d=d||0,p=r(p)?p:this.bitmap.width-h,_=r(_)?_:this.bitmap.height-d;var w=this.cloneQuiet();return this.scanQuiet(h,d,p,_,function(A,R,B){A=i*Math.floor(A/i),R=i*Math.floor(R/i);var T=n(w,b,A,R);this.bitmap.data[B]=T[0],this.bitmap.data[B+1]=T[1],this.bitmap.data[B+2]=T[2]}),(0,o.isNodePattern)(g)&&g.call(this,null,this),this},convolute:function(i,h,d,p,_,g){if(!Array.isArray(i))return o.throwError.call(this,"the kernel must be an array",g);if(typeof h=="function")g=h,h=null,d=null,p=null,_=null;else{if(r(h)&&typeof h!="number")return o.throwError.call(this,"x must be a number",g);if(r(d)&&typeof d!="number")return o.throwError.call(this,"y must be a number",g);if(r(p)&&typeof p!="number")return o.throwError.call(this,"w must be a number",g);if(r(_)&&typeof _!="number")return o.throwError.call(this,"h must be a number",g)}var b=(i.length-1)/2;h=r(h)?h:b,d=r(d)?d:b,p=r(p)?p:this.bitmap.width-h,_=r(_)?_:this.bitmap.height-d;var w=this.cloneQuiet();return this.scanQuiet(h,d,p,_,function(A,R,B){var T=n(w,i,A,R);this.bitmap.data[B]=this.constructor.limit255(T[0]),this.bitmap.data[B+1]=this.constructor.limit255(T[1]),this.bitmap.data[B+2]=this.constructor.limit255(T[2])}),(0,o.isNodePattern)(g)&&g.call(this,null,this),this},color:s,colour:s}};y.default=l,H.exports=y.default}).call(this,M("buffer").Buffer)},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/toConsumableArray":20,"@jimp/utils":235,buffer:48,tinycolor2:178}],206:[function(M,H,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var E=M("@jimp/utils"),m=function(){return{contain:function(o,n,r,t,e){if(typeof o!="number"||typeof n!="number")return E.throwError.call(this,"w and h must be numbers",e);typeof r=="string"&&(typeof t=="function"&&typeof e>"u"&&(e=t),t=r,r=null),typeof r=="function"&&(typeof e>"u"&&(e=r),t=null,r=null),typeof t=="function"&&typeof e>"u"&&(e=t,t=null),r=r||this.constructor.HORIZONTAL_ALIGN_CENTER|this.constructor.VERTICAL_ALIGN_MIDDLE;var s=r&7,l=r>>3;if(!(s!==0&&!(s&s-1)||l!==0&&!(l&l-1)))return E.throwError.call(this,"only use one flag per alignment direction",e);var a=s>>1,f=l>>1,i=o/n>this.bitmap.width/this.bitmap.height?n/this.bitmap.height:o/this.bitmap.width,h=this.cloneQuiet().scale(i,t);return this.resize(o,n,t),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(d,p,_){this.bitmap.data.writeUInt32BE(this._background,_)}),this.blit(h,(this.bitmap.width-h.bitmap.width)/2*a,(this.bitmap.height-h.bitmap.height)/2*f),(0,E.isNodePattern)(e)&&e.call(this,null,this),this}}};y.default=m,H.exports=y.default},{"@jimp/utils":235}],207:[function(M,H,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var E=M("@jimp/utils"),m=function(){return{cover:function(o,n,r,t,e){if(typeof o!="number"||typeof n!="number")return E.throwError.call(this,"w and h must be numbers",e);r&&typeof r=="function"&&typeof e>"u"?(e=r,r=null,t=null):typeof t=="function"&&typeof e>"u"&&(e=t,t=null),r=r||this.constructor.HORIZONTAL_ALIGN_CENTER|this.constructor.VERTICAL_ALIGN_MIDDLE;var s=r&7,l=r>>3;if(!(s!==0&&!(s&s-1)||l!==0&&!(l&l-1)))return E.throwError.call(this,"only use one flag per alignment direction",e);var a=s>>1,f=l>>1,i=o/n>this.bitmap.width/this.bitmap.height?o/this.bitmap.width:n/this.bitmap.height;return this.scale(i,t),this.crop((this.bitmap.width-o)/2*a,(this.bitmap.height-n)/2*f,o,n),(0,E.isNodePattern)(e)&&e.call(this,null,this),this}}};y.default=m,H.exports=y.default},{"@jimp/utils":235}],208:[function(M,H,y){(function(E){var m=M("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(y,"__esModule",{value:!0}),y.default=o;var u=m(M("@babel/runtime/helpers/typeof")),c=M("@jimp/utils");function o(n){return n("crop",function(r,t,e,s,l){if(typeof r!="number"||typeof t!="number")return c.throwError.call(this,"x and y must be numbers",l);if(typeof e!="number"||typeof s!="number")return c.throwError.call(this,"w and h must be numbers",l);if(r=Math.round(r),t=Math.round(t),e=Math.round(e),s=Math.round(s),r===0&&e===this.bitmap.width){var a=e*t+r<<2,f=a+s*e<<2;this.bitmap.data=this.bitmap.data.slice(a,f)}else{var i=E.allocUnsafe(e*s*4),h=0;this.scanQuiet(r,t,e,s,function(d,p,_){var g=this.bitmap.data.readUInt32BE(_,!0);i.writeUInt32BE(g,h,!0),h+=4}),this.bitmap.data=i}return this.bitmap.width=e,this.bitmap.height=s,(0,c.isNodePattern)(l)&&l.call(this,null,this),this}),{class:{autocrop:function(){for(var t=this.bitmap.width,e=this.bitmap.height,s=1,l,a=0,f=2e-4,i=!0,h=!1,d=arguments.length,p=new Array(d),_=0;_<d;_++)p[_]=arguments[_];for(var g=0,b=p.length;g<b;g++)if(typeof p[g]=="number"&&(f=p[g]),typeof p[g]=="boolean"&&(i=p[g]),typeof p[g]=="function"&&(l=p[g]),(0,u.default)(p[g])==="object"){var w=p[g];typeof w.tolerance<"u"&&(f=w.tolerance),typeof w.cropOnlyFrames<"u"&&(i=w.cropOnlyFrames),typeof w.cropSymmetric<"u"&&(h=w.cropSymmetric),typeof w.leaveBorder<"u"&&(a=w.leaveBorder)}var A=this.getPixelColor(0,0),R=this.constructor.intToRGBA(A),B=0,T=0,z=0,F=0;A=this.getPixelColor(0,0);e:for(var D=0;D<e-s;D++){for(var O=0;O<t;O++){var k=this.getPixelColor(O,D),G=this.constructor.intToRGBA(k);if(this.constructor.colorDiff(R,G)>f)break e}B++}A=this.getPixelColor(t,0);e:for(var J=0;J<t-s;J++){for(var $=0+B;$<e;$++){var ee=this.getPixelColor(J,$),j=this.constructor.intToRGBA(ee);if(this.constructor.colorDiff(R,j)>f)break e}T++}A=this.getPixelColor(0,e);e:for(var Y=e-1;Y>=B+s;Y--){for(var W=t-T-1;W>=0;W--){var Q=this.getPixelColor(W,Y),re=this.constructor.intToRGBA(Q);if(this.constructor.colorDiff(R,re)>f)break e}z++}A=this.getPixelColor(t,e);e:for(var ue=t-1;ue>=0+T+s;ue--){for(var le=e-1;le>=0+B;le--){var he=this.getPixelColor(ue,le),ge=this.constructor.intToRGBA(he);if(this.constructor.colorDiff(R,ge)>f)break e}F++}var ie=!1;if(F-=a,T-=a,B-=a,z-=a,h){var ae=Math.min(T,F),V=Math.min(B,z);F=ae,T=ae,B=V,z=V}F=F>=0?F:0,T=T>=0?T:0,B=B>=0?B:0,z=z>=0?z:0;var q=t-(F+T),te=e-(z+B);return i?ie=T!==0&&B!==0&&F!==0&&z!==0:ie=T!==0||B!==0||F!==0||z!==0,ie&&this.crop(T,B,q,te),(0,c.isNodePattern)(l)&&l.call(this,null,this),this}}}}H.exports=y.default}).call(this,M("buffer").Buffer)},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235,buffer:48}],209:[function(M,H,y){var E=M("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var m=E(M("@babel/runtime/helpers/typeof")),u=M("@jimp/utils"),c=function(){return{displace:function(r,t,e){if((0,m.default)(r)!=="object"||r.constructor!==this.constructor)return u.throwError.call(this,"The source must be a Jimp image",e);if(typeof t!="number")return u.throwError.call(this,"factor must be a number",e);var s=this.cloneQuiet();return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(l,a,f){var i=r.bitmap.data[f]/256*t;i=Math.round(i);var h=this.getPixelIndex(l+i,a);this.bitmap.data[h]=s.bitmap.data[f],this.bitmap.data[h+1]=s.bitmap.data[f+1],this.bitmap.data[h+2]=s.bitmap.data[f+2]}),(0,u.isNodePattern)(e)&&e.call(this,null,this),this}}};y.default=c,H.exports=y.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235}],210:[function(M,H,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var E=M("@jimp/utils");function m(c){var o=[1,9,3,11,13,5,15,7,4,12,2,10,16,8,14,6];return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(n,r,t){var e=((r&3)<<2)+n%4,s=o[e];this.bitmap.data[t]=Math.min(this.bitmap.data[t]+s,255),this.bitmap.data[t+1]=Math.min(this.bitmap.data[t+1]+s,255),this.bitmap.data[t+2]=Math.min(this.bitmap.data[t+2]+s,255)}),(0,E.isNodePattern)(c)&&c.call(this,null,this),this}var u=function(){return{dither565:m,dither16:m}};y.default=u,H.exports=y.default},{"@jimp/utils":235}],211:[function(M,H,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var E=M("@jimp/utils"),m=function(){return{fisheye:function(){var o=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{r:2.5},r=arguments.length>1?arguments[1]:void 0;typeof n=="function"&&(r=n,n={r:2.5});var t=this.cloneQuiet(),e=t.bitmap,s=e.width,l=e.height;return t.scanQuiet(0,0,s,l,function(a,f){var i=a/s,h=f/l,d=Math.sqrt(Math.pow(i-.5,2)+Math.pow(h-.5,2)),p=2*Math.pow(d,n.r),_=(i-.5)/d,g=(h-.5)/d,b=Math.round((p*_+.5)*s),w=Math.round((p*g+.5)*l),A=t.getPixelColor(b,w);o.setPixelColor(A,a,f)}),this.setPixelColor(t.getPixelColor(s/2,l/2),s/2,l/2),(0,E.isNodePattern)(r)&&r.call(this,null,this),this}}};y.default=m,H.exports=y.default},{"@jimp/utils":235}],212:[function(M,H,y){(function(E){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var m=M("@jimp/utils");function u(o,n,r){if(typeof o!="boolean"||typeof n!="boolean")return m.throwError.call(this,"horizontal and vertical must be Booleans",r);var t=E.alloc(this.bitmap.data.length);return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(e,s,l){var a=o?this.bitmap.width-1-e:e,f=n?this.bitmap.height-1-s:s,i=this.bitmap.width*f+a<<2,h=this.bitmap.data.readUInt32BE(l);t.writeUInt32BE(h,i)}),this.bitmap.data=E.from(t),(0,m.isNodePattern)(r)&&r.call(this,null,this),this}var c=function(){return{flip:u,mirror:u}};y.default=c,H.exports=y.default}).call(this,M("buffer").Buffer)},{"@jimp/utils":235,buffer:48}],213:[function(M,H,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var E=M("@jimp/utils"),m=function(){return{gaussian:function(o,n){if(typeof o!="number")return E.throwError.call(this,"r must be a number",n);if(o<1)return E.throwError.call(this,"r must be greater than 0",n);for(var r=Math.ceil(o*2.57),t=r*2+1,e=o*o*2,s=e*Math.PI,l=[],a=0;a<t;a++){l[a]=[];for(var f=0;f<t;f++){var i=Math.pow(f-r,2)+Math.pow(a-r,2);l[a][f]=Math.exp(-i/e)/s}}for(var h=0;h<this.bitmap.height;h++)for(var d=0;d<this.bitmap.width;d++)for(var p=0,_=0,g=0,b=0,w=0,A=0;A<t;A++){for(var R=0;R<t;R++){var B=Math.min(this.bitmap.width-1,Math.max(0,R+d-r)),T=Math.min(this.bitmap.height-1,Math.max(0,A+h-r)),z=l[A][R],F=T*this.bitmap.width+B<<2;p+=this.bitmap.data[F]*z,_+=this.bitmap.data[F+1]*z,g+=this.bitmap.data[F+2]*z,b+=this.bitmap.data[F+3]*z,w+=z}var D=h*this.bitmap.width+d<<2;this.bitmap.data[D]=Math.round(p/w),this.bitmap.data[D+1]=Math.round(_/w),this.bitmap.data[D+2]=Math.round(g/w),this.bitmap.data[D+3]=Math.round(b/w)}return(0,E.isNodePattern)(n)&&n.call(this,null,this),this}}};y.default=m,H.exports=y.default},{"@jimp/utils":235}],214:[function(M,H,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var E=M("@jimp/utils"),m=function(){return{invert:function(o){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(n,r,t){this.bitmap.data[t]=255-this.bitmap.data[t],this.bitmap.data[t+1]=255-this.bitmap.data[t+1],this.bitmap.data[t+2]=255-this.bitmap.data[t+2]}),(0,E.isNodePattern)(o)&&o.call(this,null,this),this}}};y.default=m,H.exports=y.default},{"@jimp/utils":235}],215:[function(M,H,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var E=M("@jimp/utils"),m=function(){return{mask:function(o){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,t=arguments.length>3?arguments[3]:void 0;if(!(o instanceof this.constructor))return E.throwError.call(this,"The source must be a Jimp image",t);if(typeof n!="number"||typeof r!="number")return E.throwError.call(this,"x and y must be numbers",t);n=Math.round(n),r=Math.round(r);var e=this.bitmap.width,s=this.bitmap.height,l=this;return o.scanQuiet(0,0,o.bitmap.width,o.bitmap.height,function(a,f,i){var h=n+a,d=r+f;if(h>=0&&d>=0&&h<e&&d<s){var p=l.getPixelIndex(h,d),_=this.bitmap.data,g=(_[i+0]+_[i+1]+_[i+2])/3;l.bitmap.data[p+3]*=g/255}}),(0,E.isNodePattern)(t)&&t.call(this,null,this),this}}};y.default=m,H.exports=y.default},{"@jimp/utils":235}],216:[function(M,H,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var E=M("@jimp/utils");function m(){var n={r:new Array(256).fill(0),g:new Array(256).fill(0),b:new Array(256).fill(0)};return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(r,t,e){n.r[this.bitmap.data[e+0]]++,n.g[this.bitmap.data[e+1]]++,n.b[this.bitmap.data[e+2]]++}),n}var u=function(r,t,e){return(r-t)*255/(e-t)},c=function(r){return[r.findIndex(function(t){return t>0}),255-r.slice().reverse().findIndex(function(t){return t>0})]},o=function(){return{normalize:function(t){var e=m.call(this),s={r:c(e.r),g:c(e.g),b:c(e.b)};return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(l,a,f){var i=this.bitmap.data[f+0],h=this.bitmap.data[f+1],d=this.bitmap.data[f+2];this.bitmap.data[f+0]=u(i,s.r[0],s.r[1]),this.bitmap.data[f+1]=u(h,s.g[0],s.g[1]),this.bitmap.data[f+2]=u(d,s.b[0],s.b[1])}),(0,E.isNodePattern)(t)&&t.call(this,null,this),this}}};y.default=o,H.exports=y.default},{"@jimp/utils":235}],217:[function(M,H,y){(function(E){var m=M("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var u=m(M("@babel/runtime/helpers/typeof")),c=m(M("@babel/runtime/helpers/toConsumableArray")),o=m(M("path")),n=m(M("load-bmfont")),r=M("@jimp/utils"),t=M("./measure-text");function e(d,p,_,g,b){return b===d.HORIZONTAL_ALIGN_LEFT?0:b===d.HORIZONTAL_ALIGN_CENTER?(g-(0,t.measureText)(p,_))/2:g-(0,t.measureText)(p,_)}function s(d,p,_,g,b){if(b.width>0&&b.height>0){var w=p.pages[b.page];d.blit(w,_+b.xoffset,g+b.yoffset,b.x,b.y,b.width,b.height)}return d}function l(d,p,_,g,b){for(var w=0;w<g.length;w++){var A=void 0;d.chars[g[w]]?A=g[w]:/\s/.test(g[w])?A="":A="?";var R=d.chars[A]||{},B=d.kernings[A];s(this,d,p,_,R||{});var T=B&&B[g[w+1]]?B[g[w+1]]:0;p+=T+(R.xadvance||b)}}function a(d,p,_){var g=p.split(" "),b=[],w=[],A=0;return g.forEach(function(R){var B=[].concat((0,c.default)(w),[R]).join(" "),T=(0,t.measureText)(d,B);T<=_?(T>A&&(A=T),w.push(R)):(b.push(w),w=[R])}),b.push(w),{lines:b,longestLine:A}}function f(d,p,_){var g=_.map(function(b){return d.read(p+"/"+b)});return Promise.all(g)}var i="browser/lib/",h=function(){return{constants:{measureText:t.measureText,measureTextHeight:t.measureTextHeight,FONT_SANS_8_BLACK:o.default.join(i,"fonts/open-sans/open-sans-8-black/open-sans-8-black.fnt"),FONT_SANS_10_BLACK:o.default.join(i,"fonts/open-sans/open-sans-10-black/open-sans-10-black.fnt"),FONT_SANS_12_BLACK:o.default.join(i,"fonts/open-sans/open-sans-12-black/open-sans-12-black.fnt"),FONT_SANS_14_BLACK:o.default.join(i,"fonts/open-sans/open-sans-14-black/open-sans-14-black.fnt"),FONT_SANS_16_BLACK:o.default.join(i,"fonts/open-sans/open-sans-16-black/open-sans-16-black.fnt"),FONT_SANS_32_BLACK:o.default.join(i,"fonts/open-sans/open-sans-32-black/open-sans-32-black.fnt"),FONT_SANS_64_BLACK:o.default.join(i,"fonts/open-sans/open-sans-64-black/open-sans-64-black.fnt"),FONT_SANS_128_BLACK:o.default.join(i,"fonts/open-sans/open-sans-128-black/open-sans-128-black.fnt"),FONT_SANS_8_WHITE:o.default.join(i,"fonts/open-sans/open-sans-8-white/open-sans-8-white.fnt"),FONT_SANS_16_WHITE:o.default.join(i,"fonts/open-sans/open-sans-16-white/open-sans-16-white.fnt"),FONT_SANS_32_WHITE:o.default.join(i,"fonts/open-sans/open-sans-32-white/open-sans-32-white.fnt"),FONT_SANS_64_WHITE:o.default.join(i,"fonts/open-sans/open-sans-64-white/open-sans-64-white.fnt"),FONT_SANS_128_WHITE:o.default.join(i,"fonts/open-sans/open-sans-128-white/open-sans-128-white.fnt"),loadFont:function(_,g){var b=this;return typeof _!="string"?r.throwError.call(this,"file must be a string",g):new Promise(function(w,A){g=g||function(R,B){R?A(R):w(B)},(0,n.default)(_,function(R,B){var T={},z={};if(R)return r.throwError.call(b,R,g);for(var F=0;F<B.chars.length;F++)T[String.fromCharCode(B.chars[F].id)]=B.chars[F];for(var D=0;D<B.kernings.length;D++){var O=String.fromCharCode(B.kernings[D].first);z[O]=z[O]||{},z[O][String.fromCharCode(B.kernings[D].second)]=B.kernings[D].amount}f(b,o.default.dirname(_),B.pages).then(function(k){g(null,{chars:T,kernings:z,pages:k,common:B.common,info:B.info})})})})}},class:{print:function(_,g,b,w,A,R,B){var T=this;if(typeof A=="function"&&typeof B>"u"&&(B=A,A=1/0),typeof A>"u"&&(A=1/0),typeof R=="function"&&typeof B>"u"&&(B=R,R=1/0),typeof R>"u"&&(R=1/0),(0,u.default)(_)!=="object")return r.throwError.call(this,"font must be a Jimp loadFont",B);if(typeof g!="number"||typeof b!="number"||typeof A!="number")return r.throwError.call(this,"x, y and maxWidth must be numbers",B);if(typeof A!="number")return r.throwError.call(this,"maxWidth must be a number",B);if(typeof R!="number")return r.throwError.call(this,"maxHeight must be a number",B);var z,F;if((0,u.default)(w)==="object"&&w.text!==null&&w.text!==void 0){z=w.alignmentX||this.constructor.HORIZONTAL_ALIGN_LEFT,F=w.alignmentY||this.constructor.VERTICAL_ALIGN_TOP;var D=w;w=D.text}else z=this.constructor.HORIZONTAL_ALIGN_LEFT,F=this.constructor.VERTICAL_ALIGN_TOP,w=w.toString();R!==1/0&&F===this.constructor.VERTICAL_ALIGN_BOTTOM?b+=R-(0,t.measureTextHeight)(_,w,A):R!==1/0&&F===this.constructor.VERTICAL_ALIGN_MIDDLE&&(b+=R/2-(0,t.measureTextHeight)(_,w,A)/2);var O=Object.entries(_.chars)[0][1].xadvance,k=a(_,w,A),G=k.lines,J=k.longestLine;return G.forEach(function($){var ee=$.join(" "),j=e(T.constructor,_,ee,A,z);l.call(T,_,g+j,b,ee,O),b+=_.common.lineHeight}),(0,r.isNodePattern)(B)&&B.call(this,null,this,{x:g+J,y:b}),this}}}};y.default=h,H.exports=y.default}).call(this,"/../../node_modules/@jimp/plugin-print/dist")},{"./measure-text":218,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/toConsumableArray":20,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235,"load-bmfont":219,path:107}],218:[function(M,H,y){Object.defineProperty(y,"__esModule",{value:!0}),y.measureText=E,y.measureTextHeight=m;function E(u,c){for(var o=0,n=0;n<c.length;n++)if(u.chars[c[n]]){var r=u.kernings[c[n]]&&u.kernings[c[n]][c[n+1]]?u.kernings[c[n]][c[n+1]]:0;o+=(u.chars[c[n]].xadvance||0)+r}return o}function m(u,c,o){for(var n=c.split(" "),r="",t=u.common.lineHeight,e=0;e<n.length;e++){var s=r+n[e]+" ",l=E(u,s);l>o&&e>0?(t+=u.common.lineHeight,r=n[e]+" "):r=s}return t}},{}],219:[function(M,H,y){(function(E){var m=M("xhr"),u=function(){},c=M("parse-bmfont-ascii"),o=M("parse-bmfont-xml"),n=M("parse-bmfont-binary"),r=M("./lib/is-binary"),t=M("xtend"),e=function(){return self.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}();H.exports=function(a,f){f=typeof f=="function"?f:u,typeof a=="string"?a={uri:a}:a||(a={});var i=a.binary;i&&(a=l(a)),m(a,function(h,d,p){if(h)return f(h);if(!/^2/.test(d.statusCode))return f(new Error("http status code: "+d.statusCode));if(!p)return f(new Error("no body result"));var _=!1;if(s(p)){var g=new Uint8Array(p);p=new E(g,"binary")}r(p)&&(_=!0,typeof p=="string"&&(p=new E(p,"binary"))),_||(E.isBuffer(p)&&(p=p.toString(a.encoding)),p=p.trim());var b;try{var w=d.headers["content-type"];_?b=n(p):/json/.test(w)||p.charAt(0)==="{"?b=JSON.parse(p):/xml/.test(w)||p.charAt(0)==="<"?b=o(p):b=c(p)}catch(A){f(new Error("error parsing font "+A.message)),f=u}f(null,b)})};function s(a){var f=Object.prototype.toString;return f.call(a)==="[object ArrayBuffer]"}function l(a){if(e)return t(a,{responseType:"arraybuffer"});if(typeof self.XMLHttpRequest>"u")throw new Error("your browser does not support XHR loading");var f=new self.XMLHttpRequest;return f.overrideMimeType("text/plain; charset=x-user-defined"),t({xhr:f},a)}}).call(this,M("buffer").Buffer)},{"./lib/is-binary":220,buffer:48,"parse-bmfont-ascii":102,"parse-bmfont-binary":103,"parse-bmfont-xml":104,xhr:187,xtend:189}],220:[function(M,H,y){(function(E){var m=M("buffer-equal"),u=new E([66,77,70,3]);H.exports=function(c){return typeof c=="string"?c.substring(0,3)==="BMF":c.length>4&&m(c.slice(0,4),u)}}).call(this,M("buffer").Buffer)},{buffer:48,"buffer-equal":49}],221:[function(M,H,y){(function(E){var m=M("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var u=M("@jimp/utils"),c=m(M("./modules/resize")),o=m(M("./modules/resize2")),n=function(){return{constants:{RESIZE_NEAREST_NEIGHBOR:"nearestNeighbor",RESIZE_BILINEAR:"bilinearInterpolation",RESIZE_BICUBIC:"bicubicInterpolation",RESIZE_HERMITE:"hermiteInterpolation",RESIZE_BEZIER:"bezierInterpolation"},class:{resize:function(e,s,l,a){if(typeof e!="number"||typeof s!="number")return u.throwError.call(this,"w and h must be numbers",a);if(typeof l=="function"&&typeof a>"u"&&(a=l,l=null),e===this.constructor.AUTO&&s===this.constructor.AUTO)return u.throwError.call(this,"w and h cannot both be set to auto",a);if(e===this.constructor.AUTO&&(e=this.bitmap.width*(s/this.bitmap.height)),s===this.constructor.AUTO&&(s=this.bitmap.height*(e/this.bitmap.width)),e<0||s<0)return u.throwError.call(this,"w and h must be positive numbers",a);if(e=Math.round(e),s=Math.round(s),typeof o.default[l]=="function"){var f={data:E.alloc(e*s*4),width:e,height:s};o.default[l](this.bitmap,f),this.bitmap=f}else{var i=this,h=new c.default(this.bitmap.width,this.bitmap.height,e,s,!0,!0,function(d){i.bitmap.data=E.from(d),i.bitmap.width=e,i.bitmap.height=s});h.resize(this.bitmap.data)}return(0,u.isNodePattern)(a)&&a.call(this,null,this),this}}}};y.default=n,H.exports=y.default}).call(this,M("buffer").Buffer)},{"./modules/resize":222,"./modules/resize2":223,"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/utils":235,buffer:48}],222:[function(M,H,y){function E(m,u,c,o,n,r,t){this.widthOriginal=Math.abs(Math.floor(m)||0),this.heightOriginal=Math.abs(Math.floor(u)||0),this.targetWidth=Math.abs(Math.floor(c)||0),this.targetHeight=Math.abs(Math.floor(o)||0),this.colorChannels=n?4:3,this.interpolationPass=!!r,this.resizeCallback=typeof t=="function"?t:function(){},this.targetWidthMultipliedByChannels=this.targetWidth*this.colorChannels,this.originalWidthMultipliedByChannels=this.widthOriginal*this.colorChannels,this.originalHeightMultipliedByChannels=this.heightOriginal*this.colorChannels,this.widthPassResultSize=this.targetWidthMultipliedByChannels*this.heightOriginal,this.finalResultSize=this.targetWidthMultipliedByChannels*this.targetHeight,this.initialize()}E.prototype.initialize=function(){if(this.widthOriginal>0&&this.heightOriginal>0&&this.targetWidth>0&&this.targetHeight>0)this.configurePasses();else throw new Error("Invalid settings specified for the resizer.")},E.prototype.configurePasses=function(){this.widthOriginal===this.targetWidth?this.resizeWidth=this.bypassResizer:(this.ratioWeightWidthPass=this.widthOriginal/this.targetWidth,this.ratioWeightWidthPass<1&&this.interpolationPass?(this.initializeFirstPassBuffers(!0),this.resizeWidth=this.colorChannels===4?this.resizeWidthInterpolatedRGBA:this.resizeWidthInterpolatedRGB):(this.initializeFirstPassBuffers(!1),this.resizeWidth=this.colorChannels===4?this.resizeWidthRGBA:this.resizeWidthRGB)),this.heightOriginal===this.targetHeight?this.resizeHeight=this.bypassResizer:(this.ratioWeightHeightPass=this.heightOriginal/this.targetHeight,this.ratioWeightHeightPass<1&&this.interpolationPass?(this.initializeSecondPassBuffers(!0),this.resizeHeight=this.resizeHeightInterpolated):(this.initializeSecondPassBuffers(!1),this.resizeHeight=this.colorChannels===4?this.resizeHeightRGBA:this.resizeHeightRGB))},E.prototype._resizeWidthInterpolatedRGBChannels=function(m,u){var c=u?4:3,o=this.ratioWeightWidthPass,n=this.widthBuffer,r=0,t=0,e=0,s=0,l=0,a;for(a=0;r<1/3;a+=c,r+=o)for(t=a,e=0;t<this.widthPassResultSize;e+=this.originalWidthMultipliedByChannels,t+=this.targetWidthMultipliedByChannels)n[t]=m[e],n[t+1]=m[e+1],n[t+2]=m[e+2],u&&(n[t+3]=m[e+3]);r-=1/3;var f;for(f=this.widthOriginal-1;r<f;a+=c,r+=o)for(l=r%1,s=1-l,t=a,e=Math.floor(r)*c;t<this.widthPassResultSize;e+=this.originalWidthMultipliedByChannels,t+=this.targetWidthMultipliedByChannels)n[t+0]=m[e+0]*s+m[e+c+0]*l,n[t+1]=m[e+1]*s+m[e+c+1]*l,n[t+2]=m[e+2]*s+m[e+c+2]*l,u&&(n[t+3]=m[e+3]*s+m[e+c+3]*l);for(f=this.originalWidthMultipliedByChannels-c;a<this.targetWidthMultipliedByChannels;a+=c)for(t=a,e=f;t<this.widthPassResultSize;e+=this.originalWidthMultipliedByChannels,t+=this.targetWidthMultipliedByChannels)n[t]=m[e],n[t+1]=m[e+1],n[t+2]=m[e+2],u&&(n[t+3]=m[e+3]);return n},E.prototype._resizeWidthRGBChannels=function(m,u){var c=u?4:3,o=this.ratioWeightWidthPass,n=1/o,r=this.originalWidthMultipliedByChannels-c+1,t=this.targetWidthMultipliedByChannels-c+1,e=this.outputWidthWorkBench,s=this.widthBuffer,l=this.outputWidthWorkBenchOpaquePixelsCount,a=0,f=0,i=0,h=0,d=0,p=0,_=0,g=1,b=0,w=0,A=0,R=0;do{for(d=0;d<this.originalHeightMultipliedByChannels;)e[d++]=0,e[d++]=0,e[d++]=0,u&&(e[d++]=0,l[d/c-1]=0);a=o;do{for(f=1+i-h,g=Math.min(a,f),d=0,p=i;d<this.originalHeightMultipliedByChannels;p+=r)b=m[p],w=m[++p],A=m[++p],R=u?m[++p]:255,e[d++]+=(R?b:0)*g,e[d++]+=(R?w:0)*g,e[d++]+=(R?A:0)*g,u&&(e[d++]+=R*g,l[d/c-1]+=R?g:0);if(a>=f)i+=c,h=i,a-=f;else{h+=a;break}}while(a>0&&i<this.originalWidthMultipliedByChannels);for(d=0,p=_;d<this.originalHeightMultipliedByChannels;p+=t)a=u?l[d/c]:1,g=u?a?1/a:0:n,s[p]=e[d++]*g,s[++p]=e[d++]*g,s[++p]=e[d++]*g,u&&(s[++p]=e[d++]*n);_+=c}while(_<this.targetWidthMultipliedByChannels);return s},E.prototype._resizeHeightRGBChannels=function(m,u){var c=this.ratioWeightHeightPass,o=1/c,n=this.outputHeightWorkBench,r=this.heightBuffer,t=this.outputHeightWorkBenchOpaquePixelsCount,e=0,s=0,l=0,a=0,f=0,i=0,h=0,d=1,p=0,_=0,g=0,b=0;do{for(f=0;f<this.targetWidthMultipliedByChannels;)n[f++]=0,n[f++]=0,n[f++]=0,u&&(n[f++]=0,t[f/4-1]=0);e=c;do{for(s=1+l-a,d=Math.min(e,s),h=l,f=0;f<this.targetWidthMultipliedByChannels;)p=m[h++],_=m[h++],g=m[h++],b=u?m[h++]:255,n[f++]+=(b?p:0)*d,n[f++]+=(b?_:0)*d,n[f++]+=(b?g:0)*d,u&&(n[f++]+=b*d,t[f/4-1]+=b?d:0);if(e>=s)l=h,a=l,e-=s;else{a+=e;break}}while(e>0&&l<this.widthPassResultSize);for(f=0;f<this.targetWidthMultipliedByChannels;)e=u?t[f/4]:1,d=u?e?1/e:0:o,r[i++]=Math.round(n[f++]*d),r[i++]=Math.round(n[f++]*d),r[i++]=Math.round(n[f++]*d),u&&(r[i++]=Math.round(n[f++]*o))}while(i<this.finalResultSize);return r},E.prototype.resizeWidthInterpolatedRGB=function(m){return this._resizeWidthInterpolatedRGBChannels(m,!1)},E.prototype.resizeWidthInterpolatedRGBA=function(m){return this._resizeWidthInterpolatedRGBChannels(m,!0)},E.prototype.resizeWidthRGB=function(m){return this._resizeWidthRGBChannels(m,!1)},E.prototype.resizeWidthRGBA=function(m){return this._resizeWidthRGBChannels(m,!0)},E.prototype.resizeHeightInterpolated=function(m){for(var u=this.ratioWeightHeightPass,c=this.heightBuffer,o=0,n=0,r=0,t=0,e=0,s=0,l=0,a;o<1/3;o+=u)for(r=0;r<this.targetWidthMultipliedByChannels;)c[n++]=Math.round(m[r++]);for(o-=1/3,a=this.heightOriginal-1;o<a;o+=u)for(l=o%1,s=1-l,t=Math.floor(o)*this.targetWidthMultipliedByChannels,e=t+this.targetWidthMultipliedByChannels,r=0;r<this.targetWidthMultipliedByChannels;++r)c[n++]=Math.round(m[t++]*s+m[e++]*l);for(;n<this.finalResultSize;)for(r=0,t=a*this.targetWidthMultipliedByChannels;r<this.targetWidthMultipliedByChannels;++r)c[n++]=Math.round(m[t++]);return c},E.prototype.resizeHeightRGB=function(m){return this._resizeHeightRGBChannels(m,!1)},E.prototype.resizeHeightRGBA=function(m){return this._resizeHeightRGBChannels(m,!0)},E.prototype.resize=function(m){this.resizeCallback(this.resizeHeight(this.resizeWidth(m)))},E.prototype.bypassResizer=function(m){return m},E.prototype.initializeFirstPassBuffers=function(m){this.widthBuffer=this.generateFloatBuffer(this.widthPassResultSize),m||(this.outputWidthWorkBench=this.generateFloatBuffer(this.originalHeightMultipliedByChannels),this.colorChannels>3&&(this.outputWidthWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.heightOriginal)))},E.prototype.initializeSecondPassBuffers=function(m){this.heightBuffer=this.generateUint8Buffer(this.finalResultSize),m||(this.outputHeightWorkBench=this.generateFloatBuffer(this.targetWidthMultipliedByChannels),this.colorChannels>3&&(this.outputHeightWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.targetWidth)))},E.prototype.generateFloatBuffer=function(m){try{return new Float32Array(m)}catch{return[]}},E.prototype.generateFloat64Buffer=function(m){try{return new Float64Array(m)}catch{return[]}},E.prototype.generateUint8Buffer=function(m){try{return new Uint8Array(m)}catch{return[]}},H.exports=E},{}],223:[function(M,H,y){(function(E){H.exports={nearestNeighbor:function(u,c){for(var o=u.width,n=u.height,r=c.width,t=c.height,e=u.data,s=c.data,l=0;l<t;l++)for(var a=0;a<r;a++){var f=(l*r+a)*4,i=Math.floor(l*n/t),h=Math.floor(a*o/r),d=(i*o+h)*4;s[f++]=e[d++],s[f++]=e[d++],s[f++]=e[d++],s[f++]=e[d++]}},bilinearInterpolation:function(u,c){for(var o=u.width,n=u.height,r=c.width,t=c.height,e=u.data,s=c.data,l=function(R,B,T,z,F){return B===z?T:Math.round((R-B)*F+(z-R)*T)},a=function(R,B,T,z,F,D,O,k){var G=(O*o+z)*4+B,J=(O*o+F)*4+B,$=l(T,z,e[G],F,e[J]);if(k===O)s[R+B]=$;else{G=(k*o+z)*4+B,J=(k*o+F)*4+B;var ee=l(T,z,e[G],F,e[J]);s[R+B]=l(D,O,$,k,ee)}},f=0;f<t;f++)for(var i=0;i<r;i++){var h=(f*r+i)*4,d=i*o/r,p=Math.floor(d),_=Math.min(Math.ceil(d),o-1),g=f*n/t,b=Math.floor(g),w=Math.min(Math.ceil(g),n-1);a(h,0,d,p,_,g,b,w),a(h,1,d,p,_,g,b,w),a(h,2,d,p,_,g,b,w),a(h,3,d,p,_,g,b,w)}},_interpolate2D:function(u,c,o,n){for(var r=u.data,t=c.data,e=u.width,s=u.height,l=c.width,a=c.height,f=Math.max(1,Math.floor(e/l)),i=l*f,h=Math.max(1,Math.floor(s/a)),d=a*h,p=E.alloc(i*s*4),_=0;_<s;_++)for(var g=0;g<i;g++)for(var b=g*(e-1)/i,w=Math.floor(b),A=b-w,R=(_*e+w)*4,B=(_*i+g)*4,T=0;T<4;T++){var z=R+T,F=w>0?r[z-4]:2*r[z]-r[z+4],D=r[z],O=r[z+4],k=w<e-2?r[z+8]:2*r[z+4]-r[z];p[B+T]=n(F,D,O,k,A)}for(var G=E.alloc(i*d*4),J=0;J<d;J++)for(var $=0;$<i;$++)for(var ee=J*(s-1)/d,j=Math.floor(ee),Y=ee-j,W=(j*i+$)*4,Q=(J*i+$)*4,re=0;re<4;re++){var ue=W+re,le=j>0?p[ue-i*4]:2*p[ue]-p[ue+i*4],he=p[ue],ge=p[ue+i*4],ie=j<s-2?p[ue+i*8]:2*p[ue+i*4]-p[ue];G[Q+re]=n(le,he,ge,ie,Y)}var ae=f*h;if(ae>1)for(var V=0;V<a;V++)for(var q=0;q<l;q++){for(var te=0,U=0,L=0,P=0,Z=0,x=0;x<h;x++)for(var C=V*h+x,S=0;S<f;S++){var X=q*f+S,oe=(C*i+X)*4,_e=G[oe+3];_e&&(te+=G[oe],U+=G[oe+1],L+=G[oe+2],Z++),P+=_e}var ye=(V*l+q)*4;t[ye]=Z?Math.round(te/Z):0,t[ye+1]=Z?Math.round(U/Z):0,t[ye+2]=Z?Math.round(L/Z):0,t[ye+3]=Math.round(P/ae)}else c.data=G},bicubicInterpolation:function(u,c,o){var n=function(t,e,s,l,a){var f=l-s-t+e,i=t-e-f,h=s-t,d=e;return Math.max(0,Math.min(255,f*(a*a*a)+i*(a*a)+h*a+d))};return this._interpolate2D(u,c,o,n)},hermiteInterpolation:function(u,c,o){var n=function(t,e,s,l,a){var f=e,i=.5*(s-t),h=t-2.5*e+2*s-.5*l,d=.5*(l-t)+1.5*(e-s);return Math.max(0,Math.min(255,Math.round(((d*a+h)*a+i)*a+f)))};return this._interpolate2D(u,c,o,n)},bezierInterpolation:function(u,c,o){var n=function(t,e,s,l,a){var f=e+(s-t)/4,i=s-(l-e)/4,h=1-a,d=e*h*h*h,p=3*f*h*h*a,_=3*i*h*a*a,g=s*a*a*a;return Math.max(0,Math.min(255,Math.round(d+p+_+g)))};return this._interpolate2D(u,c,o,n)}}}).call(this,M("buffer").Buffer)},{buffer:48}],224:[function(M,H,y){(function(E){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var m=M("@jimp/utils");function u(o,n){o%=360;var r=o*Math.PI/180,t=Math.cos(r),e=Math.sin(r),s=this.bitmap.width,l=this.bitmap.height;if(n===!0||typeof n=="string"){s=Math.ceil(Math.abs(this.bitmap.width*t)+Math.abs(this.bitmap.height*e))+1,l=Math.ceil(Math.abs(this.bitmap.width*e)+Math.abs(this.bitmap.height*t))+1,s%2!==0&&s++,l%2!==0&&l++;var a=this.cloneQuiet();this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(O,k,G){this.bitmap.data.writeUInt32BE(this._background,G)});var f=Math.max(s,l,this.bitmap.width,this.bitmap.height);this.resize(f,f,n),this.blit(a,this.bitmap.width/2-a.bitmap.width/2,this.bitmap.height/2-a.bitmap.height/2)}var i=this.bitmap.width,h=this.bitmap.height,d=E.alloc(this.bitmap.data.length);function p(O,k){return function(G,J){return{x:G+O,y:J+k}}}for(var _=p(-(i/2),-(h/2)),g=p(i/2+.5,h/2+.5),b=1;b<=h;b++)for(var w=1;w<=i;w++){var A=_(w,b),R=g(t*A.x-e*A.y,t*A.y+e*A.x),B=i*(b-1)+w-1<<2;if(R.x>=0&&R.x<i&&R.y>=0&&R.y<h){var T=(i*(R.y|0)+R.x|0)<<2,z=this.bitmap.data.readUInt32BE(T);d.writeUInt32BE(z,B)}else d.writeUInt32BE(this._background,B)}if(this.bitmap.data=d,n===!0||typeof n=="string"){var F=i/2-s/2,D=h/2-l/2;this.crop(F,D,s,l)}}var c=function(){return{rotate:function(r,t,e){return(typeof t>"u"||t===null)&&(t=!0),typeof t=="function"&&typeof e>"u"&&(e=t,t=!0),typeof r!="number"?m.throwError.call(this,"deg must be a number",e):typeof t!="boolean"&&typeof t!="string"?m.throwError.call(this,"mode must be a boolean or a string",e):(u.call(this,r,t,e),(0,m.isNodePattern)(e)&&e.call(this,null,this),this)}}};y.default=c,H.exports=y.default}).call(this,M("buffer").Buffer)},{"@jimp/utils":235,buffer:48}],225:[function(M,H,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var E=M("@jimp/utils"),m=function(){return{scale:function(o,n,r){if(typeof o!="number")return E.throwError.call(this,"f must be a number",r);if(o<0)return E.throwError.call(this,"f must be a positive number",r);typeof n=="function"&&typeof r>"u"&&(r=n,n=null);var t=this.bitmap.width*o,e=this.bitmap.height*o;return this.resize(t,e,n),(0,E.isNodePattern)(r)&&r.call(this,null,this),this},scaleToFit:function(o,n,r,t){if(typeof o!="number"||typeof n!="number")return E.throwError.call(this,"w and h must be numbers",t);typeof r=="function"&&typeof t>"u"&&(t=r,r=null);var e=o/n>this.bitmap.width/this.bitmap.height?n/this.bitmap.height:o/this.bitmap.width;return this.scale(e,r),(0,E.isNodePattern)(t)&&t.call(this,null,this),this}}};y.default=m,H.exports=y.default},{"@jimp/utils":235}],226:[function(M,H,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var E=M("@jimp/utils"),m=function(){return{shadow:function(){var o=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;typeof n=="function"&&(r=n,n={});var t=n,e=t.opacity,s=e===void 0?.7:e,l=t.size,a=l===void 0?1.1:l,f=t.x,i=f===void 0?-25:f,h=t.y,d=h===void 0?25:h,p=t.blur,_=p===void 0?5:p,g=this.clone(),b=this.clone();return b.scan(0,0,b.bitmap.width,b.bitmap.height,function(w,A,R){b.bitmap.data[R]=0,b.bitmap.data[R+1]=0,b.bitmap.data[R+2]=0,b.bitmap.data[R+3]=b.constructor.limit255(b.bitmap.data[R+3]*s),o.bitmap.data[R]=0,o.bitmap.data[R+1]=0,o.bitmap.data[R+2]=0,o.bitmap.data[R+3]=0}),b.resize(b.bitmap.width*a,b.bitmap.height*a).blur(_),this.composite(b,i,d),this.composite(g,0,0),(0,E.isNodePattern)(r)&&r.call(this,null,this),this}}};y.default=m,H.exports=y.default},{"@jimp/utils":235}],227:[function(M,H,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var E=M("@jimp/utils"),m=function(){return{threshold:function(o,n){var r=this,t=o.max,e=o.replace,s=e===void 0?255:e,l=o.autoGreyscale,a=l===void 0?!0:l;return typeof t!="number"?E.throwError.call(this,"max must be a number",n):typeof s!="number"?E.throwError.call(this,"replace must be a number",n):typeof a!="boolean"?E.throwError.call(this,"autoGreyscale must be a boolean",n):(t=this.constructor.limit255(t),s=this.constructor.limit255(s),a&&this.greyscale(),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(f,i,h){var d=r.bitmap.data[h]<t?r.bitmap.data[h]:s;r.bitmap.data[h]=d,r.bitmap.data[h+1]=d,r.bitmap.data[h+2]=d}),(0,E.isNodePattern)(n)&&n.call(this,null,this),this)}}};y.default=m,H.exports=y.default},{"@jimp/utils":235}],228:[function(M,H,y){var E=M("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var m=E(M("@babel/runtime/helpers/toConsumableArray")),u=M("timm"),c=E(M("@jimp/plugin-blit")),o=E(M("@jimp/plugin-blur")),n=E(M("@jimp/plugin-circle")),r=E(M("@jimp/plugin-color")),t=E(M("@jimp/plugin-contain")),e=E(M("@jimp/plugin-cover")),s=E(M("@jimp/plugin-crop")),l=E(M("@jimp/plugin-displace")),a=E(M("@jimp/plugin-dither")),f=E(M("@jimp/plugin-fisheye")),i=E(M("@jimp/plugin-flip")),h=E(M("@jimp/plugin-gaussian")),d=E(M("@jimp/plugin-invert")),p=E(M("@jimp/plugin-mask")),_=E(M("@jimp/plugin-normalize")),g=E(M("@jimp/plugin-print")),b=E(M("@jimp/plugin-resize")),w=E(M("@jimp/plugin-rotate")),A=E(M("@jimp/plugin-scale")),R=E(M("@jimp/plugin-shadow")),B=E(M("@jimp/plugin-threshold")),T=[c.default,o.default,n.default,r.default,t.default,e.default,s.default,l.default,a.default,f.default,i.default,h.default,d.default,p.default,_.default,g.default,b.default,w.default,A.default,R.default,B.default],z=function(D){var O=T.map(function(k){var G=k(D)||{};return!G.class&&!G.constants&&(G={class:G}),G});return u.mergeDeep.apply(void 0,(0,m.default)(O))};y.default=z,H.exports=y.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/toConsumableArray":20,"@jimp/plugin-blit":201,"@jimp/plugin-blur":203,"@jimp/plugin-circle":204,"@jimp/plugin-color":205,"@jimp/plugin-contain":206,"@jimp/plugin-cover":207,"@jimp/plugin-crop":208,"@jimp/plugin-displace":209,"@jimp/plugin-dither":210,"@jimp/plugin-fisheye":211,"@jimp/plugin-flip":212,"@jimp/plugin-gaussian":213,"@jimp/plugin-invert":214,"@jimp/plugin-mask":215,"@jimp/plugin-normalize":216,"@jimp/plugin-print":217,"@jimp/plugin-resize":221,"@jimp/plugin-rotate":224,"@jimp/plugin-scale":225,"@jimp/plugin-shadow":226,"@jimp/plugin-threshold":227,timm:177}],229:[function(M,H,y){var E=M("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var m=E(M("@babel/runtime/helpers/defineProperty")),u=E(M("bmp-js")),c=M("@jimp/utils"),o="image/bmp",n="image/x-ms-bmp";function r(a){return(0,c.scan)(a,0,0,a.bitmap.width,a.bitmap.height,function(f,i,h){var d=this.bitmap.data[h+0],p=this.bitmap.data[h+1],_=this.bitmap.data[h+2],g=this.bitmap.data[h+3];this.bitmap.data[h+0]=g,this.bitmap.data[h+1]=_,this.bitmap.data[h+2]=p,this.bitmap.data[h+3]=d}).bitmap}function t(a){return(0,c.scan)({bitmap:a},0,0,a.width,a.height,function(f,i,h){var d=this.bitmap.data[h+0],p=this.bitmap.data[h+1],_=this.bitmap.data[h+2],g=this.bitmap.data[h+3];this.bitmap.data[h+0]=g,this.bitmap.data[h+1]=_,this.bitmap.data[h+2]=p,this.bitmap.data[h+3]=a.is_with_alpha?d:255}).bitmap}var e=function(f){return t(u.default.decode(f))},s=function(f){return u.default.encode(r(f)).data},l=function(){var f,i;return{mime:(0,m.default)({},o,["bmp"]),constants:{MIME_BMP:o,MIME_X_MS_BMP:n},decoders:(f={},(0,m.default)(f,o,e),(0,m.default)(f,n,e),f),encoders:(i={},(0,m.default)(i,o,s),(0,m.default)(i,n,s),i)}};y.default=l,H.exports=y.default},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/utils":235,"bmp-js":30}],230:[function(M,H,y){(function(E){var m=M("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var u=m(M("@babel/runtime/helpers/defineProperty")),c=m(M("omggif")),o=M("gifwrap"),n="image/gif",r=function(){return{mime:(0,u.default)({},n,["gif"]),constants:{MIME_GIF:n},decoders:(0,u.default)({},n,function(e){var s=new c.default.GifReader(e),l=E.alloc(s.width*s.height*4);return s.decodeAndBlitFrameRGBA(0,l),{data:l,width:s.width,height:s.height}}),encoders:(0,u.default)({},n,function(e){var s=new o.BitmapImage(e.bitmap);o.GifUtil.quantizeDekker(s,256);var l=new o.GifFrame(s),a=new o.GifCodec;return a.encodeGif([l],{}).then(function(f){return f.buffer})})}};y.default=r,H.exports=y.default}).call(this,M("buffer").Buffer)},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,buffer:48,gifwrap:70,omggif:85}],231:[function(M,H,y){var E=M("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var m=E(M("@babel/runtime/helpers/defineProperty")),u=E(M("jpeg-js")),c=M("@jimp/utils"),o="image/jpeg",n=function(){return{mime:(0,m.default)({},o,["jpeg","jpg","jpe"]),constants:{MIME_JPEG:o},decoders:(0,m.default)({},o,u.default.decode),encoders:(0,m.default)({},o,function(t){return u.default.encode(t.bitmap,t._quality).data}),class:{_quality:100,quality:function(e,s){return typeof e!="number"?c.throwError.call(this,"n must be a number",s):e<0||e>100?c.throwError.call(this,"n must be a number 0 - 100",s):(this._quality=Math.round(e),(0,c.isNodePattern)(s)&&s.call(this,null,this),this)}}}};y.default=n,H.exports=y.default},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/utils":235,"jpeg-js":80}],232:[function(M,H,y){var E=M("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var m=E(M("@babel/runtime/helpers/defineProperty")),u=M("pngjs"),c=M("@jimp/utils"),o="image/png",n=-1,r=0,t=1,e=2,s=3,l=4,a=function(){return{mime:(0,m.default)({},o,["png"]),constants:{MIME_PNG:o,PNG_FILTER_AUTO:n,PNG_FILTER_NONE:r,PNG_FILTER_SUB:t,PNG_FILTER_UP:e,PNG_FILTER_AVERAGE:s,PNG_FILTER_PATH:l},hasAlpha:(0,m.default)({},o,!0),decoders:(0,m.default)({},o,u.PNG.sync.read),encoders:(0,m.default)({},o,function(i){var h=new u.PNG({width:i.bitmap.width,height:i.bitmap.height});return h.data=i.bitmap.data,u.PNG.sync.write(h,{width:i.bitmap.width,height:i.bitmap.height,deflateLevel:i._deflateLevel,deflateStrategy:i._deflateStrategy,filterType:i._filterType,colorType:typeof i._colorType=="number"?i._colorType:i._rgba?6:2,inputHasAlpha:i._rgba})}),class:{_deflateLevel:9,_deflateStrategy:3,_filterType:n,_colorType:null,deflateLevel:function(h,d){return typeof h!="number"?c.throwError.call(this,"l must be a number",d):h<0||h>9?c.throwError.call(this,"l must be a number 0 - 9",d):(this._deflateLevel=Math.round(h),(0,c.isNodePattern)(d)&&d.call(this,null,this),this)},deflateStrategy:function(h,d){return typeof h!="number"?c.throwError.call(this,"s must be a number",d):h<0||h>3?c.throwError.call(this,"s must be a number 0 - 3",d):(this._deflateStrategy=Math.round(h),(0,c.isNodePattern)(d)&&d.call(this,null,this),this)},filterType:function(h,d){return typeof h!="number"?c.throwError.call(this,"n must be a number",d):h<-1||h>4?c.throwError.call(this,"n must be -1 (auto) or a number 0 - 4",d):(this._filterType=Math.round(h),(0,c.isNodePattern)(d)&&d.call(this,null,this),this)},colorType:function(h,d){return typeof h!="number"?c.throwError.call(this,"s must be a number",d):h!==0&&h!==2&&h!==4&&h!==6?c.throwError.call(this,"s must be a number 0, 2, 4, 6.",d):(this._colorType=Math.round(h),(0,c.isNodePattern)(d)&&d.call(this,null,this),this)}}}};y.default=a,H.exports=y.default},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/utils":235,pngjs:129}],233:[function(M,H,y){(function(E){var m=M("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var u=m(M("@babel/runtime/helpers/defineProperty")),c=m(M("utif")),o="image/tiff",n=function(){return{mime:(0,u.default)({},o,["tiff","tif"]),constants:{MIME_TIFF:o},decoders:(0,u.default)({},o,function(t){var e=c.default.decode(t),s=e[0];c.default.decodeImages(t,e);var l=c.default.toRGBA8(s);return{data:E.from(l),width:s.t256[0],height:s.t257[0]}}),encoders:(0,u.default)({},o,function(t){var e=c.default.encodeImage(t.bitmap.data,t.bitmap.width,t.bitmap.height);return E.from(e)})}};y.default=n,H.exports=y.default}).call(this,M("buffer").Buffer)},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,buffer:48,utif:182}],234:[function(M,H,y){var E=M("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var m=M("timm"),u=E(M("@jimp/jpeg")),c=E(M("@jimp/png")),o=E(M("@jimp/bmp")),n=E(M("@jimp/tiff")),r=E(M("@jimp/gif")),t=function(){return(0,m.mergeDeep)((0,u.default)(),(0,c.default)(),(0,o.default)(),(0,n.default)(),(0,r.default)())};y.default=t,H.exports=y.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/bmp":229,"@jimp/gif":230,"@jimp/jpeg":231,"@jimp/png":232,"@jimp/tiff":233,timm:177}],235:[function(M,H,y){var E=M("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(y,"__esModule",{value:!0}),y.isNodePattern=c,y.throwError=o,y.scan=n,y.scanIterator=r;var m=E(M("@babel/runtime/regenerator")),u=m.default.mark(r);function c(t){if(typeof t>"u")return!1;if(typeof t!="function")throw new TypeError("Callback must be a function");return!0}function o(t,e){if(typeof t=="string"&&(t=new Error(t)),typeof e=="function")return e.call(this,t);throw t}function n(t,e,s,l,a,f){e=Math.round(e),s=Math.round(s),l=Math.round(l),a=Math.round(a);for(var i=s;i<s+a;i++)for(var h=e;h<e+l;h++){var d=t.bitmap.width*i+h<<2;f.call(t,h,i,d)}return t}function r(t,e,s,l,a){var f,i,h;return m.default.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:e=Math.round(e),s=Math.round(s),l=Math.round(l),a=Math.round(a),f=s;case 5:if(!(f<s+a)){p.next=17;break}i=e;case 7:if(!(i<e+l)){p.next=14;break}return h=t.bitmap.width*f+i<<2,p.next=11,{x:i,y:f,idx:h,image:t};case 11:i++,p.next=7;break;case 14:f++,p.next=5;break;case 17:case"end":return p.stop()}},u)}},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/regenerator":22}]},{},[200])(200)})})(jt);var Sr=jt.exports,Gt=Ge,tt=null;try{tt=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function Ge(me,se,Ee){this.low=me|0,this.high=se|0,this.unsigned=!!Ee}Ge.prototype.__isLong__;Object.defineProperty(Ge.prototype,"__isLong__",{value:!0});function et(me){return(me&&me.__isLong__)===!0}Ge.isLong=et;var kt={},Bt={};function ft(me,se){var Ee,M,H;return se?(me>>>=0,(H=0<=me&&me<256)&&(M=Bt[me],M)?M:(Ee=He(me,(me|0)<0?-1:0,!0),H&&(Bt[me]=Ee),Ee)):(me|=0,(H=-128<=me&&me<128)&&(M=kt[me],M)?M:(Ee=He(me,me<0?-1:0,!1),H&&(kt[me]=Ee),Ee))}Ge.fromInt=ft;function rt(me,se){if(isNaN(me))return se?st:it;if(se){if(me<0)return st;if(me>=Ht)return Yt}else{if(me<=-Dt)return $e;if(me+1>=Dt)return Zt}return me<0?rt(-me,se).neg():He(me%ht|0,me/ht|0,se)}Ge.fromNumber=rt;function He(me,se,Ee){return new Ge(me,se,Ee)}Ge.fromBits=He;var vt=Math.pow;function gt(me,se,Ee){if(me.length===0)throw Error("empty string");if(me==="NaN"||me==="Infinity"||me==="+Infinity"||me==="-Infinity")return it;if(typeof se=="number"?(Ee=se,se=!1):se=!!se,Ee=Ee||10,Ee<2||36<Ee)throw RangeError("radix");var M;if((M=me.indexOf("-"))>0)throw Error("interior hyphen");if(M===0)return gt(me.substring(1),se,Ee).neg();for(var H=rt(vt(Ee,8)),y=it,E=0;E<me.length;E+=8){var m=Math.min(8,me.length-E),u=parseInt(me.substring(E,E+m),Ee);if(m<8){var c=rt(vt(Ee,m));y=y.mul(c).add(rt(u))}else y=y.mul(H),y=y.add(rt(u))}return y.unsigned=se,y}Ge.fromString=gt;function nt(me,se){return typeof me=="number"?rt(me,se):typeof me=="string"?gt(me,se):He(me.low,me.high,typeof se=="boolean"?se:me.unsigned)}Ge.fromValue=nt;var Nt=65536,qt=1<<24,ht=Nt*Nt,Ht=ht*ht,Dt=Ht/2,xt=ft(qt),it=ft(0);Ge.ZERO=it;var st=ft(0,!0);Ge.UZERO=st;var ut=ft(1);Ge.ONE=ut;var Wt=ft(1,!0);Ge.UONE=Wt;var _t=ft(-1);Ge.NEG_ONE=_t;var Zt=He(-1,2147483647,!1);Ge.MAX_VALUE=Zt;var Yt=He(-1,-1,!0);Ge.MAX_UNSIGNED_VALUE=Yt;var $e=He(0,-2147483648,!1);Ge.MIN_VALUE=$e;var De=Ge.prototype;De.toInt=function(){return this.unsigned?this.low>>>0:this.low};De.toNumber=function(){return this.unsigned?(this.high>>>0)*ht+(this.low>>>0):this.high*ht+(this.low>>>0)};De.toString=function(se){if(se=se||10,se<2||36<se)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq($e)){var Ee=rt(se),M=this.div(Ee),H=M.mul(Ee).sub(this);return M.toString(se)+H.toInt().toString(se)}else return"-"+this.neg().toString(se);for(var y=rt(vt(se,6),this.unsigned),E=this,m="";;){var u=E.div(y),c=E.sub(u.mul(y)).toInt()>>>0,o=c.toString(se);if(E=u,E.isZero())return o+m;for(;o.length<6;)o="0"+o;m=""+o+m}};De.getHighBits=function(){return this.high};De.getHighBitsUnsigned=function(){return this.high>>>0};De.getLowBits=function(){return this.low};De.getLowBitsUnsigned=function(){return this.low>>>0};De.getNumBitsAbs=function(){if(this.isNegative())return this.eq($e)?64:this.neg().getNumBitsAbs();for(var se=this.high!=0?this.high:this.low,Ee=31;Ee>0&&!(se&1<<Ee);Ee--);return this.high!=0?Ee+33:Ee+1};De.isZero=function(){return this.high===0&&this.low===0};De.eqz=De.isZero;De.isNegative=function(){return!this.unsigned&&this.high<0};De.isPositive=function(){return this.unsigned||this.high>=0};De.isOdd=function(){return(this.low&1)===1};De.isEven=function(){return(this.low&1)===0};De.equals=function(se){return et(se)||(se=nt(se)),this.unsigned!==se.unsigned&&this.high>>>31===1&&se.high>>>31===1?!1:this.high===se.high&&this.low===se.low};De.eq=De.equals;De.notEquals=function(se){return!this.eq(se)};De.neq=De.notEquals;De.ne=De.notEquals;De.lessThan=function(se){return this.comp(se)<0};De.lt=De.lessThan;De.lessThanOrEqual=function(se){return this.comp(se)<=0};De.lte=De.lessThanOrEqual;De.le=De.lessThanOrEqual;De.greaterThan=function(se){return this.comp(se)>0};De.gt=De.greaterThan;De.greaterThanOrEqual=function(se){return this.comp(se)>=0};De.gte=De.greaterThanOrEqual;De.ge=De.greaterThanOrEqual;De.compare=function(se){if(et(se)||(se=nt(se)),this.eq(se))return 0;var Ee=this.isNegative(),M=se.isNegative();return Ee&&!M?-1:!Ee&&M?1:this.unsigned?se.high>>>0>this.high>>>0||se.high===this.high&&se.low>>>0>this.low>>>0?-1:1:this.sub(se).isNegative()?-1:1};De.comp=De.compare;De.negate=function(){return!this.unsigned&&this.eq($e)?$e:this.not().add(ut)};De.neg=De.negate;De.add=function(se){et(se)||(se=nt(se));var Ee=this.high>>>16,M=this.high&65535,H=this.low>>>16,y=this.low&65535,E=se.high>>>16,m=se.high&65535,u=se.low>>>16,c=se.low&65535,o=0,n=0,r=0,t=0;return t+=y+c,r+=t>>>16,t&=65535,r+=H+u,n+=r>>>16,r&=65535,n+=M+m,o+=n>>>16,n&=65535,o+=Ee+E,o&=65535,He(r<<16|t,o<<16|n,this.unsigned)};De.subtract=function(se){return et(se)||(se=nt(se)),this.add(se.neg())};De.sub=De.subtract;De.multiply=function(se){if(this.isZero())return it;if(et(se)||(se=nt(se)),tt){var Ee=tt.mul(this.low,this.high,se.low,se.high);return He(Ee,tt.get_high(),this.unsigned)}if(se.isZero())return it;if(this.eq($e))return se.isOdd()?$e:it;if(se.eq($e))return this.isOdd()?$e:it;if(this.isNegative())return se.isNegative()?this.neg().mul(se.neg()):this.neg().mul(se).neg();if(se.isNegative())return this.mul(se.neg()).neg();if(this.lt(xt)&&se.lt(xt))return rt(this.toNumber()*se.toNumber(),this.unsigned);var M=this.high>>>16,H=this.high&65535,y=this.low>>>16,E=this.low&65535,m=se.high>>>16,u=se.high&65535,c=se.low>>>16,o=se.low&65535,n=0,r=0,t=0,e=0;return e+=E*o,t+=e>>>16,e&=65535,t+=y*o,r+=t>>>16,t&=65535,t+=E*c,r+=t>>>16,t&=65535,r+=H*o,n+=r>>>16,r&=65535,r+=y*c,n+=r>>>16,r&=65535,r+=E*u,n+=r>>>16,r&=65535,n+=M*o+H*c+y*u+E*m,n&=65535,He(t<<16|e,n<<16|r,this.unsigned)};De.mul=De.multiply;De.divide=function(se){if(et(se)||(se=nt(se)),se.isZero())throw Error("division by zero");if(tt){if(!this.unsigned&&this.high===-2147483648&&se.low===-1&&se.high===-1)return this;var Ee=(this.unsigned?tt.div_u:tt.div_s)(this.low,this.high,se.low,se.high);return He(Ee,tt.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?st:it;var M,H,y;if(this.unsigned){if(se.unsigned||(se=se.toUnsigned()),se.gt(this))return st;if(se.gt(this.shru(1)))return Wt;y=st}else{if(this.eq($e)){if(se.eq(ut)||se.eq(_t))return $e;if(se.eq($e))return ut;var E=this.shr(1);return M=E.div(se).shl(1),M.eq(it)?se.isNegative()?ut:_t:(H=this.sub(se.mul(M)),y=M.add(H.div(se)),y)}else if(se.eq($e))return this.unsigned?st:it;if(this.isNegative())return se.isNegative()?this.neg().div(se.neg()):this.neg().div(se).neg();if(se.isNegative())return this.div(se.neg()).neg();y=it}for(H=this;H.gte(se);){M=Math.max(1,Math.floor(H.toNumber()/se.toNumber()));for(var m=Math.ceil(Math.log(M)/Math.LN2),u=m<=48?1:vt(2,m-48),c=rt(M),o=c.mul(se);o.isNegative()||o.gt(H);)M-=u,c=rt(M,this.unsigned),o=c.mul(se);c.isZero()&&(c=ut),y=y.add(c),H=H.sub(o)}return y};De.div=De.divide;De.modulo=function(se){if(et(se)||(se=nt(se)),tt){var Ee=(this.unsigned?tt.rem_u:tt.rem_s)(this.low,this.high,se.low,se.high);return He(Ee,tt.get_high(),this.unsigned)}return this.sub(this.div(se).mul(se))};De.mod=De.modulo;De.rem=De.modulo;De.not=function(){return He(~this.low,~this.high,this.unsigned)};De.and=function(se){return et(se)||(se=nt(se)),He(this.low&se.low,this.high&se.high,this.unsigned)};De.or=function(se){return et(se)||(se=nt(se)),He(this.low|se.low,this.high|se.high,this.unsigned)};De.xor=function(se){return et(se)||(se=nt(se)),He(this.low^se.low,this.high^se.high,this.unsigned)};De.shiftLeft=function(se){return et(se)&&(se=se.toInt()),(se&=63)===0?this:se<32?He(this.low<<se,this.high<<se|this.low>>>32-se,this.unsigned):He(0,this.low<<se-32,this.unsigned)};De.shl=De.shiftLeft;De.shiftRight=function(se){return et(se)&&(se=se.toInt()),(se&=63)===0?this:se<32?He(this.low>>>se|this.high<<32-se,this.high>>se,this.unsigned):He(this.high>>se-32,this.high>=0?0:-1,this.unsigned)};De.shr=De.shiftRight;De.shiftRightUnsigned=function(se){if(et(se)&&(se=se.toInt()),se&=63,se===0)return this;var Ee=this.high;if(se<32){var M=this.low;return He(M>>>se|Ee<<32-se,Ee>>>se,this.unsigned)}else return se===32?He(Ee,0,this.unsigned):He(Ee>>>se-32,0,this.unsigned)};De.shru=De.shiftRightUnsigned;De.shr_u=De.shiftRightUnsigned;De.toSigned=function(){return this.unsigned?He(this.low,this.high,!1):this};De.toUnsigned=function(){return this.unsigned?this:He(this.low,this.high,!0)};De.toBytes=function(se){return se?this.toBytesLE():this.toBytesBE()};De.toBytesLE=function(){var se=this.high,Ee=this.low;return[Ee&255,Ee>>>8&255,Ee>>>16&255,Ee>>>24,se&255,se>>>8&255,se>>>16&255,se>>>24]};De.toBytesBE=function(){var se=this.high,Ee=this.low;return[se>>>24,se>>>16&255,se>>>8&255,se&255,Ee>>>24,Ee>>>16&255,Ee>>>8&255,Ee&255]};Ge.fromBytes=function(se,Ee,M){return M?Ge.fromBytesLE(se,Ee):Ge.fromBytesBE(se,Ee)};Ge.fromBytesLE=function(se,Ee){return new Ge(se[0]|se[1]<<8|se[2]<<16|se[3]<<24,se[4]|se[5]<<8|se[6]<<16|se[7]<<24,Ee)};Ge.fromBytesBE=function(se,Ee){return new Ge(se[4]<<24|se[5]<<16|se[6]<<8|se[7],se[0]<<24|se[1]<<16|se[2]<<8|se[3],Ee)};const $t=Qt(Gt),Mr=Vt({__proto__:null,default:$t},[Gt]);var bt={exports:{}};bt.exports;(function(me){(function(se,Ee,M){function H(u){var c=this,o=m();c.next=function(){var n=2091639*c.s0+c.c*23283064365386963e-26;return c.s0=c.s1,c.s1=c.s2,c.s2=n-(c.c=n|0)},c.c=1,c.s0=o(" "),c.s1=o(" "),c.s2=o(" "),c.s0-=o(u),c.s0<0&&(c.s0+=1),c.s1-=o(u),c.s1<0&&(c.s1+=1),c.s2-=o(u),c.s2<0&&(c.s2+=1),o=null}function y(u,c){return c.c=u.c,c.s0=u.s0,c.s1=u.s1,c.s2=u.s2,c}function E(u,c){var o=new H(u),n=c&&c.state,r=o.next;return r.int32=function(){return o.next()*4294967296|0},r.double=function(){return r()+(r()*2097152|0)*11102230246251565e-32},r.quick=r,n&&(typeof n=="object"&&y(n,o),r.state=function(){return y(o,{})}),r}function m(){var u=4022871197,c=function(o){o=String(o);for(var n=0;n<o.length;n++){u+=o.charCodeAt(n);var r=.02519603282416938*u;u=r>>>0,r-=u,r*=u,u=r>>>0,r-=u,u+=r*4294967296}return(u>>>0)*23283064365386963e-26};return c}Ee&&Ee.exports?Ee.exports=E:this.alea=E})(Ue,me)})(bt);var er=bt.exports,wt={exports:{}};wt.exports;(function(me){(function(se,Ee,M){function H(m){var u=this,c="";u.x=0,u.y=0,u.z=0,u.w=0,u.next=function(){var n=u.x^u.x<<11;return u.x=u.y,u.y=u.z,u.z=u.w,u.w^=u.w>>>19^n^n>>>8},m===(m|0)?u.x=m:c+=m;for(var o=0;o<c.length+64;o++)u.x^=c.charCodeAt(o)|0,u.next()}function y(m,u){return u.x=m.x,u.y=m.y,u.z=m.z,u.w=m.w,u}function E(m,u){var c=new H(m),o=u&&u.state,n=function(){return(c.next()>>>0)/4294967296};return n.double=function(){do var r=c.next()>>>11,t=(c.next()>>>0)/4294967296,e=(r+t)/(1<<21);while(e===0);return e},n.int32=c.next,n.quick=n,o&&(typeof o=="object"&&y(o,c),n.state=function(){return y(c,{})}),n}Ee&&Ee.exports?Ee.exports=E:this.xor128=E})(Ue,me)})(wt);var tr=wt.exports,yt={exports:{}};yt.exports;(function(me){(function(se,Ee,M){function H(m){var u=this,c="";u.next=function(){var n=u.x^u.x>>>2;return u.x=u.y,u.y=u.z,u.z=u.w,u.w=u.v,(u.d=u.d+362437|0)+(u.v=u.v^u.v<<4^(n^n<<1))|0},u.x=0,u.y=0,u.z=0,u.w=0,u.v=0,m===(m|0)?u.x=m:c+=m;for(var o=0;o<c.length+64;o++)u.x^=c.charCodeAt(o)|0,o==c.length&&(u.d=u.x<<10^u.x>>>4),u.next()}function y(m,u){return u.x=m.x,u.y=m.y,u.z=m.z,u.w=m.w,u.v=m.v,u.d=m.d,u}function E(m,u){var c=new H(m),o=u&&u.state,n=function(){return(c.next()>>>0)/4294967296};return n.double=function(){do var r=c.next()>>>11,t=(c.next()>>>0)/4294967296,e=(r+t)/(1<<21);while(e===0);return e},n.int32=c.next,n.quick=n,o&&(typeof o=="object"&&y(o,c),n.state=function(){return y(c,{})}),n}Ee&&Ee.exports?Ee.exports=E:this.xorwow=E})(Ue,me)})(yt);var rr=yt.exports,Et={exports:{}};Et.exports;(function(me){(function(se,Ee,M){function H(m){var u=this;u.next=function(){var o=u.x,n=u.i,r,t;return r=o[n],r^=r>>>7,t=r^r<<24,r=o[n+1&7],t^=r^r>>>10,r=o[n+3&7],t^=r^r>>>3,r=o[n+4&7],t^=r^r<<7,r=o[n+7&7],r=r^r<<13,t^=r^r<<9,o[n]=t,u.i=n+1&7,t};function c(o,n){var r,t=[];if(n===(n|0))t[0]=n;else for(n=""+n,r=0;r<n.length;++r)t[r&7]=t[r&7]<<15^n.charCodeAt(r)+t[r+1&7]<<13;for(;t.length<8;)t.push(0);for(r=0;r<8&&t[r]===0;++r);for(r==8?t[7]=-1:t[r],o.x=t,o.i=0,r=256;r>0;--r)o.next()}c(u,m)}function y(m,u){return u.x=m.x.slice(),u.i=m.i,u}function E(m,u){m==null&&(m=+new Date);var c=new H(m),o=u&&u.state,n=function(){return(c.next()>>>0)/4294967296};return n.double=function(){do var r=c.next()>>>11,t=(c.next()>>>0)/4294967296,e=(r+t)/(1<<21);while(e===0);return e},n.int32=c.next,n.quick=n,o&&(o.x&&y(o,c),n.state=function(){return y(c,{})}),n}Ee&&Ee.exports?Ee.exports=E:this.xorshift7=E})(Ue,me)})(Et);var ir=Et.exports,St={exports:{}};St.exports;(function(me){(function(se,Ee,M){function H(m){var u=this;u.next=function(){var o=u.w,n=u.X,r=u.i,t,e;return u.w=o=o+1640531527|0,e=n[r+34&127],t=n[r=r+1&127],e^=e<<13,t^=t<<17,e^=e>>>15,t^=t>>>12,e=n[r]=e^t,u.i=r,e+(o^o>>>16)|0};function c(o,n){var r,t,e,s,l,a=[],f=128;for(n===(n|0)?(t=n,n=null):(n=n+"\0",t=0,f=Math.max(f,n.length)),e=0,s=-32;s<f;++s)n&&(t^=n.charCodeAt((s+32)%n.length)),s===0&&(l=t),t^=t<<10,t^=t>>>15,t^=t<<4,t^=t>>>13,s>=0&&(l=l+1640531527|0,r=a[s&127]^=t+l,e=r==0?e+1:0);for(e>=128&&(a[(n&&n.length||0)&127]=-1),e=127,s=4*128;s>0;--s)t=a[e+34&127],r=a[e=e+1&127],t^=t<<13,r^=r<<17,t^=t>>>15,r^=r>>>12,a[e]=t^r;o.w=l,o.X=a,o.i=e}c(u,m)}function y(m,u){return u.i=m.i,u.w=m.w,u.X=m.X.slice(),u}function E(m,u){m==null&&(m=+new Date);var c=new H(m),o=u&&u.state,n=function(){return(c.next()>>>0)/4294967296};return n.double=function(){do var r=c.next()>>>11,t=(c.next()>>>0)/4294967296,e=(r+t)/(1<<21);while(e===0);return e},n.int32=c.next,n.quick=n,o&&(o.X&&y(o,c),n.state=function(){return y(c,{})}),n}Ee&&Ee.exports?Ee.exports=E:this.xor4096=E})(Ue,me)})(St);var nr=St.exports,Mt={exports:{}};Mt.exports;(function(me){(function(se,Ee,M){function H(m){var u=this,c="";u.next=function(){var n=u.b,r=u.c,t=u.d,e=u.a;return n=n<<25^n>>>7^r,r=r-t|0,t=t<<24^t>>>8^e,e=e-n|0,u.b=n=n<<20^n>>>12^r,u.c=r=r-t|0,u.d=t<<16^r>>>16^e,u.a=e-n|0},u.a=0,u.b=0,u.c=-1640531527,u.d=1367130551,m===Math.floor(m)?(u.a=m/4294967296|0,u.b=m|0):c+=m;for(var o=0;o<c.length+20;o++)u.b^=c.charCodeAt(o)|0,u.next()}function y(m,u){return u.a=m.a,u.b=m.b,u.c=m.c,u.d=m.d,u}function E(m,u){var c=new H(m),o=u&&u.state,n=function(){return(c.next()>>>0)/4294967296};return n.double=function(){do var r=c.next()>>>11,t=(c.next()>>>0)/4294967296,e=(r+t)/(1<<21);while(e===0);return e},n.int32=c.next,n.quick=n,o&&(typeof o=="object"&&y(o,c),n.state=function(){return y(c,{})}),n}Ee&&Ee.exports?Ee.exports=E:this.tychei=E})(Ue,me)})(Mt);var ar=Mt.exports,Xt={exports:{}};const or={},sr=Object.freeze(Object.defineProperty({__proto__:null,default:or},Symbol.toStringTag,{value:"Module"})),fr=Kt(sr);(function(me){(function(se,Ee,M){var H=256,y=6,E=52,m="random",u=M.pow(H,y),c=M.pow(2,E),o=c*2,n=H-1,r;function t(h,d,p){var _=[];d=d==!0?{entropy:!0}:d||{};var g=a(l(d.entropy?[h,i(Ee)]:h??f(),3),_),b=new e(_),w=function(){for(var A=b.g(y),R=u,B=0;A<c;)A=(A+B)*H,R*=H,B=b.g(1);for(;A>=o;)A/=2,R/=2,B>>>=1;return(A+B)/R};return w.int32=function(){return b.g(4)|0},w.quick=function(){return b.g(4)/4294967296},w.double=w,a(i(b.S),Ee),(d.pass||p||function(A,R,B,T){return T&&(T.S&&s(T,b),A.state=function(){return s(b,{})}),B?(M[m]=A,R):A})(w,g,"global"in d?d.global:this==M,d.state)}function e(h){var d,p=h.length,_=this,g=0,b=_.i=_.j=0,w=_.S=[];for(p||(h=[p++]);g<H;)w[g]=g++;for(g=0;g<H;g++)w[g]=w[b=n&b+h[g%p]+(d=w[g])],w[b]=d;(_.g=function(A){for(var R,B=0,T=_.i,z=_.j,F=_.S;A--;)R=F[T=n&T+1],B=B*H+F[n&(F[T]=F[z=n&z+R])+(F[z]=R)];return _.i=T,_.j=z,B})(H)}function s(h,d){return d.i=h.i,d.j=h.j,d.S=h.S.slice(),d}function l(h,d){var p=[],_=typeof h,g;if(d&&_=="object")for(g in h)try{p.push(l(h[g],d-1))}catch{}return p.length?p:_=="string"?h:h+"\0"}function a(h,d){for(var p=h+"",_,g=0;g<p.length;)d[n&g]=n&(_^=d[n&g]*19)+p.charCodeAt(g++);return i(d)}function f(){try{var h;return r&&(h=r.randomBytes)?h=h(H):(h=new Uint8Array(H),(se.crypto||se.msCrypto).getRandomValues(h)),i(h)}catch{var d=se.navigator,p=d&&d.plugins;return[+new Date,se,p,se.screen,i(Ee)]}}function i(h){return String.fromCharCode.apply(0,h)}if(a(M.random(),Ee),me.exports){me.exports=t;try{r=fr}catch{}}else M["seed"+m]=t})(typeof self<"u"?self:Ue,[],Math)})(Xt);var lr=Xt.exports,ur=er,hr=tr,cr=rr,dr=ir,pr=nr,vr=ar,lt=lr;lt.alea=ur;lt.xor128=hr;lt.xorwow=cr;lt.xorshift7=dr;lt.xor4096=pr;lt.tychei=vr;var Ar=lt;export{Mr as L,gr as _,mr as a,_r as b,Lt as c,br as d,yr as e,pt as f,Qt as g,Ue as h,Er as i,Sr as j,$t as l,wr as r,Ar as s};
